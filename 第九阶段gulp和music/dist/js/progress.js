!function(t){t.progess={Progess:class{constructor(t){this.audio=t,this.totalTime=0,this.audioId=null,this.getDom()}init(t){this.totalTime=t,this.totalDom.innerHTML=this.formatTime(this.totalTime||0)}getDom(){this.currentDom=document.querySelector(".curTime"),this.totalDom=document.querySelector(".totalTime"),this.circleDom=document.querySelector(".circle"),this.frontBgDom=document.querySelector(".frontBg"),this.dragDom=document.querySelector(".drag"),this.event()}move(){var e=this;this.stop(),this.audio.paused||function t(){console.log(444),e.currentDom.innerHTML=e.formatTime(e.audio.currentTime||0),e.circleDom.style.transform=`translateX(${e.audio.currentTime/e.totalTime*e.circleDom.parentElement.offsetWidth}px)`,e.circleDom.transtate=e.audio.currentTime/e.totalTime*e.circleDom.parentElement.offsetWidth,e.frontBgDom.style.width=e.audio.currentTime/e.totalTime*100+"%",e.audioId=requestAnimationFrame(t)}()}stop(){cancelAnimationFrame(this.audioId)}updatedTime(t){this.audio.currentTime=t}formatTime(t){var e=Math.floor(Math.floor(t)/60),t=Math.ceil(t)%60;return(e=e<10?"0"+e:e)+":"+(t=t<10?"0"+t:t)}event(){var e=this;console.log(this.audio),this.dragDom.addEventListener("touchstart",function(t){t=(t.changedTouches[0].clientX-this.offsetLeft)/this.offsetWidth;e.circleDom.style.transform=`translateX(${t*e.circleDom.parentElement.offsetWidth}px)`,e.frontBgDom.style.width=100*t+"%",e.currentDom.innerHTML=e.formatTime(t*e.totalTime),e.updatedTime(t*e.totalTime)}),this.circleDom.addEventListener("touchstart",function(t){t.stopPropagation(),t.preventDefault(),this.classList.add("active"),this.disx=t.changedTouches[0].clientX,this.disOK=this.transtate||0,e.stop(),console.log(this.disOK)}),this.circleDom.addEventListener("touchmove",function(t){t.stopPropagation(),t.preventDefault();t=this.disOK+t.changedTouches[0].clientX-this.disx;t<=0?t=0:t>this.parentElement.offsetWidth&&(t=this.parentElement.offsetWidth),e.circleDom.style.transform=`translateX(${t}px)`,this.transtate=t,e.frontBgDom.style.width=t/this.parentElement.offsetWidth*100+"%",e.currentDom.innerHTML=e.formatTime(t/this.parentElement.offsetWidth*e.totalTime)}),this.circleDom.addEventListener("touchend",function(t){t.stopPropagation(),t.preventDefault(),this.classList.remove("active"),e.updatedTime(this.transtate/this.parentElement.offsetWidth*e.totalTime),e.move()})}}}}(window.player||(window.player={}));