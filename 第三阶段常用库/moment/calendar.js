<!DOCTYPE html>
<html lang='zh-CN'>
<head>
<title>dist/calendar.js · 自由的巨浪/calendar.js - Gitee.com</title>
<meta content='on' http-equiv='x-dns-prefetch-control'>
<link href='//e.gitee.com' rel='dns-prefetch'>
<link href='//files.gitee.com' rel='dns-prefetch'>
<link href='//toscode.gitee.com' rel='dns-prefetch'>
<link href='https://assets.gitee.com' rel='dns-prefetch'>
<link href='https://portrait.gitee.com' rel='dns-prefetch'>
<link href="https://assets.gitee.com/assets/favicon-9007bd527d8a7851c8330e783151df58.ico" rel="shortcut icon" type="image/vnd.microsoft.icon" />
<link href="https://gitee.com/yaohaixiao/calendar.js" rel="canonical" />
<meta content='gitee.com/yaohaixiao/calendar.js git https://gitee.com/yaohaixiao/calendar.js.git' name='go-import'>
<meta charset='utf-8'>
<meta content='always' name='referrer'>
<meta content='Gitee' property='og:site_name'>
<meta content='Object' property='og:type'>
<meta content='http://gitee.com/yaohaixiao/calendar.js/blob/master/dist/calendar.js' property='og:url'>
<meta content='https://gitee.com/static/images/logo_themecolor.png' itemprop='image' property='og:image'>
<meta content='dist/calendar.js · 自由的巨浪/calendar.js - Gitee.com' itemprop='name' property='og:title'>
<meta content='一个简单实用的 JavaScript 日历控件！原生 JavaScript 编写，不依赖任何第三方库。支持日期、月份和年份试图切换；支持单选、多选、范围和星期选择模式；界面简介、配置简单、使用方便！' property='og:description'>
<meta content='码云,Gitee,代码托管,Git,Git@OSC,Gitee.com,开源,内源,项目管理,版本控制,开源代码,代码分享,项目协作,开源项目托管,免费代码托管,Git代码托管,Git托管服务' name='Keywords'>
<meta content='一个简单实用的 JavaScript 日历控件！原生 JavaScript 编写，不依赖任何第三方库。支持日期、月份和年份试图切换；支持单选、多选、范围和星期选择模式；界面简介、配置简单、使用方便！' itemprop='description' name='Description'>

<meta content="IE=edge" http-equiv="X-UA-Compatible" />
<meta content="authenticity_token" name="csrf-param" />
<meta content="dLhxAY+CJEFqWsGXD4Ljg3fpV7zjhGqeD+pcKy13Ek8=" name="csrf-token" />

<link href="https://assets.gitee.com/assets/application-cda981d082c3daf90b01bce6adfc4198.css" media="all" rel="stylesheet" />
<script>
//<![CDATA[
window.gon = {};gon.locale="zh-CN";gon.sentry_dsn=null;gon.baidu_register_hm_push=null;gon.sensor={"server_url":"https://haveaniceday.gitee.com:3443/sa?project=production","page_type":"其他"};gon.info={"controller_path":"blob","action_name":"show","current_user":false};gon.tour_env={"current_user":null,"action_name":"show","original_url":"http://gitee.com/yaohaixiao/calendar.js/blob/master/dist/calendar.js","controller_path":"blob"};gon.http_clone="https://gitee.com/yaohaixiao/calendar.js.git";gon.user_project="yaohaixiao/calendar.js";gon.manage_branch="管理分支";gon.manage_tag="管理标签";gon.enterprise_id=0;gon.create_reaction_path="/yaohaixiao/calendar.js/reactions";gon.ref="master";
//]]>
</script>
<script src="https://assets.gitee.com/assets/static/sensor-5984a2e9c24e9047ba28a1ddc8442b67.js"></script>
<script src="https://assets.gitee.com/assets/static/sentry-5.1.0-a823fb0be1b61c5d7ca4a89f0536cb0a.js"></script>
<script src="https://assets.gitee.com/assets/application-6c594d6b2f960e9f047834b51d08d2a5.js"></script>
<script src="https://assets.gitee.com/assets/lib/jquery.timeago.zh-CN-4a4818e98c1978d2419ab19fabcba740.js"></script>

<link href="https://assets.gitee.com/assets/projects/application-705b8d764a3d4201795216aad0ed4b70.css" media="all" rel="stylesheet" />
<script src="https://assets.gitee.com/assets/projects/app-0aa53556df33b88528e27d7834a80fee.js"></script>

<script src="//res.wx.qq.com/open/js/jweixin-1.2.0.js"></script>
<script>
  var title = document.title.replace(/( - Gitee| - 码云)$/, '')
      imgUrl = '';
  
  document.addEventListener('DOMContentLoaded', function(event) {
    var imgUrlEl = document.querySelector('.readme-box .markdown-body > img, .readme-box .markdown-body :not(a) > img');
    imgUrl = imgUrlEl && imgUrlEl.getAttribute('src');
  
    if (!imgUrl) {
      imgUrlEl = document.querySelector('meta[itemprop=image]');
      imgUrl = imgUrlEl && imgUrlEl.getAttribute('content');
      imgUrl = imgUrl || "https://gitee.com/static/images/logo_themecolor.png";
    }
  
    wx.config({
      debug: false,
      appId: "wxff219d611a159737",
      timestamp: "1625982271",
      nonceStr: "677389feeeba4e4a7df476d12ee833be",
      signature: "c9b08f4a9cd54d38619b1a0b74bc4bf071362a01",
      jsApiList: [
        'onMenuShareTimeline',
        'onMenuShareAppMessage'
      ]
    });
  
    wx.ready(function () {
      wx.onMenuShareTimeline({
        title: title, // 分享标题
        link: "https://gitee.com/yaohaixiao/calendar.js/blob/master/dist/calendar.js", // 分享链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致
        imgUrl: imgUrl // 分享图标
      });
      wx.onMenuShareAppMessage({
        title: title, // 分享标题
        link: "https://gitee.com/yaohaixiao/calendar.js/blob/master/dist/calendar.js", // 分享链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致
        desc: document.querySelector('meta[name=Description]').getAttribute('content'),
        imgUrl: imgUrl // 分享图标
      });
    });
    wx.error(function(res){
      console.error('err', res)
    });
  })
</script>

<script type='text/x-mathjax-config'>
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [["$$","$$"],["\\[","\\]"]],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
    ignoreClass: "container|files",
    processClass: "markdown-body"
  }
});
</script>
<script src="https://assets.gitee.com/uploads/resources/MathJax-2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

<script>
  (function () {
    var messages = {
      'zh-CN': {
        addResult: '增加 <b>{term}</b>',
        count: '已选择 {count}',
        maxSelections: '最多 {maxCount} 个选择',
        noResults: '未找到结果',
        serverError: '连接服务器时发生错误'
      },
      'zh-TW': {
        addResult: '增加 <b>{term}</b>',
        count: '已選擇 {count}',
        maxSelections: '最多 {maxCount} 個選擇',
        noResults: '未找到結果',
        serverError: '連接服務器時發生錯誤'
      }
    }
  
    if (messages[gon.locale]) {
      $.fn.dropdown.settings.message = messages[gon.locale]
    }
  }());
</script>

<script>
  var userAgent = navigator.userAgent;
  var isLessIE11 = userAgent.indexOf('compatible') > -1 && userAgent.indexOf('MSIE') > -1;
  if(isLessIE11){
    var can_access = ""
    if (can_access != "true"){
      window.location.href = "/incompatible.html";
    }
  }
  document.addEventListener("error", function (ev) {
    var elem = ev.target;
    if (elem.tagName.toLowerCase() === 'img') {
      elem.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAAAAACIM/FCAAACh0lEQVR4Ae3ch5W0OgyG4dt/mQJ2xgQPzJoM1m3AbALrxzrf28FzsoP0HykJEEAAAUQTBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEkKK0789+GK/I2ezfQB522PnS1qc8pGgXvr4tE4aY0XOUWlGImThWgyCk6DleixzE7qwBkg/MGiDPlVVAyp1VQGrPKiACDhFI6VkF5LmzCki+sg7IwDoglnVAil0IMkeG9CyUiwsxLFUVFzJJOQaKCjFCDN9RXMjIX7W6ztZXZDKKCyn8sWJvH+nca7WHDN9lROlAliPH9iRKCPI4cswFJQWxB46toLQgQ9jhn5QYZA9DOkoMUoQde5YapAxDWkoNYsOQR3KQd9CxUnIQF4S49CB9ENKlBxmDEKsFUgMCCCCAAHIrSF61f6153Ajy8nyiPr8L5MXnmm4CyT2fzN4DUvHZ+ntA2tOQBRBAAAEEEEAAAQQQ7ZBaC6TwSiDUaYHQ2yuB0MN+ft+43whyrs4rgVCjBUKTFshLC6TUAjGA3AxSaYFYLZBOC2RUAsk8h5qTg9QcbEoOsoQhQ2qQhsO5xCD5dgB5JQaZ+KBKGtKecvR81Ic0ZDjByKdDx0rSEDZ/djQbH+bkIdvfJFm98BfV8hD2zprfVdlu9PxVeyYAkciREohRAplJCaRSAplJCcQogTjSAdlyHRBvSAekJR0QRzogA+mADJkOiCPSAPEtqYBshlRAXC43hxix2QiOuEZkVERykGyNo9idIZKE0HO7XrG6OiMShlDWjstVzdPgXtUH9v0CEidAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQP4HgjZxTpdEii0AAAAASUVORK5CYII=";
    }
  }, true);
</script>
</head>

<body class='git-project lang-zh-CN large'>
<header class='common-header fixed noborder' id='git-header-nav'>
<div class='ui container'>
<div class='ui menu header-menu header-container'>
<div class='git-nav-expand-bar'>
<i class='iconfont icon-mode-table'></i>
</div>
<div class='gitee-nav__sidebar'>
<div class='gitee-nav__sidebar-container'>
<div class='gitee-nav__sidebar-top'>
<div class='gitee-nav__avatar-box'></div>
<div class='gitee-nav__buttons-box'>
<a class="ui button small fluid orange" href="/login">登录</a>
<a class="ui button small fluid basic is-register" href="/signup">注册</a>
</div>
</div>
<div class='gitee-nav__sidebar-middle'>
<div class='gitee-nav__sidebar-list'>
<ul>
<li class='gitee-nav__sidebar-item'>
<a href="/explore"><i class='iconfont icon-ic-discover'></i>
<span class='gitee-nav__sidebar-name'>开源软件</span>
</a></li>
<li class='gitee-nav__sidebar-item'>
<a href="/enterprises"><i class='iconfont icon-ic-enterprise'></i>
<span class='gitee-nav__sidebar-name'>企业版</span>
</a></li>
<li class='gitee-nav__sidebar-item'>
<a href="/education"><i class='iconfont icon-ic-education'></i>
<span class='gitee-nav__sidebar-name'>高校版</span>
</a></li>
<li class='gitee-nav__sidebar-item split-line'></li>
<li class='gitee-nav__sidebar-item'>
<a href="/search"><i class='iconfont icon-ic-search'></i>
<span class='gitee-nav__sidebar-name'>搜索</span>
</a></li>
<li class='gitee-nav__sidebar-item'>
<a href="/help"><i class='iconfont icon-help-circle'></i>
<span class='gitee-nav__sidebar-name'>帮助中心</span>
</a></li>
<li class='gitee-nav__sidebar-item'>
<a href="/terms"><i class='iconfont icon-file'></i>
<span class='gitee-nav__sidebar-name'>使用条款</span>
</a></li>
<li class='gitee-nav__sidebar-item'>
<a href="/about_us"><i class='iconfont icon-issuepx'></i>
<span class='gitee-nav__sidebar-name'>关于我们</span>
</a></li>
</ul>
</div>
</div>
<div class='gitee-nav__sidebar-bottom'>
<div class='gitee-nav__sidebar-close-button'>
<i class='fa fa-angle-double-left'></i>
</div>
</div>
</div>
</div>

<div class='item gitosc-logo'>
<a href="/"><img alt='Gitee — 基于 Git 的代码托管和研发协作平台' class='ui inline image' height='28' src='/static/images/logo.svg?t=158106664' title='Gitee — 基于 Git 的代码托管和研发协作平台' width='95'>
<img alt='Gitee — 基于 Git 的代码托管和研发协作平台' class='ui inline black image' height='28' src='/static/images/logo-black.svg?t=158106664' title='Gitee — 基于 Git 的代码托管和研发协作平台' width='95'>
</a></div>
<a class="item " href="/explore" title="开源软件">开源软件
</a><a class="item " href="/enterprises" title="企业版">企业版
<sup class='ui red label'>
特惠
</sup>
</a><a class="item " href="/education" title="高校版">高校版
</a><a class="item" href="https://blog.gitee.com/" id="gitee-blog" target="_blank" title="博客">博客
</a><div class='center responsive-logo'>
<a href="/"><img alt='Gitee — 基于 Git 的代码托管和研发协作平台' class='ui inline image' height='24' src='/static/images/logo.svg?t=158106664' title='Gitee — 基于 Git 的代码托管和研发协作平台' width='85'>
<img alt='Gitee — 基于 Git 的代码托管和研发协作平台' class='ui inline black image' height='24' src='/static/images/logo-black.svg?t=158106664' title='Gitee — 基于 Git 的代码托管和研发协作平台' width='85'>
</a></div>
<div class='right menu userbar right-header' id='git-nav-user-bar'>
<form accept-charset="UTF-8" action="/search" class="ui item" data-text-filter="搜索格式不正确" data-text-require="搜索关键字不能少于1个" id="navbar-search-form" method="get"><div style="display:none"><input name="utf8" type="hidden" value="&#x2713;" /></div>
<input id="navbar-search-type" name="type" type="hidden" />
<input id="fork_filter" name="fork_filter" type="hidden" value="on" />
<div class='ui search header-search'>
<input class="prompt" id="navbar-search-input" name="q" placeholder="搜开源" type="text" value="" />
</div>
</form>

<script>
  var can_search_in_repo = 1,
      repo = "VG1wRk1FNUVhM2RQUjBVelRtcE9iV0UzTmpObWE3NjNm",
      reponame = "yaohaixiao/calendar.js";
  
  $(function() {
    var $search = $('#navbar-search-form .ui.search');
    $search.search({
      apiSettings: {
        url: '/search/relative_project?q={query}',
        onResponse: function (res) {
          if (res && res.status === 200 && res.data) {
            var query = htmlSafe($search.search('get value'));
  
            res.data.map(function (item) {
              item.path_ns = '/' + item.path_ns;
              item.icon = 'iconfont icon-project-public';
            });
            res.data.unshift({
              name_ns: "在全站搜索 <b class='hl'>" + query +"</b> 相关项目",
              path_ns: '/search?fork_filter=on&q=' + query,
              icon: 'iconfont icon-search'
            });
            return res;
          } else {
            return { data: [] };
          }
        }
      },
      fields: {
        results: 'data',
        description: 'name_ns',
        url: 'path_ns',
        icon: 'icon'
      },
      minCharacters: 1,
      maxResults: 10,
      searchDelay: 250,
      showNoResults: false,
      transition: 'fade'
    });
  });
</script>

<div class='ui item' id='feature-update-notice'>
<div class='notice-update-icon'>
<a class="notice-update-popup click-knowed" href="javascript:void(0)" title=""><img alt="功能更新" class="bubl_icon bubl-off-icon" src="https://assets.gitee.com/assets/bulb_off-24ee940be20998aace89a3f040cbc704.svg" title="" />
<img alt="功能更新" class="bubl_icon bubl-on-icon" src="https://assets.gitee.com/assets/bulb_on-3986b1dc417285398e3d15671bd8f261.svg" title="" />
</a></div>
<div class='feature-update-notice-panel menu'>
<div class='notice-img'>
<img alt="" class="notice-img-show" src="" title="" />
</div>
<div class='notice-update-title'></div>
<div class='notice-update-des'></div>
<div class='notice-btn-list d-flex-between'>
<button class="ui basic orange button btn-notice btn-knowed click-knowed" name="button" style="margin-right: 0" type="button">我知道了</button>
<a class="ui button orange btn-notice btn-details click-knowed" href="" target="_blank">查看详情</a>
</div>
</div>
</div>

<a class="item git-nav-user__login-item" href="/login" sa_evt="login_show" sa_referrer_action="站导航右上角-登录按钮" sa_referrer_type="其他" sa_referrer_url="">登录
</a><a class="item git-nav-user__register-item" href="/signup" sa_evt="register_show" sa_referrer_action="站导航右上角-注册按钮" sa_referrer_type="其他" sa_referrer_url="">注册
</a><script>
  $('.destroy-user-session').on('click', function() {
    $.cookie('access_token', null, { path: '/' });
  })
</script>

</div>
</div>
</div>
</header>
<script>
  Gitee.initNavbar()
  Gitee.initRepoRemoteWay()
  $.cookie('user_locale',null)
</script>

<script>
  var userAgent = navigator.userAgent;
  var isLessIE11 = userAgent.indexOf('compatible') > -1 && userAgent.indexOf('MSIE') > -1;
  if(isLessIE11){
    var can_access = ""
    if (can_access != "true"){
      window.location.href = "/incompatible.html";
    }
  }
</script>

<div class='fixed-notice-infos'>
<div class='all-messages'>
</div>
<div class='ui container'>
<div class='flash-messages' id='messages-container'></div>
</div>
<script>
  (function() {
    $(function() {
      var $error_box, alertTip, notify_content, notify_options, template;
      template = '<div data-notify="container" class="ui {0} message" role="alert">' + '<i data-notify="dismiss" class="close icon"></i>' + '<span data-notify="message">{2}</span>' + '</div>';
      notify_content = null;
      notify_options = {};
      alertTip = '';
      $error_box = $(".flash_error.flash_error_box");
      if (notify_options.type === 'error' && $error_box.length > 0 && !$.isEmptyObject(notify_content.message)) {
        if (notify_content.message === 'captcha_fail') {
          alertTip = "验证码不正确";
        } else if (notify_content.message === 'captcha_expired') {
          alertTip = "验证码已过期，请点击刷新";
        } else if (notify_content.message === 'not_found_in_database') {
          alertTip = "帐号或者密码错误";
        } else if (notify_content.message === 'not_found_and_show_captcha') {
          alertTip = "帐号或者密码错误";
        } else if (notify_content.message === 'phone_captcha_fail') {
          alertTip = "手机验证码不通过";
        } else {
          alertTip = notify_content.message;
        }
        return $error_box.html(alertTip).show();
      } else if (notify_content) {
        if ("show" === 'third_party_binding') {
          return $('#third_party_binding-message').html(notify_content.message).addClass('ui message red');
        }
        notify_options.delay = 3000;
        notify_options.template = template;
        notify_options.offset = {
          x: 10,
          y: 30
        };
        notify_options.element = '#messages-container';
        return $.notify(notify_content, notify_options);
      }
    });
  
  }).call(this);
</script>

</div>
<script>
  (function() {
    $(function() {
      var setCookie;
      setCookie = function(name, value) {
        $.cookie(name, value, {
          path: '/',
          expires: 365
        });
      };
      $('#remove-bulletin, #remove-bulletin-dashboard').on('click', function() {
        setCookie('remove_bulletin', "gitee-maintain-1625066668");
        $('#git-bulletin').hide();
      });
      $('#remove-member-bulletin').on('click', function() {
        setCookie('remove_member_bulletin', "gitee_member_bulletin");
        $(this).parent().hide();
      });
      return $('#remove-gift-bulletin').on('click', function() {
        setCookie('remove_gift_bulletin', "gitee-gift-bulletin");
        $(this).parent().hide();
      });
    });
  
  }).call(this);
</script>
<script>
  function closeMessageBanner(pthis, type, val) {
    var json = {}
  
    val = typeof val === 'undefined' ? null : val
    $(pthis).parent().remove()
    if (type === 'out_of_enterprise_member') {
      json = {type: type, data: val}
    } else if (type === 'enterprise_overdue') {
      json = {type: type, data: val}
    }
    $.post('/profile/close_flash_tip', json)
  }
</script>

<div class='site-content'>
<div class='git-project-header'>
<div class='fixed-notice-infos'>
<div class='ui info icon floating message green' id='fetch-ok' style='display: none'>
<div class='content'>
<div class='header status-title'>
<i class='info icon status-icon'></i>
代码拉取完成，页面将自动刷新
</div>
</div>
</div>
<div class='ui info icon floating message error' id='fetch-error' style='display: none'>
<div class='content'>
<div class='header status-title'>
<i class='info icon status-icon'></i>
<span class='error_msg'></span>
</div>
</div>
</div>
</div>
<div class='ui container'>
<div class='git-project-categories'>
<a href="/explore">开源项目</a>
<span class='symbol'>></span>
<a href="/explore/web-app-develop">WEB应用开发</a>
<span class='symbol'>&gt;</span>
<a href="/explore/javascript-toolkits">JavaScript工具包</a>
<span class='symbol and-symbol'>&&</span>
</div>

<div class='git-project-header-details'>
<div class='git-project-header-container'>
<div class='git-project-header-actions'>
<div class='ui tiny modal project-donate-modal' id='project-donate-modal'>
<i class='iconfont icon-close close'></i>
<div class='header'>捐赠</div>
<div class='content'>
捐赠前请先登录
</div>
<div class='actions'>
<a class='ui blank button cancel'>取消</a>
<a class='ui orange ok button' href='/login'>前往登录</a>
</div>
</div>
<div class='ui small modal wepay-qrcode'>
<i class='iconfont icon-close close'></i>
<div class='header'>
扫描微信二维码支付
<span class='wepay-cash'></span>
</div>
<div class='content weqcode-center'>
<img id='wepay-qrcode' src=''>
</div>
<div class='actions'>
<div class='ui cancel blank button'>取消</div>
<div class='ui ok orange button'>
支付完成
</div>
</div>
</div>
<div class='ui mini modal' id='confirm-alipay-modal'>
<div class='header'>支付提示</div>
<div class='content'>
将跳转至支付宝完成支付
</div>
<div class='actions'>
<div class='ui approve orange button'>
确定
</div>
<div class='ui blank cancel button'>
取消
</div>
</div>
</div>

<span class='ui buttons basic watch-container'>
<div class='ui dropdown button js-project-watch' data-watch-type='unwatch'>
<input type='hidden' value=''>
<i class='iconfont icon-watch'></i>
<div class='text'>
Watch
</div>
<i class='dropdown icon'></i>
<div class='menu'>
<a class="item" data-method="post" data-value="unwatch" href="/yaohaixiao/calendar.js/unwatch" rel="nofollow" sa_evt="loginInform_show" sa_referrer_action="Watch" sa_referrer_type="其他" sa_referrer_url=""><i class='iconfont icon-msg-read'></i>
不关注
</a><a class="item" data-method="post" data-value="watching" href="/yaohaixiao/calendar.js/watch" rel="nofollow" sa_evt="loginInform_show" sa_referrer_action="Watch" sa_referrer_type="其他" sa_referrer_url=""><i class='iconfont icon-msg-read'></i>
关注所有动态
</a><a class="disabled item" data-method="post" data-value="releases_only" href="/yaohaixiao/calendar.js/release_only_watch" rel="nofollow" sa_evt="loginInform_show" sa_referrer_action="Watch" sa_referrer_type="其他" sa_referrer_url=""><i class='iconfont icon-msg-read'></i>
仅关注版本发行动态
</a><a class="item" data-method="post" data-value="ignoring" href="/yaohaixiao/calendar.js/ignoring_watch" rel="nofollow" sa_evt="loginInform_show" sa_referrer_action="Watch" sa_referrer_type="其他" sa_referrer_url=""><i class='iconfont icon-msg-read'></i>
关注但不提醒动态
</a></div>
</div>
<style>
  .js-project-watch .text .iconfont {
    display: none; }
  .js-project-watch a, .js-project-watch a:hover {
    color: #000; }
  .js-project-watch .item > .iconfont {
    visibility: hidden;
    margin-left: -10px; }
  .js-project-watch .selected .iconfont {
    visibility: visible; }
  .js-project-watch .menu {
    margin-top: 4px !important; }
</style>
<script>
  $('.js-project-watch').dropdown({
    action: 'select',
    onChange: function(value, text, $selectedItem) {
      var type = value === 'unwatch' ? 'Watch' : 'Watching';
      $(this).children('.text').text(type);
      $(this).dropdown('set selected', value)
    }
  });
</script>

<a class="ui button action-social-count" href="/yaohaixiao/calendar.js/watchers" title="15">15
</a></span>
<span class='basic buttons star-container ui'>
<a class="ui button star" href="/login" sa_evt="loginInform_show" sa_referrer_action="Star" sa_referrer_type="其他" sa_referrer_url=""><i class='iconfont icon-star'></i>
Star
</a><a class="ui button action-social-count " href="/yaohaixiao/calendar.js/stargazers" title="97">97
</a></span>
<span class='ui basic buttons fork-container' title='无权 Fork 此仓库'>
<a class="ui button fork" href="/login" sa_evt="loginInform_show" sa_referrer_action="Fork" sa_referrer_type="其他" sa_referrer_url="" title="你必须登录后才可以fork一个仓库"><i class='iconfont icon-fork'></i>
Fork
</a><a class="ui button action-social-count disabled-style" href="/yaohaixiao/calendar.js/members" title="18">18
</a></span>
</div>
<h2 class='git-project-title'>
<span class="project-title"><i class="project-icon iconfont icon-project-public" title="这是一个公开仓库"></i> <a class="author" href="/yaohaixiao" title="自由的巨浪">自由的巨浪</a> / <a class="repository" href="/yaohaixiao/calendar.js" sa_evt="repoClick" sa_location="其他" sa_repo_id="6144908" sa_url="" style="padding-bottom: 0px" target="" title="calendar.js">calendar.js</a></span><span class="project-badges"><a class="git-project-recommend-badge" href="/explore" title="已被推荐"><i class='iconfont icon-recommended'></i>
</a><style>
  .gitee-modal {
    width: 500px !important; }
</style>
</span>
<input id="recomm_at" name="recomm_at" type="hidden" value="2019-06-18 11:31" />
<input id="project_title" name="project_title" type="hidden" value="自由的巨浪/calendar.js" />
</h2>
</div>
</div>
</div>
<script>
  var title_import_url = "false";
  var title_post_url = "/yaohaixiao/calendar.js/update_import";
  var title_fork_url = "/yaohaixiao/calendar.js/sync_fork";
  var title_project_path = "calendar.js";
  var title_p_name = "calendar.js";
  var title_p_id= "6144908";
  var title_description = "一个简单实用的 JavaScript 日历控件！原生 JavaScript 编写，不依赖任何第三方库。支持日期、月份和年份试图切换；支持单选、多选、范围和星期选择模式；界面简介、配置简单、使用方便！";
  var title_form_authenticity_token = "dLhxAY+CJEFqWsGXD4Ljg3fpV7zjhGqeD+pcKy13Ek8=";
  var watch_type = "unwatch";
  
  $('.js-project-watch').dropdown('set selected', watch_type);
  $('.checkbox.sync-wiki').checkbox();
</script>
<style>
  i.loading {
    -webkit-animation: icon-loading 1.2s linear infinite;
    animation: icon-loading 1.2s linear infinite;
  }
  .qrcode_cs {
    float: left;
  }
  .check-sync-wiki {
    float: left;
    height: 28px;
    line-height: 28px;
  }
  .sync-wiki-warn {
    color: #e28560;
  }
</style>

<div class='git-project-nav'>
<div class='ui container'>
<div class='ui secondary pointing menu'>
<a class="item active" href="/yaohaixiao/calendar.js"><i class='iconfont icon-code'></i>
代码
</a><a class="item " href="/yaohaixiao/calendar.js/issues"><i class='iconfont icon-task'></i>
Issues
<span class='ui mini circular label'>
0
</span>
</a><a class="item big-wide " href="/yaohaixiao/calendar.js/pulls"><i class='iconfont icon-pull-request'></i>
Pull Requests
<span class='ui mini circular label'>
0
</span>
</a><a class="item " href="/yaohaixiao/calendar.js/wikis"><i class='iconfont icon-wiki'></i>
Wiki
</a><a class="item  " href="/yaohaixiao/calendar.js/graph/master"><i class='iconfont icon-statistics'></i>
统计
</a><div class='item project-devops-item'>
<div class='ui pointing top right dropdown project-devops-dropdown'>
<div class='text'>
<i class='iconfont icon-devops'></i>
DevOps
</div>
<i class='dropdown icon'></i>
<div class='menu' style='display:none'>
<a class="item" href="/yaohaixiao/calendar.js/gitee_go"><img alt="Giteego" src="https://assets.gitee.com/assets/giteego-7ec42270742374f05850d0d3ad09e303.png" />
<div class='item-title'>
Gitee Go
</div>
</a><a class="item" href="https://gitee.com/help/articles/4285" target="_blank"><img alt="Baidu efficiency cloud" src="https://assets.gitee.com/assets/baidu_efficiency_cloud-81a98c2eb67fac83b1453ca3d2feb326.svg" />
<div class='item-title'>
百度效率云
</div>
</a><a class="item" href="https://gitee.com/help/articles/4318" target="_blank"><img alt="Cloudbase" src="https://assets.gitee.com/assets/cloudbase-1197b95ea3398aff1df7fe17c65a6d42.png?20200925" />
<div class='item-title'>
腾讯云托管
</div>
</a><a class="item" href="https://gitee.com/help/articles/4330" target="_blank"><img alt="Cloud serverless" src="https://assets.gitee.com/assets/cloud_serverless-686cf926ced5d6d2f1d6e606d270b81e.png" />
<div class='item-title'>
腾讯云 Serverless
</div>
</a><a class="item" href="https://gitee.com/help/articles/4193" target="_blank"><img alt="Jenkins for gitee" src="https://assets.gitee.com/assets/jenkins_for_gitee-554ec65c490d0f1f18de632c48acc4e7.png" />
<div class='item-title'>
Jenkins for Gitee
</div>
</a></div>
</div>
</div>
<div class='item'>
<div class='ui pointing top right dropdown git-project-service'>
<div class='text'>
<i class='iconfont icon-service'></i>
服务
</div>
<i class='dropdown icon'></i>
<div class='menu' style='display:none'>
<a class="item" href="/yaohaixiao/calendar.js/pages"><img alt="Logo en" src="/static/images/logo-en.svg" />
<div class='item-title'>
Gitee Pages
</div>
</a><a class="item" href="/yaohaixiao/calendar.js/quality_analyses?platform=sonar_qube"><img alt="Sonar mini" src="https://assets.gitee.com/assets/sonar_mini-5e1b54bb9f6c951d97fb778ef623afea.png" />
<div class='item-title'>
质量分析
</div>
</a><a class="item" href="/yaohaixiao/calendar.js/quality_analyses?platform=codesafe"><img alt="Codesafe mini" src="https://assets.gitee.com/assets/codesafe_mini-accbe1e555e9864c552620240d10e4de.png" width="100%" />
<div class='item-title'>
奇安信代码卫士
</div>
</a><a class="item" href="/yaohaixiao/calendar.js/gitee_scans"><img alt="Giteescan" src="https://assets.gitee.com/assets/giteescan-cd9ab4076bd751faf7e30888eb10f782.png" />
<div class='item-title'>Gitee Scan</div>
</a><button class='ui orange basic button quit-button' id='quiting-button'>
我知道了，不再自动展开
</button>
</div>
</div>
</div>
</div>
</div>
</div>
<script>
  $('.git-project-nav .ui.dropdown').dropdown({ action: 'nothing' });
</script>
<style>
  .git-project-nav i.checkmark.icon {
    color: green;
  }
  #quiting-button {
    display: none;
  }
  
  .git-project-nav .dropdown .menu.hidden:after {
    visibility: hidden !important;
  }
</style>
<script>
  isSignIn = false
  isClickGuide = false
  $('#git-versions.dropdown').dropdown();
  $.ajax({
    url:"/yaohaixiao/calendar.js/access/add_access_log",
    type:"GET"
  });
  $('#quiting-button').on('click',function() {
    $('.git-project-service').click();
    if (isSignIn) {
      $.post("/projects/set_service_guide")
    }
    $.cookie("Serve_State", true, { expires: 3650, path: '/'})
    $('#quiting-button').hide();
  });
  if (!(isClickGuide || $.cookie("Serve_State") == 'true')) {
    $('.git-project-service').click()
    $('#quiting-button').show()
  }
</script>

</div>
<div class='ui container'>
<div class='register-guide'>
<div class='register-container'>
<div class='regist'>
加入 Gitee
</div>
<div class='description'>
与超过 600 万 开发者一起发现、参与优秀开源项目，私有仓库也完全免费 ：）
</div>
<a class="ui orange button free-registion" href="/signup?from=project-guide" sa_evt="register_show" sa_referrer_action="免费加入" sa_referrer_type="其他" sa_referrer_url="">免费加入</a>
<div class='login'>
已有帐号？
<a href="/login?from=project-guide">立即登录</a>
</div>
</div>
</div>

<div class='git-project-content-wrapper'>
<div class='ui grid' id='project-wrapper'>
<div class='sixteen wide column'>
<div class='git-project-content' id='git-project-content'>
<div class='row'>
<div class='git-project-desc-wrapper'>
<script>
  if (false) {
    gon.project_new_blob_path = "/yaohaixiao/calendar.js/new/master/dist/calendar.js"
    bindShowModal({
      el: $('.no-license .project-license__create'),
      complete: function(data, modal) {
        if (!data.haveNoChoice && !data.data) {
          Flash.show('请选择一项开源许可证')
        } else {
          location.href = gon.project_new_blob_path + '?license=' + data.data
        }
      },
      skip: function () {
        location.href = gon.project_new_blob_path + '?license'
      }
    });
  }
  
  $('i.help.circle.icon').popup({
    popup: '.no-license .ui.popup',
    position: 'right center'
  });
  
  $('#remove-no-license-message').on('click', function() {
    $.cookie("skip_repo_no_license_message_6144908", 'hide', { expires: 365 });
    $('#user-no-license-message').hide();
    return;
  });
</script>
</div>

</div>
<div class='git-project-bread' id='git-project-bread'>
<div class='ui horizontal list mr-1'>
<div class='item git-project-branch-item'>
<input id="path" name="path" type="hidden" value="dist/calendar.js" />
<div class='ui top left pointing dropdown gradient button dropdown-has-tabs' id='git-project-branch'>
<input id="ref" name="ref" type="hidden" value="master" />
<div class='default text'>
master
</div>
<i class='dropdown icon'></i>
<div class='menu'>
<div class='ui left icon search input'>
<i class='iconfont icon-search'></i>
<input class='search-branch' placeholder='搜索分支' type='text'>
</div>
<div class='tab-menu'>
<div class='tab-menu-action' data-tab='branches'>
<a class="ui link button" href="/yaohaixiao/calendar.js/branches">管理</a>
</div>
<div class='tab-menu-action' data-tab='tags'>
<a class="ui link button" href="/yaohaixiao/calendar.js/tags">管理</a>
</div>
<div class='tab-menu-item' data-placeholder='搜索分支' data-tab='branches'>
分支 (2)
</div>
<div class='tab-menu-item' data-placeholder='搜索标签' data-tab='tags'>
标签 (4)
</div>
</div>
<div class='tab scrolling menu' data-tab='branches'>
<div class="item" data-value="master"><span>master</span> <i class="iconfont icon-shieldlock protected-branch-popup" data-content="保护规则： master" data-title="受保护分支"></i></div>
<div class="item" data-value="develop"><span>develop</span></div>
</div>
<div class='tab scrolling menu' data-tab='tags'>
<div class='item' data-value='v0.4.1'>v0.4.1</div>
<div class='item' data-value='v0.4.0'>v0.4.0</div>
<div class='item' data-value='v0.2.0'>v0.2.0</div>
<div class='item' data-value='v0.1.1'>v0.1.1</div>
</div>
</div>
</div>
<style>
  .iconfont.icon-shieldlock {
    color: #8c92a4;
  }
</style>

<script>
  $(function () {
    Gitee.initTabsInDropdown($('#git-project-branch').dropdown({
      fullTextSearch: true,
      selectOnKeydown: true,
      action: function (text,value,el) {
        var oItemOrInitObject = el[0] || el
        var isNotSelect = oItemOrInitObject.dataset.tab && oItemOrInitObject.dataset.tab === 'branches'
        if(isNotSelect){
          console.warn("You didn't choose a branch")
          return
        } 
        var path = $('#path').val();
        var href = ['/yaohaixiao/calendar.js/tree', encodeURIComponent(value), path].join('/');
        window.location.href = href;
        return true
      },
      onNoResults: function (searchTerm) {
        //未找到结果
        return true
      },
    }));
    $('.protected-branch-popup').popup()
  })
</script>

</div>
</div>
<div class='git-project-right-actions pull-right'>
<div class='ui orange button' id='btn-dl-or-clone'>
克隆/下载
<i class='dropdown icon'></i>
</div>
<div class='git-project-download-panel for-project ui bottom right popup'>
<div class='ui small secondary pointing menu'>
<a class='item active' data-text='' data-type='http' data-url='https://gitee.com/yaohaixiao/calendar.js.git'>HTTPS</a>
<a class='item' data-text='' data-type='ssh' data-url='git@gitee.com:yaohaixiao/calendar.js.git'>SSH</a>
<a class='item' data-text="该仓库未启用SVN访问，请仓库管理员前往【&lt;a target='_blank' href=/yaohaixiao/calendar.js/settings&gt;仓库设置&lt;/a&gt;】开启。" data-type='svn' data-url=''>SVN</a>
<a class='item' data-text="该仓库未启用SVN访问，请仓库管理员前往【&lt;a target='_blank' href=/yaohaixiao/calendar.js/settings&gt;仓库设置&lt;/a&gt;】开启。" data-type='svn_ssh' data-url=''>SVN+SSH</a>
</div>
<div class='ui fluid right labeled small input download-url-panel'>
<input id="project_clone_url" name="project_clone_url" onclick="focus();select()" readonly="readonly" type="text" value="https://gitee.com/yaohaixiao/calendar.js.git" />
<div class='ui basic label'>
<div class='ui small basic orange button' data-clipboard-target='#project_clone_url' id='btn-copy-clone-url'>
复制
</div>
</div>
</div>
<div class='ui fluid right labeled warning-text forbid-warning-text'>

</div>
<hr>
<a class="ui fluid download link button" href="javascript:void(0);" sa_evt="loginInform_show" sa_referrer_action="克隆/下载" sa_referrer_type="其他" sa_referrer_url=""><i class='icon download'></i>
下载ZIP
</a><div class='download_repository_zip form modal tiny ui' id='unlanding-complaint-modal'>
<i class='iconfont icon-close close'></i>
<div class='header'>
登录提示
</div>
<div class='container actions'>
<div class='content'>
该操作需登录 Gitee 帐号，请先登录后再操作。
</div>
<div class='ui orange icon large button ok'>
立即登录
</div>
<div class='ui button blank cancel'>
没有帐号，去注册
</div>
</div>
</div>
<script>
  var $elm = $('.download');
  
  $elm.on('click', function() {
    var modals = $("#unlanding-complaint-modal.download_repository_zip");
    if (modals.length > 1) {
      modals.eq(0).modal('show');
    } else {
      modals.modal('show');
    }
  })
  $("#unlanding-complaint-modal.download_repository_zip").modal({
    onDeny: function() {
      window.location.href = "/signup?from=download_repository_zip";
    },
    onApprove: function() {
      window.location.href = "/login?from=download_repository_zip";
    }
  })
</script>

</div>
<script>
  (function() {
    var $btnClone, $btnCopy, $input, $panel;
  
    $btnClone = $('#btn-dl-or-clone');
  
    $panel = $('.git-project-download-panel');
  
    $input = $('#project_clone_url');
  
    $btnCopy = $('#btn-copy-clone-url');
  
    $btnClone.popup({
      on: 'click',
      hoverable: true,
      position: 'bottom center'
    });
  
    $panel.find('.menu > .item').on('click', function(e) {
      var $item, dataUrl;
      $item = $(this).addClass('active');
      $item.siblings().removeClass('active');
      dataUrl = $item.attr('data-url');
      if (dataUrl) {
        $panel.find('.download-url-panel').show();
        $input.val(dataUrl);
        $panel.find('.forbid-warning-text').html('');
      } else {
        $panel.find('.download-url-panel').hide();
        $panel.find('.forbid-warning-text').html($item.attr('data-text') || '');
      }
      return $.cookie('remote_way', $item.attr('data-type'), {
        expires: 365,
        path: '/'
      });
    }).filter('[data-type="' + ($.cookie('remote_way') || 'http') + '"]').trigger('click');
  
    new Clipboard($btnCopy[0]).on('success', function() {
      $btnCopy.popup({
        content: '已复制',
        position: 'right center',
        onHidden: function() {
          return $btnCopy.popup('destroy');
        }
      });
      return $btnCopy.popup('show');
    });
  
  }).call(this);
</script>

</div>
<div class='d-inline pull-right' id='git-project-root-actions'>
<script>
  $('.disabled-upload-readonly').popup({
    content: "只读目录不允许上传文件",
    className: {
      popup: 'ui popup',
    },
    position: 'bottom center',
  })
  $('.disabled-create-folder').popup({
    content: "只读目录不允许创建目录",
    className: {
      popup: 'ui popup',
    },
    position: 'bottom center',
  })
  $('.disabled-create-file').popup({
    content: "只读目录不允许创建文件",
    className: {
      popup: 'ui popup',
    },
    position: 'bottom center',
  })
  $('.disabled-upload-readonly').click(function() {
    return false
  })
  $('.disabled-create-folder').click(function() {
    return false
  })
  $('.disabled-create-file').click(function() {
    return false
  })
</script>
<style>
  .disabled-upload-readonly, .disabled-create-file, .disabled-create-folder {
    background-color: #dcddde !important;
    color: rgba(0, 0, 0, 0.4) !important;
    opacity: 0.3 !important;
    background-image: none !important;
    -webkit-box-shadow: none !important;
            box-shadow: none !important; }
</style>


</div>
<div class='breadcrumb_path path-breadcrumb-contrainer' id='git-project-breadcrumb'>
<div class='ui breadcrumb path project-path-breadcrumb' id='path-breadcrumb'>
<a class="section repo-name" data-direction="back" href="/yaohaixiao/calendar.js/tree/master" style="font-weight: bold">calendar.js
</a><div class='divider'>
/
</div>
<strong>
<a class="section" data-direction="back" href="/yaohaixiao/calendar.js/tree/master/dist"><span class='cblue'>
dist
</span>
</a></strong>
<div class='divider'>
/
</div>
<strong>
calendar.js
</strong>
<i class='iconfont icon-clone' data-clipboard-text='dist/calendar.js' id='btn-copy-file-path'></i>
</div>
<style>
  #btn-copy-file-path {
    vertical-align: middle;
    cursor: pointer;
  }
</style>
<script>
  $btnCopy = $('#btn-copy-file-path')
  $btnCopy.popup({
    content: '复制路径'
  })
  
  if ($btnCopy[0]) {
    new Clipboard($btnCopy[0]).on('success', function() {
      $btnCopy.popup('destroy').popup({
        content: '已复制',
        on: 'manual'
      }).popup('show');
      setTimeout(function () {
        $btnCopy.popup('destroy').popup({
          content: '复制路径'
        });
      }, 2000)
    });
  }
</script>


</div>
<div class='ui horizontal list repo-action-list branches-tags' style='display: none;'>
<div class='item'>
<a class="ui blank button" href="/yaohaixiao/calendar.js/branches"><i class='iconfont icon-branches'></i>
分支 2
</a></div>
<div class='item mr-3'>
<a class="ui blank button" href="/yaohaixiao/calendar.js/tags"><i class='iconfont icon-tag'></i>
标签 4
</a></div>
</div>
</div>
<script>
  if(window.gon.locale == 'en')
    $('.branches-tags').css('margin-top', '12px')
</script>

<style>
  .ui.dropdown .menu > .header {
    text-transform: none; }
</style>
<script>
  $(function () {
    var $tip = $('#apk-download-tip');
    if (!$tip.length) {
      return;
    }
    $tip.find('.btn-close').on('click', function () {
      $tip.hide();
    });
  });
  (function(){
    function pathAutoRender() {
      var $parent = $('#git-project-bread'),
          $child = $('#git-project-bread').children('.ui.horizontal.list'),
          mainWidth = 0;
      $child.each(function (i,item) {
        mainWidth += $(item).width()
      });
      $('.breadcrumb.path.fork-path').remove();
      if (mainWidth > 995) {
        $('#path-breadcrumb').hide();
        $parent.append('<div class="ui breadcrumb path fork-path">' + $('#path-breadcrumb').html() + '<div/>')
      } else {
        $('#path-breadcrumb').show();
      }
    }
    window.pathAutoRender = pathAutoRender;
    pathAutoRender();
  })();
</script>

<div class='row column tree-holder' id='tree-holder'>
<div class='tree-content-holder' id='tree-content-holder'>
<div class='file_holder'>
<div class='file_title'>
<div class='blob-header-title'>
<div class='blob-description'>
<i class="iconfont icon-file"></i>
<span class='file_name' title='calendar.js'>
calendar.js
</span>
<small>88.06 KB</small>
</div>
<div class='options'><div class='ui mini buttons basic'>

<textarea id="blob_raw" name="blob_raw" style="display:none;">
;(function(root, factory) {&#x000A;  if (typeof define === &#39;function&#39; &amp;&amp; define.amd) {&#x000A;    define([], factory);&#x000A;  } else if (typeof exports === &#39;object&#39;) {&#x000A;    module.exports = factory();&#x000A;  } else {&#x000A;    root.Calendar = factory();&#x000A;  }&#x000A;}(this, function() {&#x000A;&quot;use strict&quot;;&#x000A;&#x000A;function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(&quot;Cannot call a class as a function&quot;); } }&#x000A;&#x000A;function _defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (&quot;value&quot; in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }&#x000A;&#x000A;function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }&#x000A;&#x000A;/**&#x000A; * Calendar 类&#x000A; */&#x000A;var Calendar =&#x000A;/*#__PURE__*/&#x000A;function () {&#x000A;  /**&#x000A;   * 构造函数&#x000A;   * ========================================================================&#x000A;   * @constructor&#x000A;   * @param {Object} [options] - 日历控件的配置参数&#x000A;   * @param [options.parent] - 日历显示的位置（DOM 节点 ID）&#x000A;   * @param [options.time] - 日历初始化显示的时间&#x000A;   * @param [options.viewMode] - 日历的试图模式：0 - 日期试图（默认值）&#x000A;   *                                           1 - 月份试图&#x000A;   *                                           2 - 年代试图&#x000A;   * @param [options.pickMode] - 日历的日期选择模式: single - 单选模式（默认值）&#x000A;   *                                               multiple - 多选模式&#x000A;   *                                               range - 范围选择模式&#x000A;   *                                               week - 星期选择模式&#x000A;   * @param [options.hasSwitcher] - 是否显示上下切换按钮（默认值：true）&#x000A;   * @param [options.hasFooter] - 是否显示日历页脚（默认值：true）&#x000A;   * @param [options.hasClock] - 是否显示当前时间（默认值：true）&#x000A;   * @param [options.onDatePick] - 选择日期后的自定义事件处理器&#x000A;   * @param [options.onMonthPick] - 选择月份后的自定义事件处理器&#x000A;   * @param [options.onYearPick] - 选择年份后的自定义事件处理器&#x000A;   * @param [options.onTodayPick] - 点击当前日期的自定义事件处理器&#x000A;   * @param [options.MONTHS] - 月份常量（格式：去年11/12月 + 今天月份 + 明年1/2月）&#x000A;   * @param [options.DAYS] - 星期常量（周日为一周的第一天，周六为一周的最后一天）&#x000A;   * @param [options.DATES] - 月份天数常量（2月为28天，闰年则 28 + 1）&#x000A;   * @param [options.STYLES] - 日历控件的样式常量&#x000A;   * @returns {Calendar}&#x000A;   */&#x000A;  function Calendar(options) {&#x000A;    _classCallCheck(this, Calendar);&#x000A;&#x000A;    /**&#x000A;     * Calendar 控件的配置属性&#x000A;     * ========================================================================&#x000A;     */&#x000A;    this.attributes = {&#x000A;      // 日历显示的位置（DOM 节点 ID）&#x000A;      parent: &#39;&#39;,&#x000A;      // 日历初始化显示的时间&#x000A;      time: &#39;&#39;,&#x000A;      // 日历的试图模式：&#x000A;      // 0 - 日期试图（默认值）&#x000A;      // 1 - 月份试图&#x000A;      // 2 - 年代试图&#x000A;      viewMode: 0,&#x000A;      // 日历的日期选择模式&#x000A;      // single - 单选模式（默认值）&#x000A;      // multiple - 多选模式&#x000A;      // range - 范围选择模式&#x000A;      // week - 星期选择模式&#x000A;      pickMode: &#39;single&#39;,&#x000A;      // 是否显示上下切换按钮（默认值：true）&#x000A;      hasSwitcher: true,&#x000A;      // 是否显示日历页脚（默认值：true）&#x000A;      hasFooter: true,&#x000A;      // 是否显示当前时间（默认值：true）&#x000A;      hasClock: true,&#x000A;      // 选择日期后的自定义事件处理器&#x000A;      // time - 选中的日期时间范围&#x000A;      // $el - 点击的 DOM 节点&#x000A;      // calendar - 日历控件的实例&#x000A;      // onDatePick: function (time, $el, calendar) {&#x000A;      //   console.log(&#39;选择时间：&#39; + time)&#x000A;      //   console.log(&#39;选择的 DOM 节点：&#39; + $el)&#x000A;      //   console.log(&#39;日历实例：&#39; + calendar)&#x000A;      // },&#x000A;      onDatePick: null,&#x000A;      // 选择月份后的自定义事件处理器&#x000A;      // time - 选中的日期时间&#x000A;      // $el - 点击的 DOM 节点&#x000A;      // calendar - 日历控件的实例&#x000A;      // onMonthPick: function (time, $el, calendar) {&#x000A;      //   console.log(&#39;选择时间：&#39;, time)&#x000A;      //   console.log(&#39;选择DOM：&#39;, $el)&#x000A;      //   console.log(&#39;日历实例：&#39;, calendar)&#x000A;      // }&#x000A;      onMonthPick: null,&#x000A;      // 选择年份后的自定义事件处理器&#x000A;      // time - 选中的日期时间&#x000A;      // $el - 点击的 DOM 节点&#x000A;      // calendar - 日历控件的实例&#x000A;      // onYearPick: function (time, $el, calendar) {&#x000A;      //   console.log(&#39;选择时间：&#39;, time)&#x000A;      //   console.log(&#39;选择DOM：&#39;, $el)&#x000A;      //   console.log(&#39;日历实例：&#39;, calendar)&#x000A;      // }&#x000A;      onYearPick: null,&#x000A;      // 点击当前日期的自定义事件处理器&#x000A;      // time - 选中的日期时间&#x000A;      // $el - 点击的 DOM 节点&#x000A;      // calendar - 日历控件的实例&#x000A;      // onTodayPick: function (time, $el, calendar) {&#x000A;      //   console.log(&#39;选择时间：&#39;, time)&#x000A;      //   console.log(&#39;选择的 DOM 节点：&#39;, $el)&#x000A;      //   console.log(&#39;日历实例：&#39;, calendar)&#x000A;      // }&#x000A;      onTodayPick: null,&#x000A;      // 月份常量&#x000A;      MONTHS: [],&#x000A;      // 星期常量&#x000A;      DAYS: [],&#x000A;      // 月份天数常量&#x000A;      DATES: [],&#x000A;      // 日历控件的样式常量&#x000A;      STYLES: {}&#x000A;      /**&#x000A;       * Calendar 控件相关的 DOM 节点属性&#x000A;       * ========================================================================&#x000A;       */&#x000A;&#x000A;    };&#x000A;    this.elements = {&#x000A;      // 显示日历控件的父节点&#x000A;      parent: null,&#x000A;      // 日历控件的根节点&#x000A;      wrap: null,&#x000A;      // 日历控件的头部节点&#x000A;      header: null,&#x000A;      // 日历控件的标题节点&#x000A;      title: null,&#x000A;      // 日历控件的切换器节点&#x000A;      switcher: null,&#x000A;      // 日历控件向上切换按钮节点&#x000A;      prev: null,&#x000A;      // 日历控件向下切换按钮节点&#x000A;      next: null,&#x000A;      // 日历控件的主体内容节点&#x000A;      body: null,&#x000A;      // 日历控件的星期栏节点&#x000A;      week: null,&#x000A;      // 日历控件的日期显示节点&#x000A;      dates: null,&#x000A;      // 日历控件的月份显示节点&#x000A;      months: null,&#x000A;      // 日历控件的年代显示节点&#x000A;      years: null,&#x000A;      // 日历控件的页脚节点&#x000A;      footer: null,&#x000A;      // 日历控件的当前日期显示节点&#x000A;      today: null,&#x000A;      // 日历控件的当前时间显示节点&#x000A;      time: null&#x000A;      /**&#x000A;       * Calendar 控件相关的数据属性&#x000A;       * ========================================================================&#x000A;       */&#x000A;&#x000A;    };&#x000A;    this.data = {&#x000A;      // 日历可以显示的最小年份&#x000A;      minYear: 0,&#x000A;      // 日历可以显示的最大年份&#x000A;      maxYear: 0,&#x000A;      // 当前选中日期的年份&#x000A;      year: 0,&#x000A;      // 当前选中日期的月份&#x000A;      month: 0,&#x000A;      // 选中的日期信息&#x000A;      date: {&#x000A;        // 年份&#x000A;        year: 0,&#x000A;        // 月份&#x000A;        month: 0,&#x000A;        // 日期&#x000A;        date: 0,&#x000A;        // 星期几&#x000A;        day: 0,&#x000A;        // 日期的英文表示（格式：2019-6-2）&#x000A;        text: &#39;&#39;,&#x000A;        // 日期的完整中文表示（格式：2019年6月2日 星期日）&#x000A;        fullText: &#39;&#39;&#x000A;      },&#x000A;      // 多选（multiple/range/week）模式下，选中的日期数据&#x000A;      picked: [] // 执行初始化操作&#x000A;      // 绘制界面&#x000A;      // 绑定事件处理器&#x000A;&#x000A;    };&#x000A;    this.initialize(options).render().addEventListeners();&#x000A;    return this;&#x000A;  }&#x000A;  /**&#x000A;   * 初始化方法&#x000A;   * ========================================================================&#x000A;   * 1. 初始化配置信息；&#x000A;   * 2. 初始化数据信息；&#x000A;   * 3. 初始化 DOM 信息（创建控件相关的 DOM 节点）；&#x000A;   * ========================================================================&#x000A;   * @param {Object} options - 配置信息&#x000A;   * @see this.attributes&#x000A;   * @returns {Calendar}&#x000A;   */&#x000A;&#x000A;&#x000A;  _createClass(Calendar, [{&#x000A;    key: &quot;initialize&quot;,&#x000A;    value: function initialize(options) {&#x000A;      var year = Calendar.getYear().value;&#x000A;      var pickMode;&#x000A;      var time;&#x000A;      var month;&#x000A;      var monthText;&#x000A;      var dateRanges;&#x000A;      var startDate;&#x000A;      var endDate; // 初始化配置&#x000A;&#x000A;      this.set(Calendar.defaults).set(options);&#x000A;      time = this.get(&#39;time&#39;);&#x000A;      pickMode = this.get(&#39;pickMode&#39;);&#x000A;      month = Calendar.getMonth(time);&#x000A;      monthText = month.text; // 初始化数据&#x000A;&#x000A;      this.setYear(time).setMonth(time).setDate(time)._setYears(time); // 初始化（多选模式）选中的时间&#x000A;&#x000A;&#x000A;      switch (pickMode) {&#x000A;        case &#39;multiple&#39;:&#x000A;          this.data.picked.push(this.getDate().text);&#x000A;          break;&#x000A;&#x000A;        case &#39;range&#39;:&#x000A;          startDate = monthText + &#39;-&#39; + 1;&#x000A;          endDate = monthText + &#39;-&#39; + this.get(&#39;DATES&#39;)[month.value - 1]; // 默认选中整个月&#x000A;&#x000A;          this.data.picked = [startDate, endDate];&#x000A;          break;&#x000A;&#x000A;        case &#39;week&#39;:&#x000A;          dateRanges = Calendar.getWeekRanges(time);&#x000A;          startDate = dateRanges[0];&#x000A;          endDate = dateRanges[dateRanges.length - 1]; // 默认选中配置日期所在的那个星期&#x000A;&#x000A;          this.data.picked = [startDate, endDate];&#x000A;          break;&#x000A;      } // 设置日历控件可以显示的年份范围&#x000A;&#x000A;&#x000A;      this.data.minYear = year - 100;&#x000A;      this.data.maxYear = year + 100; // 创建控件相关的 DOM 节点&#x000A;&#x000A;      this._createElements();&#x000A;&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 绘制日历控件界面的方法&#x000A;     * ========================================================================&#x000A;     * @returns {Calendar}&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;render&quot;,&#x000A;    value: function render() {&#x000A;      var elements = this.getEls();&#x000A;      var $wrap = elements.wrap;&#x000A;      var $header = elements.header;&#x000A;      var $switcher = elements.switcher;&#x000A;      var $body = elements.body;&#x000A;      var $footer = elements.footer;&#x000A;      var $fragment = document.createDocumentFragment(); // 绘制头部&#x000A;&#x000A;      this._renderTitle();&#x000A;&#x000A;      $header.appendChild(elements.title); // 配置了显示上下切换按钮&#x000A;&#x000A;      if (this.get(&#39;hasSwitcher&#39;)) {&#x000A;        $switcher.appendChild(elements.prev);&#x000A;        $switcher.appendChild(elements.next);&#x000A;        $header.appendChild($switcher);&#x000A;      } // 绘制星期栏&#x000A;&#x000A;&#x000A;      this._renderDays();&#x000A;&#x000A;      $body.appendChild(elements.week); // 绘制日期&#x000A;&#x000A;      this._renderDates();&#x000A;&#x000A;      $body.appendChild(elements.dates); // 绘制月份&#x000A;&#x000A;      this._renderMonths();&#x000A;&#x000A;      $body.appendChild(elements.months); // 绘制年代&#x000A;&#x000A;      this._renderYears();&#x000A;&#x000A;      $body.appendChild(elements.years); // 配置了显示页脚&#x000A;&#x000A;      if (this.get(&#39;hasFooter&#39;)) {&#x000A;        // 绘制页脚&#x000A;        this._renderFooter();&#x000A;&#x000A;        $footer.appendChild(elements.today); // 配置了显示当前时间&#x000A;&#x000A;        if (this.get(&#39;hasClock&#39;)) {&#x000A;          $footer.appendChild(elements.time);&#x000A;        }&#x000A;      } // 将主体模块绘制出来&#x000A;&#x000A;&#x000A;      $wrap.appendChild($header);&#x000A;      $wrap.appendChild($body); // 配置了显示页脚&#x000A;&#x000A;      if (this.get(&#39;hasFooter&#39;)) {&#x000A;        $wrap.appendChild($footer);&#x000A;      } // 将控件零时保存在文档碎片中&#x000A;&#x000A;&#x000A;      $fragment.appendChild($wrap); // 一次性绘制出整个日历控件&#x000A;&#x000A;      elements.parent.appendChild($fragment);&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 给日历控件相关的 DOM 节点绑定事件处理器&#x000A;     * ========================================================================&#x000A;     * @returns {Calendar}&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;addEventListeners&quot;,&#x000A;    value: function addEventListeners() {&#x000A;      var DOT = &#39;.&#39;;&#x000A;      var STYLES = this.get(&#39;STYLES&#39;);&#x000A;      var CLICK = &#39;click&#39;;&#x000A;      var selectorTitle = DOT + STYLES.TITLE;&#x000A;      var selectorPrev = DOT + STYLES.PREV;&#x000A;      var selectorNext = DOT + STYLES.NEXT;&#x000A;      var selectorDate = DOT + STYLES.DATE;&#x000A;      var selectorMonth = DOT + STYLES.MONTH;&#x000A;      var selectorYear = DOT + STYLES.YEAR;&#x000A;      var selectorToday = DOT + STYLES.TODAY;&#x000A;      var Delegate = Calendar.Delegate;&#x000A;      var $wrap = this.getEls().wrap; // 绑定点击标题的事件处理器&#x000A;&#x000A;      Delegate.on($wrap, selectorTitle, CLICK, this._titleClick, this);&#x000A;&#x000A;      if (this.get(&#39;hasSwitcher&#39;)) {&#x000A;        // 绑定点击向上按钮的事件处理器&#x000A;        Delegate.on($wrap, selectorPrev, CLICK, this._prevClick, this); // 绑定点击向下按钮的事件处理器&#x000A;&#x000A;        Delegate.on($wrap, selectorNext, CLICK, this._nextClick, this);&#x000A;      } // 绑定点击日期的事件处理器&#x000A;&#x000A;&#x000A;      Delegate.on($wrap, selectorDate, CLICK, this._dateClick, this); // 绑定点击月份的事件处理器&#x000A;&#x000A;      Delegate.on($wrap, selectorMonth, CLICK, this._monthClick, this); // 绑定点击年份的事件处理器&#x000A;&#x000A;      Delegate.on($wrap, selectorYear, CLICK, this._yearClick, this);&#x000A;&#x000A;      if (this.get(&#39;hasClock&#39;)) {&#x000A;        // 绑定点击今天的事件处理器&#x000A;        Delegate.on($wrap, selectorToday, CLICK, this._todayClick, this);&#x000A;      }&#x000A;&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 重启日历控件&#x000A;     * ========================================================================&#x000A;     * 1. 销毁日历控件：&#x000A;     *    1.1 移除所有的绑定的事件处理器&#x000A;     *    1.2 隐藏控件&#x000A;     *    1.3 移除所有 DOM 节点&#x000A;     *    1.4 重置所有属性&#x000A;     * 2. 初始化控件&#x000A;     * 3. 绘制控件&#x000A;     * 4. 绑定事件处理起&#x000A;     * ========================================================================&#x000A;     * @param {Object} options - 配置信息&#x000A;     * @see this.attributes&#x000A;     * @returns {Calendar}&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;reload&quot;,&#x000A;    value: function reload(options) {&#x000A;      this.destroy().initialize(options).render().addEventListeners();&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 销毁日历控件&#x000A;     * ========================================================================&#x000A;     * 1 移除所有的绑定的事件处理器&#x000A;     * 2 隐藏控件&#x000A;     * 3 移除所有 DOM 节点&#x000A;     * 4 重置所有属性&#x000A;     * ========================================================================&#x000A;     * @returns {Calendar}&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;destroy&quot;,&#x000A;    value: function destroy() {&#x000A;      this.removeEventListeners().hide().remove().reset();&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 移除所有绑定的事件处理器&#x000A;     * ========================================================================&#x000A;     * @returns {Calendar}&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;removeEventListeners&quot;,&#x000A;    value: function removeEventListeners() {&#x000A;      var CLICK = &#39;click&#39;;&#x000A;      var Delegate = Calendar.Delegate;&#x000A;      var $wrap = this.getEls().wrap;&#x000A;      Delegate.off($wrap, CLICK, this._titleClick);&#x000A;&#x000A;      if (this.get(&#39;hasSwitcher&#39;)) {&#x000A;        Delegate.off($wrap, CLICK, this._prevClick);&#x000A;        Delegate.off($wrap, CLICK, this._nextClick);&#x000A;      }&#x000A;&#x000A;      Delegate.off($wrap, CLICK, this._dateClick);&#x000A;      Delegate.off($wrap, CLICK, this._monthClick);&#x000A;      Delegate.off($wrap, CLICK, this._yearClick);&#x000A;&#x000A;      if (this.get(&#39;hasClock&#39;)) {&#x000A;        Delegate.off($wrap, CLICK, this._todayClick);&#x000A;      }&#x000A;&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 移除所有 DOM 节点&#x000A;     * ========================================================================&#x000A;     * @returns {Calendar}&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;remove&quot;,&#x000A;    value: function remove() {&#x000A;      var elements = this.getEls();&#x000A;      elements.parent.removeChild(elements.wrap);&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 重置所有属性&#x000A;     * ========================================================================&#x000A;     * @returns {Calendar}&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;reset&quot;,&#x000A;    value: function reset() {&#x000A;      this.attributes = {&#x000A;        parent: &#39;&#39;,&#x000A;        time: &#39;&#39;,&#x000A;        viewMode: 0,&#x000A;        pickMode: &#39;single&#39;,&#x000A;        hasSwitcher: true,&#x000A;        hasFooter: true,&#x000A;        hasClock: true,&#x000A;        MONTHS: [],&#x000A;        DAYS: [],&#x000A;        DATES: [],&#x000A;        STYLES: {}&#x000A;      };&#x000A;      this.elements = {&#x000A;        parent: null,&#x000A;        wrap: null,&#x000A;        header: null,&#x000A;        title: null,&#x000A;        switcher: null,&#x000A;        prev: null,&#x000A;        next: null,&#x000A;        body: null,&#x000A;        week: null,&#x000A;        dates: null,&#x000A;        months: null,&#x000A;        years: null,&#x000A;        footer: null,&#x000A;        today: null,&#x000A;        time: null,&#x000A;        year: null,&#x000A;        month: null,&#x000A;        date: null&#x000A;      };&#x000A;      this.data = {&#x000A;        minYear: 0,&#x000A;        maxYear: 0,&#x000A;        years: {&#x000A;          start: 0,&#x000A;          end: 0&#x000A;        },&#x000A;        year: 0,&#x000A;        month: 0,&#x000A;        date: {&#x000A;          year: 0,&#x000A;          month: 0,&#x000A;          date: 0,&#x000A;          day: 0,&#x000A;          text: &#39;&#39;,&#x000A;          fullText: &#39;&#39;&#x000A;        },&#x000A;        picked: []&#x000A;      };&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 获取配置信息&#x000A;     * ========================================================================&#x000A;     * @param {String} attr - 配置属性名称&#x000A;     * @returns {*} - 返回对应属性的值&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;get&quot;,&#x000A;    value: function get(attr) {&#x000A;      return this.attributes[attr];&#x000A;    }&#x000A;    /**&#x000A;     * 设置配置信息&#x000A;     * ========================================================================&#x000A;     * @param {Object} [options] - 配置信息对象&#x000A;     * @returns {Calendar}&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;set&quot;,&#x000A;    value: function set() {&#x000A;      var options = arguments.length &gt; 0 &amp;&amp; arguments[0] !== undefined ? arguments[0] : {};&#x000A;      Object.assign(this.attributes, options);&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 获取日历控件所有相关的 DOM 节点的对象&#x000A;     * ========================================================================&#x000A;     * @see Calendar.elements&#x000A;     * @returns {Object}&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;getEls&quot;,&#x000A;    value: function getEls() {&#x000A;      return this.elements;&#x000A;    }&#x000A;    /**&#x000A;     * 获取日历控件当前显示的年份信息&#x000A;     * ========================================================================&#x000A;     * @returns {Number} - 返回日历控件当前显示的年份&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;getYear&quot;,&#x000A;    value: function getYear() {&#x000A;      return this.data.year;&#x000A;    }&#x000A;    /**&#x000A;     * 设置日历控件当前的年份&#x000A;     * ========================================================================&#x000A;     * @param {String|Number} [time] - 表示年份的字符串或数字（默认值：今年）&#x000A;     *                                 字符串格式：&#39;2019&#39;、&#39;2019-2&#39; 或 &#39;2019-2-2&#39;&#x000A;     *                                 数字格式：  1546300800000&#x000A;     * @returns {Calendar}&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;setYear&quot;,&#x000A;    value: function setYear(time) {&#x000A;      this.data.year = Calendar.getYear(time).value;&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 获得日历控件当前显示的月份信息&#x000A;     * ========================================================================&#x000A;     * @returns {Number} - 返回日历控件当前显示的月份&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;getMonth&quot;,&#x000A;    value: function getMonth() {&#x000A;      return this.data.month;&#x000A;    }&#x000A;    /**&#x000A;     * 设置日历控件当前显示的月份&#x000A;     * ========================================================================&#x000A;     * @param {String|Number} [time] - 表示月份的字符串或数字（默认值：本月）&#x000A;     * @returns {Calendar}&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;setMonth&quot;,&#x000A;    value: function setMonth(time) {&#x000A;      this.data.month = Calendar.getMonth(time).value;&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 获取日历控件当前选中的日期&#x000A;     * ========================================================================&#x000A;     * @returns {Object} - 返回日历控件当前选中的日期&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;getDate&quot;,&#x000A;    value: function getDate() {&#x000A;      return this.data.date;&#x000A;    }&#x000A;    /**&#x000A;     * 设置日历控件当前选中的日期&#x000A;     * ========================================================================&#x000A;     * @param {String|Number} [time] - 表示日期的字符串或者数字（默认值：今天）&#x000A;     * @returns {Calendar}&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;setDate&quot;,&#x000A;    value: function setDate(time) {&#x000A;      this.data.date = Calendar.getDate(time);&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 获取日历控件当前显示的年份所在的年代信息&#x000A;     * ========================================================================&#x000A;     * @returns {Object} - 返回当前所在年代信息&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;getYears&quot;,&#x000A;    value: function getYears() {&#x000A;      return this.data.years;&#x000A;    }&#x000A;    /**&#x000A;     * 获取日历控件在多选（multiple/range/week）模式下选中的日期信息&#x000A;     * ========================================================================&#x000A;     * @returns {Array} - 返回选中的日期信息&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;getPicked&quot;,&#x000A;    value: function getPicked() {&#x000A;      return this.data.picked;&#x000A;    }&#x000A;    /**&#x000A;     * 根据试图显示模式&#x000A;     * ========================================================================&#x000A;     * 1. 切换日历控件的显示模式&#x000A;     * 2. 更新显示内容&#x000A;     * ========================================================================&#x000A;     * @param {Number} viewMode - 显示模式的值：&#x000A;     *                            0 - 日期显示模式（默认值）&#x000A;     *                            1 - 月份显示模式&#x000A;     *                            2 - 年代显示模式&#x000A;     * @returns {Calendar}&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;update&quot;,&#x000A;    value: function update() {&#x000A;      var viewMode = arguments.length &gt; 0 &amp;&amp; arguments[0] !== undefined ? arguments[0] : 0;&#x000A;      this.updateViewMode(viewMode).updateView();&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 更新试图显示模式的配置信息&#x000A;     * ========================================================================&#x000A;     * @param {Number} viewMode - 显示模式的值（默认值：0）&#x000A;     * @see this.update&#x000A;     * @returns {Calendar}&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;updateViewMode&quot;,&#x000A;    value: function updateViewMode() {&#x000A;      var viewMode = arguments.length &gt; 0 &amp;&amp; arguments[0] !== undefined ? arguments[0] : 0;&#x000A;      var mode = viewMode;&#x000A;&#x000A;      if (mode &gt; 2) {&#x000A;        mode = 2;&#x000A;      } else {&#x000A;        if (mode &lt; 0) {&#x000A;          mode = 0;&#x000A;        }&#x000A;      }&#x000A;&#x000A;      this.set({&#x000A;        viewMode: mode&#x000A;      });&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 更新日历控件的显示内容&#x000A;     * ========================================================================&#x000A;     * 1. 更新标题内容&#x000A;     *    1.1 日期显示模式：显示年份和月份&#x000A;     *    1.2 月份显示模式：显示年份&#x000A;     *    1.3 年份显示模式：显示年代区间信息&#x000A;     * 2. 更细主体内容&#x000A;     *    2.1 日期显示模式：隐藏年份和月份的 DOM 节点，显示星期栏和日期信息&#x000A;     *    2.2 月份显示模式：隐藏年份、星期栏以及日期信息&#x000A;     *    2.3 年份显示模式：隐藏月份 DOM 节点、星期栏以及日期信息&#x000A;     * ========================================================================&#x000A;     * @returns {Calendar}&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;updateView&quot;,&#x000A;    value: function updateView() {&#x000A;      var STYLES = this.get(&#39;STYLES&#39;);&#x000A;      var CLS_HIDDEN = STYLES.HIDDEN;&#x000A;      var DOM = Calendar.DOM;&#x000A;      var addClass = DOM.addClass;&#x000A;      var removeClass = DOM.removeClass;&#x000A;      var elements = this.getEls();&#x000A;      var $week = elements.week;&#x000A;      var $dates = elements.dates;&#x000A;      var $months = elements.months;&#x000A;      var $years = elements.years;&#x000A;&#x000A;      this._renderTitle();&#x000A;&#x000A;      switch (this.get(&#39;viewMode&#39;)) {&#x000A;        // 日期显示模式&#x000A;        case 0:&#x000A;          addClass($months, CLS_HIDDEN);&#x000A;          addClass($years, CLS_HIDDEN);&#x000A;          removeClass($week, CLS_HIDDEN);&#x000A;          removeClass($dates, CLS_HIDDEN); // 重新绘制日期&#x000A;&#x000A;          this._repaintDates();&#x000A;&#x000A;          break;&#x000A;        // 月份显示模式&#x000A;&#x000A;        case 1:&#x000A;          addClass($week, CLS_HIDDEN);&#x000A;          addClass($dates, CLS_HIDDEN);&#x000A;          addClass($years, CLS_HIDDEN);&#x000A;          removeClass($months, CLS_HIDDEN); // 重新绘制月份&#x000A;&#x000A;          this._repaintMonths();&#x000A;&#x000A;          break;&#x000A;        // 年份显示模式&#x000A;&#x000A;        case 2:&#x000A;          addClass($week, CLS_HIDDEN);&#x000A;          addClass($dates, CLS_HIDDEN);&#x000A;          addClass($months, CLS_HIDDEN);&#x000A;          removeClass($years, CLS_HIDDEN); // 重新绘制年份&#x000A;&#x000A;          this._repaintYears();&#x000A;&#x000A;          break;&#x000A;      }&#x000A;&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 向上翻页&#x000A;     * ========================================================================&#x000A;     * 1. 日期显示模式：向上翻页，显示上一个月份的日期信息&#x000A;     * 2. 月份显示模式：向上翻页，显示上一年的月份信息&#x000A;     * 3. 年份显示模式：向上翻页，显示上一个年代（10前）的年份信息&#x000A;     * ========================================================================&#x000A;     * @returns {Calendar}&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;prev&quot;,&#x000A;    value: function prev() {&#x000A;      var years = this.getYears();&#x000A;      var startYear = years.start;&#x000A;      var year = this.getYear();&#x000A;      var month = this.getMonth();&#x000A;      var minYear = this.data.minYear;&#x000A;      var time; // 针对显示模式，处理相应的翻页逻辑&#x000A;&#x000A;      switch (this.get(&#39;viewMode&#39;)) {&#x000A;        // 日期显示模式&#x000A;        case 0:&#x000A;          // 切换月份&#x000A;          month -= 1; // 到了上一年，切换年份&#x000A;&#x000A;          if (month &lt; 1) {&#x000A;            month = 12;&#x000A;            year -= 1; // 确保不小于最小可以显示的年份&#x000A;&#x000A;            if (year &lt; minYear) {&#x000A;              year = minYear;&#x000A;            }&#x000A;          }&#x000A;&#x000A;          time = year + &#39;-&#39; + month + &#39;-1&#39;;&#x000A;          this.setYear(time).setMonth(time);&#x000A;          break;&#x000A;&#x000A;        case 1:&#x000A;          // 切换年份&#x000A;          year -= 1;&#x000A;&#x000A;          if (year &lt; minYear) {&#x000A;            year = minYear;&#x000A;          }&#x000A;&#x000A;          this.setYear(year + &#39;-1-1&#39;);&#x000A;          break;&#x000A;&#x000A;        case 2:&#x000A;          // 切换年代&#x000A;          startYear -= 10;&#x000A;&#x000A;          if (startYear &lt; minYear) {&#x000A;            startYear = minYear + 9;&#x000A;          }&#x000A;&#x000A;          this._setYears(startYear.toString());&#x000A;&#x000A;          break;&#x000A;      } // 更新显示内容&#x000A;&#x000A;&#x000A;      this.updateView();&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 向下翻页&#x000A;     * ========================================================================&#x000A;     * 1. 日期显示模式：向下翻页，显示下一个月份的日期信息&#x000A;     * 2. 月份显示模式：向下翻页，显示下一年的月份信息&#x000A;     * 3. 年份显示模式：向下翻页，显示下一个年代（10后）的年份信息&#x000A;     * ========================================================================&#x000A;     * @returns {Calendar}&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;next&quot;,&#x000A;    value: function next() {&#x000A;      var years = this.getYears();&#x000A;      var startYear = years.start;&#x000A;      var year = this.getYear();&#x000A;      var month = this.getMonth();&#x000A;      var maxYear = this.data.maxYear;&#x000A;      var time;&#x000A;&#x000A;      switch (this.get(&#39;viewMode&#39;)) {&#x000A;        case 0:&#x000A;          month += 1;&#x000A;&#x000A;          if (month &gt; 12) {&#x000A;            month = 1;&#x000A;            year += 1;&#x000A;&#x000A;            if (year &gt; maxYear) {&#x000A;              year = maxYear;&#x000A;            }&#x000A;          }&#x000A;&#x000A;          time = year + &#39;-&#39; + month + &#39;-1&#39;;&#x000A;          this.setYear(time).setMonth(time);&#x000A;          break;&#x000A;&#x000A;        case 1:&#x000A;          year += 1;&#x000A;&#x000A;          if (year &gt; maxYear) {&#x000A;            year = maxYear;&#x000A;          }&#x000A;&#x000A;          this.setYear(year + &#39;-1-1&#39;);&#x000A;          break;&#x000A;&#x000A;        case 2:&#x000A;          startYear += 10;&#x000A;&#x000A;          if (startYear &gt; maxYear) {&#x000A;            startYear = maxYear - 9;&#x000A;          }&#x000A;&#x000A;          this._setYears(startYear.toString());&#x000A;&#x000A;          break;&#x000A;      }&#x000A;&#x000A;      this.updateView();&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 选择日期&#x000A;     * ========================================================================&#x000A;     * 1. 选择了选中状态的日期：&#x000A;     *    1.1 星期区间和单选模式：不做任何处理&#x000A;     *    1.2 多选模式：取消选中 DOM 节点的选中状态，并且将选中的日期在选中信息移除&#x000A;     *    1.3 日期区间选择模式下：取消之前选中区间的选中样式，将当前选中的日期 DOM 节点&#x000A;     *        设置为选中状态。移除之前选中日期信息，并将选中日期信息保存起来&#x000A;     * 2. 选择了未选中状态的日期：&#x000A;     *    2.1 单选模式：获取选中日期信息，并用这个信息替换之前选中的信息。移除之前选中样&#x000A;     *        式，并设置当前选中日期的选中样式&#x000A;     *    2.2 多选模式：获取选中的日期信息，然后保存到选中信息中，最后设置选中日期的样式&#x000A;     *    2.3 日期区间选择模式下：&#x000A;     *    2.4 星期区间选择模式：获取当前选择日期的星期区间信息，移除之前保存的区间信息将&#x000A;     *        新的区间信息保存起来，移除之前的区间选中样式，并设置当前选中区间的选中样式&#x000A;     * ========================================================================&#x000A;     * @param {HTMLElement} $date - 选中的日期 DOM 节点&#x000A;     * @returns {*}&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;pickDate&quot;,&#x000A;    value: function pickDate($date) {&#x000A;      var STYLES = this.get(&#39;STYLES&#39;);&#x000A;      var CLS_PICKED = STYLES.PICKED;&#x000A;      var DOM = Calendar.DOM;&#x000A;      var hasClass = DOM.hasClass;&#x000A;      var addClass = DOM.addClass;&#x000A;      var removeClass = DOM.removeClass;&#x000A;      var isFunction = Calendar.Utils.isFunction;&#x000A;      var pickMode = this.get(&#39;pickMode&#39;);&#x000A;      var elements = this.getEls();&#x000A;      var time = $date.getAttribute(&#39;data-date&#39;);&#x000A;      var callback = this.get(&#39;onDatePick&#39;);&#x000A;      var $picked = null;&#x000A;      var pickedDates; // 选择了选中状态的日期&#x000A;&#x000A;      if (hasClass($date, CLS_PICKED)) {&#x000A;        switch (pickMode) {&#x000A;          // 单选/星期选择模式&#x000A;          case &#39;single&#39;:&#x000A;          case &#39;week&#39;:&#x000A;            return false;&#x000A;          // 多选模式&#x000A;&#x000A;          case &#39;multiple&#39;:&#x000A;            // 取消选中样式&#x000A;            removeClass($date, CLS_PICKED); // 移除选中的日期信息&#x000A;&#x000A;            this._removePicked(time); // 设置最后一个选中的时间为当前选中日期&#x000A;&#x000A;&#x000A;            pickedDates = this.getPicked();&#x000A;            this.setDate(pickedDates[pickedDates.length - 1]);&#x000A;&#x000A;            if (isFunction(callback)) {&#x000A;              callback(pickedDates, $date, this);&#x000A;            }&#x000A;&#x000A;            break;&#x000A;&#x000A;          case &#39;range&#39;:&#x000A;            // 清除之前选中的数据&#x000A;            this.data.picked = []; // 将当前选中的日期数据保存起来&#x000A;&#x000A;            this.data.picked.push(time);&#x000A;            this.setDate(time); // 绘制选中样式&#x000A;&#x000A;            elements.date = $date;&#x000A;&#x000A;            this._updateDateRanges();&#x000A;&#x000A;            if (isFunction(callback)) {&#x000A;              callback(this.getPicked(), $date, this);&#x000A;            }&#x000A;&#x000A;            break;&#x000A;        }&#x000A;      } else {&#x000A;        this.setYear(time).setMonth(time); // 选择了未选中状态的日期&#x000A;&#x000A;        switch (pickMode) {&#x000A;          case &#39;single&#39;:&#x000A;            $picked = elements.date; // 移除之前选中日期的选中样式&#x000A;&#x000A;            if ($picked) {&#x000A;              removeClass($picked, CLS_PICKED);&#x000A;            } // 设置当前选中日期的选中样式&#x000A;&#x000A;&#x000A;            addClass($date, CLS_PICKED);&#x000A;            elements.date = $date;&#x000A;            this.setDate(time);&#x000A;&#x000A;            if (isFunction(callback)) {&#x000A;              callback(time, $date, this);&#x000A;            }&#x000A;&#x000A;            break;&#x000A;&#x000A;          case &#39;multiple&#39;:&#x000A;            // 保存选中的日期，并对选中时间排序&#x000A;            this.data.picked.push(time);&#x000A;            this.data.picked.sort(); // 设置最晚的那个日期为当前选中日期&#x000A;&#x000A;            pickedDates = this.getPicked();&#x000A;            this.setDate(pickedDates[pickedDates.length - 1]);&#x000A;            addClass($date, CLS_PICKED);&#x000A;&#x000A;            if (isFunction(callback)) {&#x000A;              callback(this.getPicked(), $date, this);&#x000A;            }&#x000A;&#x000A;            break;&#x000A;&#x000A;          case &#39;range&#39;:&#x000A;            // 根据已经选中的日期长度，处理数据的保存&#x000A;            switch (this.data.picked.length) {&#x000A;              case 0:&#x000A;              case 1:&#x000A;                // 保存选中的日期&#x000A;                this.data.picked.push(time); // 如果选择两个不同的日期，则完成了范围选择，需要对日期排序&#x000A;&#x000A;                if (this.data.picked.length === 2) {&#x000A;                  this.data.picked.sort();&#x000A;                } // 设置选中日期范围的最后一天为当前选中日期&#x000A;&#x000A;&#x000A;                pickedDates = this.getPicked();&#x000A;                this.setDate(pickedDates[pickedDates.length - 1]);&#x000A;                elements.date = $date;&#x000A;&#x000A;                this._updateDateRanges();&#x000A;&#x000A;                if (isFunction(callback)) {&#x000A;                  callback(pickedDates, $date, this);&#x000A;                }&#x000A;&#x000A;                break;&#x000A;&#x000A;              case 2:&#x000A;                // 之前已经选中了一个日期范围，现在需要清除之前的数据&#x000A;                this.data.picked = []; // 保存第一个日期点&#x000A;&#x000A;                this.data.picked.push(time);&#x000A;                elements.date = $date;&#x000A;&#x000A;                this._updateDateRanges();&#x000A;&#x000A;                break;&#x000A;            }&#x000A;&#x000A;            break;&#x000A;&#x000A;          case &#39;week&#39;:&#x000A;            // 获得当前选中日期的星期范围&#x000A;            var ranges = Calendar.getWeekRanges(time); // 清除之前的数据，保存现在的星期日期范围&#x000A;&#x000A;            this.data.picked = [ranges[0], ranges[ranges.length - 1]];&#x000A;            this.setDate(ranges[ranges.length - 1]);&#x000A;            elements.date = $date;&#x000A;&#x000A;            this._updateWeekRanges();&#x000A;&#x000A;            if (isFunction(callback)) {&#x000A;              callback(this.getPicked(), $date, this);&#x000A;            }&#x000A;&#x000A;            break;&#x000A;        }&#x000A;      }&#x000A;&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 选择月份&#x000A;     * ========================================================================&#x000A;     * 1. 选择了已选中状态的月份：直接切换试图模式到日期试图模式&#x000A;     * 2. 选择了未选中状态的月份：移除之前选中的月份的选中样式，并当前选中的月份的选中&#x000A;     *    样式。然后更新选中年份和月份的数据，并切换到日期试图模式&#x000A;     * ========================================================================&#x000A;     * @param {HTMLElement} $month - 选中的月份 DOM 节点&#x000A;     * @returns {Calendar}&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;pickMonth&quot;,&#x000A;    value: function pickMonth($month) {&#x000A;      var CLS_PICKED = this.get(&#39;STYLES&#39;).PICKED;&#x000A;      var DOM = Calendar.DOM;&#x000A;      var elements = this.getEls();&#x000A;      var $picked = elements.month;&#x000A;      var time = $month.getAttribute(&#39;data-month&#39;);&#x000A;      var callback = this.get(&#39;onMonthPick&#39;); // 点击已经选中的年份&#x000A;&#x000A;      if (DOM.hasClass($month, CLS_PICKED)) {&#x000A;        // 切换到月份试图模式&#x000A;        this.update();&#x000A;      } else {&#x000A;        // 移除之前选中的年份选中样式&#x000A;        if ($picked) {&#x000A;          DOM.removeClass($picked, CLS_PICKED);&#x000A;        } // 设置选中样式&#x000A;&#x000A;&#x000A;        DOM.addClass($month, CLS_PICKED);&#x000A;        elements.month = $month;&#x000A;&#x000A;        this.setYear(time).setMonth(time)._setYears(time).update();&#x000A;      }&#x000A;&#x000A;      if (Calendar.Utils.isFunction(callback)) {&#x000A;        callback(time, $month, this);&#x000A;      }&#x000A;&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 选择年份&#x000A;     * ========================================================================&#x000A;     * 1. 选择了已选中状态的年份：更新选中的年份信息，并切换到月份试图模式&#x000A;     * 2. 选择了未选中状态的年份：移除之前选中的年份的选中样式，将当前选中的年份设为选中&#x000A;     *    样式，并切换到月份试图模式&#x000A;     * ========================================================================&#x000A;     * @param {HTMLElement} $year - 选中的年份 DOM 节点&#x000A;     * @returns {Calendar}&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;pickYear&quot;,&#x000A;    value: function pickYear($year) {&#x000A;      var CLS_PICKED = this.get(&#39;STYLES&#39;).PICKED;&#x000A;      var DOM = Calendar.DOM;&#x000A;      var elements = this.getEls();&#x000A;      var $picked = elements.year;&#x000A;      var time = $year.getAttribute(&#39;data-year&#39;);&#x000A;      var callback = this.get(&#39;onYearPick&#39;); // 点击已经选中的月份&#x000A;&#x000A;      if (DOM.hasClass($year, CLS_PICKED)) {&#x000A;        // 切换到日期试图模式&#x000A;        this.setYear(time).update(1);&#x000A;      } else {&#x000A;        // 移除之前选中的年份选中样式&#x000A;        if ($picked) {&#x000A;          DOM.removeClass($picked, CLS_PICKED);&#x000A;        } // 设置选中样式&#x000A;&#x000A;&#x000A;        DOM.addClass($year, CLS_PICKED);&#x000A;        elements.year = $year; // 更新年份并切换到月份试图&#x000A;&#x000A;        this.setYear(time)._setYears(time).update(1);&#x000A;      }&#x000A;&#x000A;      if (Calendar.Utils.isFunction(callback)) {&#x000A;        callback(time, $year, this);&#x000A;      }&#x000A;&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 选择今天&#x000A;     * ========================================================================&#x000A;     * 将今天的年份、月份以及日期信息设置为当前选中日期，并切换到日期试图模式&#x000A;     * ========================================================================&#x000A;     * @returns {Calendar}&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;pickToday&quot;,&#x000A;    value: function pickToday() {&#x000A;      var time = Calendar.getToday().value;&#x000A;      var callback = this.get(&#39;onTodayPick&#39;);&#x000A;&#x000A;      this.setYear(time).setMonth(time).setDate(time)._setYears(time).update();&#x000A;&#x000A;      if (Calendar.Utils.isFunction(callback)) {&#x000A;        callback(time, this.getEls().dates.querySelector(&#39;[data-date=&#39; + time + &#39;]&#39;), this);&#x000A;      }&#x000A;&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 隐藏日历控件&#x000A;     * ========================================================================&#x000A;     * @returns {Calendar}&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;hide&quot;,&#x000A;    value: function hide() {&#x000A;      var CLS_HIDDEN = this.get(&#39;STYLES&#39;).HIDDEN;&#x000A;      var $wrap = this.getEls().wrap;&#x000A;      Calendar.DOM.addClass($wrap, CLS_HIDDEN);&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 显示日历控件&#x000A;     * ========================================================================&#x000A;     * @returns {Calendar}&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;show&quot;,&#x000A;    value: function show() {&#x000A;      var CLS_HIDDEN = this.get(&#39;STYLES&#39;).HIDDEN;&#x000A;      var $wrap = this.getEls().wrap;&#x000A;      Calendar.DOM.removeClass($wrap, CLS_HIDDEN);&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 隐藏/显示之间切换&#x000A;     * ========================================================================&#x000A;     * @returns {Calendar}&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;toggle&quot;,&#x000A;    value: function toggle() {&#x000A;      var CLS_HIDDEN = this.get(&#39;STYLES&#39;).HIDDEN;&#x000A;      var $wrap = this.getEls().wrap;&#x000A;&#x000A;      if (Calendar.DOM.hasClass($wrap, CLS_HIDDEN)) {&#x000A;        this.show();&#x000A;      } else {&#x000A;        this.hide();&#x000A;      }&#x000A;&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 设置当前的年代信息&#x000A;     * ========================================================================&#x000A;     * @param {String|Number} [time] - 表示年份的字符串或者数字（默认值：今年）&#x000A;     * @returns {Calendar}&#x000A;     * @private&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;_setYears&quot;,&#x000A;    value: function _setYears(time) {&#x000A;      this.data.years = Calendar.getYears(time);&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * （多选模式）移除选中的日期&#x000A;     * ========================================================================&#x000A;     * @param {String|Number} time - 表示日期的字符串或者数字&#x000A;     * @returns {Calendar}&#x000A;     * @private&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;_removePicked&quot;,&#x000A;    value: function _removePicked(time) {&#x000A;      var pickedDates = this.getPicked();&#x000A;      var index = pickedDates.indexOf(time);&#x000A;&#x000A;      if (index &gt; -1) {&#x000A;        pickedDates.splice(index, 1);&#x000A;      }&#x000A;&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 绘制日历控件的各个主要 DOM 节点&#x000A;     * ========================================================================&#x000A;     * @returns {Calendar}&#x000A;     * @private&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;_createElements&quot;,&#x000A;    value: function _createElements() {&#x000A;      var STYLES = this.get(&#39;STYLES&#39;);&#x000A;      var CLS_WRAP = STYLES.WRAP;&#x000A;      var CLS_WRAP_WITHOUT_FOOTER = STYLES.WRAP_WITHOUT_FOOTER;&#x000A;      var CLS_HEADER = STYLES.HEADER;&#x000A;      var CLS_TITLE = STYLES.TITLE;&#x000A;      var CLS_SWITCHER = STYLES.SWITCHER;&#x000A;      var CLS_PREV = STYLES.PREV;&#x000A;      var CLS_ICON_PREV = STYLES.ICON_PREV;&#x000A;      var CLS_NEXT = STYLES.NEXT;&#x000A;      var CLS_ICON_NEXT = STYLES.ICON_NEXT;&#x000A;      var CLS_BODY = STYLES.BODY;&#x000A;      var CLS_WEEK = STYLES.WEEK;&#x000A;      var CLS_DATES = STYLES.DATES;&#x000A;      var CLS_MONTHS = STYLES.MONTHS;&#x000A;      var CLS_YEARS = STYLES.YEARS;&#x000A;      var CLS_FOOTER = STYLES.FOOTER;&#x000A;      var CLS_FOOTER_DATE = STYLES.FOOTER_DATE;&#x000A;      var CLS_TODAY = STYLES.TODAY;&#x000A;      var CLS_FOOTER_TIME = STYLES.FOOTER_TIME;&#x000A;      var CLS_TIME = STYLES.TIME;&#x000A;      var CLS_TEXT = STYLES.TEXT;&#x000A;      var CLS_HIDDEN = STYLES.HIDDEN;&#x000A;      var SPACE = &#39; &#39;;&#x000A;      var hasFooter = this.get(&#39;hasFooter&#39;);&#x000A;      var elements = this.getEls();&#x000A;      var createElement = Calendar.DOM.createElement;&#x000A;      var wrapClassName = CLS_WRAP;&#x000A;      var weekClassName = CLS_WEEK;&#x000A;      var datesClassName = CLS_DATES;&#x000A;      var monthsClassName = CLS_MONTHS;&#x000A;      var yearsClassName = CLS_YEARS;&#x000A;&#x000A;      switch (this.get(&#39;viewMode&#39;)) {&#x000A;        case 0:&#x000A;          monthsClassName += SPACE + CLS_HIDDEN;&#x000A;          yearsClassName += SPACE + CLS_HIDDEN;&#x000A;          break;&#x000A;&#x000A;        case 1:&#x000A;          weekClassName += SPACE + CLS_HIDDEN;&#x000A;          datesClassName += SPACE + CLS_HIDDEN;&#x000A;          yearsClassName += SPACE + CLS_HIDDEN;&#x000A;          break;&#x000A;&#x000A;        case 2:&#x000A;          weekClassName += SPACE + CLS_HIDDEN;&#x000A;          datesClassName += SPACE + CLS_HIDDEN;&#x000A;          monthsClassName += SPACE + CLS_HIDDEN;&#x000A;          break;&#x000A;      }&#x000A;&#x000A;      if (!hasFooter) {&#x000A;        wrapClassName += SPACE + CLS_WRAP_WITHOUT_FOOTER;&#x000A;      }&#x000A;&#x000A;      elements.parent = document.getElementById(this.get(&#39;parent&#39;)); // wrap&#x000A;&#x000A;      elements.wrap = createElement(&#39;div&#39;, {&#x000A;        id: Calendar.Utils.guid(&#39;calendar&#39;),&#x000A;        className: wrapClassName&#x000A;      }); // header&#x000A;&#x000A;      elements.header = createElement(&#39;div&#39;, {&#x000A;        className: CLS_HEADER&#x000A;      });&#x000A;      elements.title = createElement(&#39;h4&#39;, {&#x000A;        className: CLS_TITLE&#x000A;      }, [createElement(&#39;span&#39;, {&#x000A;        className: CLS_TEXT&#x000A;      })]); // 配置了显示上下切换按钮&#x000A;&#x000A;      if (this.get(&#39;hasSwitcher&#39;)) {&#x000A;        elements.switcher = createElement(&#39;div&#39;, {&#x000A;          className: CLS_SWITCHER&#x000A;        });&#x000A;        elements.prev = createElement(&#39;div&#39;, {&#x000A;          className: CLS_PREV&#x000A;        }, [createElement(&#39;span&#39;, {&#x000A;          className: CLS_TEXT&#x000A;        }, [createElement(&#39;i&#39;, {&#x000A;          className: CLS_ICON_PREV&#x000A;        })])]);&#x000A;        elements.next = createElement(&#39;div&#39;, {&#x000A;          className: CLS_NEXT&#x000A;        }, [createElement(&#39;span&#39;, {&#x000A;          className: CLS_TEXT&#x000A;        }, [createElement(&#39;i&#39;, {&#x000A;          className: CLS_ICON_NEXT&#x000A;        })])]);&#x000A;      } // body&#x000A;&#x000A;&#x000A;      elements.body = createElement(&#39;div&#39;, {&#x000A;        className: CLS_BODY&#x000A;      });&#x000A;      elements.week = createElement(&#39;div&#39;, {&#x000A;        className: weekClassName&#x000A;      });&#x000A;      elements.dates = createElement(&#39;div&#39;, {&#x000A;        className: datesClassName&#x000A;      });&#x000A;      elements.months = createElement(&#39;div&#39;, {&#x000A;        className: monthsClassName&#x000A;      });&#x000A;      elements.years = createElement(&#39;div&#39;, {&#x000A;        className: yearsClassName&#x000A;      }); // 配置了显示页脚&#x000A;&#x000A;      if (hasFooter) {&#x000A;        // footer&#x000A;        elements.footer = createElement(&#39;div&#39;, {&#x000A;          className: CLS_FOOTER&#x000A;        });&#x000A;        elements.today = createElement(&#39;div&#39;, {&#x000A;          className: CLS_FOOTER_DATE&#x000A;        }, [createElement(&#39;p&#39;, {&#x000A;          className: CLS_TODAY&#x000A;        }, [createElement(&#39;span&#39;, {&#x000A;          className: CLS_TEXT&#x000A;        })])]); // 配置了显示当前时间&#x000A;&#x000A;        if (this.get(&#39;hasClock&#39;)) {&#x000A;          elements.time = createElement(&#39;div&#39;, {&#x000A;            className: CLS_FOOTER_TIME&#x000A;          }, [createElement(&#39;p&#39;, {&#x000A;            className: CLS_TIME&#x000A;          }, [createElement(&#39;span&#39;, {&#x000A;            className: CLS_TEXT&#x000A;          })])]);&#x000A;        }&#x000A;      }&#x000A;&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 绘制日历控件的标题&#x000A;     * ========================================================================&#x000A;     * @returns {Calendar}&#x000A;     * @private&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;_renderTitle&quot;,&#x000A;    value: function _renderTitle() {&#x000A;      var $title = this.getEls().title.querySelector(&#39;.&#39; + this.get(&#39;STYLES&#39;).TEXT);&#x000A;      var years = this.getYears();&#x000A;      var year = this.getYear();&#x000A;      var value = &#39;&#39;;&#x000A;&#x000A;      switch (this.get(&#39;viewMode&#39;)) {&#x000A;        case 0:&#x000A;          // 显示完整的年月时间&#x000A;          value = Calendar.getMonth(year + &#39;-&#39; + this.getMonth() + &#39;-1&#39;).fullText;&#x000A;          break;&#x000A;&#x000A;        case 1:&#x000A;          // 显示年份时间&#x000A;          value = Calendar.getYear(year + &#39;-1-1&#39;).fullText;&#x000A;          break;&#x000A;&#x000A;        case 2:&#x000A;          // 显示年代范围格式时间&#x000A;          value = years.start + &#39; - &#39; + years.end;&#x000A;          break;&#x000A;      }&#x000A;&#x000A;      $title.innerHTML = value;&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 绘制日历控件的星期栏&#x000A;     * ========================================================================&#x000A;     * @returns {Calendar}&#x000A;     * @private&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;_renderDays&quot;,&#x000A;    value: function _renderDays() {&#x000A;      var STYLES = this.get(&#39;STYLES&#39;);&#x000A;      var CLS_DAY = STYLES.DAY;&#x000A;      var CLS_WEEKEND = STYLES.WEEKEND;&#x000A;      var CLS_TEXT = STYLES.TEXT;&#x000A;      var DAYS = this.get(&#39;DAYS&#39;);&#x000A;      var createElement = Calendar.DOM.createElement;&#x000A;      var fragment = document.createDocumentFragment();&#x000A;      DAYS.forEach(function (day, i) {&#x000A;        var className = i === 0 || i === DAYS.length - 1 ? CLS_DAY + &#39; &#39; + CLS_WEEKEND : CLS_DAY; // 先将创建的星期几的 DOM 节点保存到文档碎片&#x000A;&#x000A;        fragment.appendChild(createElement(&#39;div&#39;, {&#x000A;          className: className&#x000A;        }, [createElement(&#39;span&#39;, {&#x000A;          className: CLS_TEXT&#x000A;        }, [day])]));&#x000A;      }); // 然后一次性添加到页面，性能会更好&#x000A;&#x000A;      this.getEls().week.appendChild(fragment);&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 绘制日历控件的日期信息&#x000A;     * ========================================================================&#x000A;     * @returns {Calendar}&#x000A;     * @private&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;_renderDates&quot;,&#x000A;    value: function _renderDates() {&#x000A;      var DATES = this.get(&#39;DATES&#39;);&#x000A;      var isLeapYear = Calendar.isLeapYear; // fragments&#x000A;&#x000A;      var fragment = document.createDocumentFragment(); // current month&#x000A;&#x000A;      var year = this.getYear();&#x000A;      var month = this.getMonth();&#x000A;      var days = DATES[month - 1];&#x000A;      var firstDateDay = Calendar.getDay(year + &#39;-&#39; + month + &#39;-&#39; + 1).value; // prev month&#x000A;&#x000A;      var prevYear = month - 2 &lt; 0 ? year - 1 : year;&#x000A;      var prevMonth = month - 2 &lt; 0 ? 12 : month - 1;&#x000A;      var prevDays = DATES[prevMonth - 1]; // next month&#x000A;&#x000A;      var nextYear = month === 12 ? year + 1 : year;&#x000A;      var nextMonth = month === 12 ? 1 : month + 1;&#x000A;      var nextDays; // 如果当前是闰年，上个月是二月份，则闰年二月为29天&#x000A;&#x000A;      if (isLeapYear(year) &amp;&amp; prevMonth === 2) {&#x000A;        prevDays += 1;&#x000A;      } else {&#x000A;        // 如果当前是闰年，当前月份是二月，则本月有29天&#x000A;        if (isLeapYear(year) &amp;&amp; month === 2) {&#x000A;          days += 1;&#x000A;        }&#x000A;      }&#x000A;&#x000A;      nextDays = 42 - (firstDateDay + days); // 绘制上个月月底的最后几天&#x000A;&#x000A;      if (firstDateDay !== 0) {&#x000A;        fragment.appendChild(this._getDatesFragment({&#x000A;          year: prevYear,&#x000A;          month: prevMonth,&#x000A;          start: prevDays - (firstDateDay - 1),&#x000A;          end: prevDays,&#x000A;          isPrev: true,&#x000A;          isNext: false&#x000A;        }));&#x000A;      } // 绘制本月的日期&#x000A;&#x000A;&#x000A;      fragment.appendChild(this._getDatesFragment({&#x000A;        year: year,&#x000A;        month: month,&#x000A;        start: 1,&#x000A;        end: days,&#x000A;        isPrev: false,&#x000A;        isNext: false&#x000A;      })); // 绘制下个月月头的几天&#x000A;&#x000A;      if (nextDays &gt; 0) {&#x000A;        fragment.appendChild(this._getDatesFragment({&#x000A;          year: nextYear,&#x000A;          month: nextMonth,&#x000A;          start: 1,&#x000A;          end: nextDays,&#x000A;          isPrev: false,&#x000A;          isNext: true&#x000A;        }));&#x000A;      }&#x000A;&#x000A;      this.getEls().dates.appendChild(fragment);&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 重绘日历控件的日期信息&#x000A;     * ========================================================================&#x000A;     * @returns {Calendar}&#x000A;     * @private&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;_repaintDates&quot;,&#x000A;    value: function _repaintDates() {&#x000A;      var CLS_HIDDEN = this.get(&#39;STYLES&#39;).HIDDEN;&#x000A;      var DOM = Calendar.DOM;&#x000A;      var $dates = this.getEls().dates;&#x000A;      DOM.addClass($dates, CLS_HIDDEN);&#x000A;      $dates.innerHTML = &#39;&#39;;&#x000A;      DOM.removeClass($dates, CLS_HIDDEN);&#x000A;&#x000A;      this._renderDates();&#x000A;&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 获得绘制日期信息时的文档碎片&#x000A;     * ========================================================================&#x000A;     * @param {Object} options - 参数对象&#x000A;     * @param {Number} options.year - 年份&#x000A;     * @param {Number} options.month - 月份&#x000A;     * @param {Number} options.start - 开始的日期&#x000A;     * @param {Number} options.end - 结束的日期&#x000A;     * @param {Boolean} options.isPrev - 是否为上个月的日期&#x000A;     * @param {Boolean} options.isNext - 是否为下个月的日期&#x000A;     * @returns {DocumentFragment}&#x000A;     * @private&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;_getDatesFragment&quot;,&#x000A;    value: function _getDatesFragment(options) {&#x000A;      var _this = this;&#x000A;&#x000A;      var year = options.year,&#x000A;          month = options.month,&#x000A;          start = options.start,&#x000A;          end = options.end,&#x000A;          isPrev = options.isPrev,&#x000A;          isNext = options.isNext;&#x000A;      var SPACE = &#39; &#39;;&#x000A;      var STYLES = this.get(&#39;STYLES&#39;);&#x000A;      var CLS_DATE = STYLES.DATE;&#x000A;      var CLS_DATE_PREV = STYLES.DATE_PREV;&#x000A;      var CLS_DATE_NEXT = STYLES.DATE_NEXT;&#x000A;      var CLS_CURRENT = STYLES.CURRENT;&#x000A;      var CLS_PICKED = STYLES.PICKED;&#x000A;      var CLS_PICKED_RANGE = STYLES.PICKED_RANGE;&#x000A;      var CLS_WEEKEND = STYLES.WEEKEND;&#x000A;      var CLS_TEXT = STYLES.TEXT;&#x000A;      var createElement = Calendar.DOM.createElement;&#x000A;      var isDatesEqual = Calendar.isDatesEqual;&#x000A;      var fragment = document.createDocumentFragment();&#x000A;      var elements = this.getEls();&#x000A;      var date = start;&#x000A;      var pickMode = this.get(&#39;pickMode&#39;);&#x000A;      var pickedDates = this.getPicked();&#x000A;&#x000A;      var _loop = function _loop() {&#x000A;        var fullDate = year + &#39;-&#39; + month + &#39;-&#39; + date;&#x000A;        var isCurrent = Calendar.isToday(fullDate);&#x000A;        var day = Calendar.getDay(fullDate);&#x000A;        var $children = [createElement(&#39;span&#39;, {&#x000A;          className: CLS_TEXT&#x000A;        }, [date])];&#x000A;        var className = &#39;&#39;;&#x000A;        var $date = void 0;&#x000A;        $date = createElement(&#39;div&#39;, {&#x000A;          &#39;data-date&#39;: fullDate&#x000A;        }, $children);&#x000A;        className += CLS_DATE;&#x000A;&#x000A;        if (isPrev) {&#x000A;          className += SPACE + CLS_DATE_PREV;&#x000A;        } else {&#x000A;          if (isNext) {&#x000A;            className += SPACE + CLS_DATE_NEXT;&#x000A;          }&#x000A;        } // 当前（今天）的日期&#x000A;&#x000A;&#x000A;        if (isCurrent) {&#x000A;          className += SPACE + CLS_CURRENT;&#x000A;        } // 周末&#x000A;&#x000A;&#x000A;        if (day.value === 0 || day.value === 6) {&#x000A;          className += SPACE + CLS_WEEKEND;&#x000A;        }&#x000A;&#x000A;        switch (pickMode) {&#x000A;          // 单选模式&#x000A;          case &#39;single&#39;:&#x000A;            var pickedDate = _this.getDate().text;&#x000A;&#x000A;            var isPickedDate = isDatesEqual(fullDate, pickedDate);&#x000A;&#x000A;            if (isPickedDate) {&#x000A;              className += SPACE + CLS_PICKED;&#x000A;              elements.date = $date;&#x000A;            }&#x000A;&#x000A;            break;&#x000A;          // 多选模式&#x000A;&#x000A;          case &#39;multiple&#39;:&#x000A;            pickedDates.forEach(function (picked) {&#x000A;              var isPicked = isDatesEqual(fullDate, picked);&#x000A;&#x000A;              if (isPicked) {&#x000A;                className += SPACE + CLS_PICKED;&#x000A;              }&#x000A;            });&#x000A;            break;&#x000A;          // 区间模式&#x000A;&#x000A;          case &#39;range&#39;:&#x000A;          case &#39;week&#39;:&#x000A;            var dateRanges = []; // 只有选中了两个节点，才绘制选中日期区间的样式&#x000A;&#x000A;            if (pickedDates.length === 2) {&#x000A;              dateRanges = Calendar.getRanges(pickedDates[0], pickedDates[1]);&#x000A;              dateRanges.forEach(function (picked, i) {&#x000A;                var isPicked = isDatesEqual(fullDate, picked);&#x000A;&#x000A;                if (!isPicked) {&#x000A;                  return false;&#x000A;                } // 设置中间日期的样式&#x000A;&#x000A;&#x000A;                if (i !== 0 &amp;&amp; i !== dateRanges.length - 1) {&#x000A;                  className += SPACE + CLS_PICKED;&#x000A;                  className += SPACE + CLS_PICKED_RANGE;&#x000A;                } else {&#x000A;                  if (i === 0 || i === dateRanges.length - 1) {&#x000A;                    className += SPACE + CLS_PICKED;&#x000A;                  }&#x000A;                }&#x000A;              });&#x000A;            } else {&#x000A;              if (pickedDates.length === 1) {&#x000A;                className += SPACE + CLS_PICKED;&#x000A;              }&#x000A;            }&#x000A;&#x000A;            break;&#x000A;        }&#x000A;&#x000A;        $date.className = className;&#x000A;        fragment.appendChild($date);&#x000A;      };&#x000A;&#x000A;      for (; date &lt;= end; date += 1) {&#x000A;        _loop();&#x000A;      }&#x000A;&#x000A;      return fragment;&#x000A;    }&#x000A;    /**&#x000A;     * 绘制选中的日期区间选中样式&#x000A;     * ========================================================================&#x000A;     * @returns {Calendar}&#x000A;     * @private&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;_updateDateRanges&quot;,&#x000A;    value: function _updateDateRanges() {&#x000A;      var STYLES = this.get(&#39;STYLES&#39;);&#x000A;      var CLS_PICKED = STYLES.PICKED;&#x000A;      var CLS_PICKED_RANGE = STYLES.PICKED_RANGE;&#x000A;      var DOM = Calendar.DOM;&#x000A;      var hasClass = DOM.hasClass;&#x000A;      var removeClass = DOM.removeClass;&#x000A;      var addClass = DOM.addClass;&#x000A;      var elements = this.getEls();&#x000A;      var $date = this.elements.date;&#x000A;      var $dates = elements.dates;&#x000A;      var $pickedDates = $dates.querySelectorAll(&#39;.&#39; + CLS_PICKED);&#x000A;&#x000A;      switch (this.data.picked.length) {&#x000A;        case 1:&#x000A;          // 移除之前的选中样式&#x000A;          $pickedDates.forEach(function ($picked) {&#x000A;            removeClass($picked, CLS_PICKED);&#x000A;&#x000A;            if (hasClass($picked, CLS_PICKED_RANGE)) {&#x000A;              removeClass($picked, CLS_PICKED_RANGE);&#x000A;            }&#x000A;          }); // 绘制选中的第一个端点的选中样式&#x000A;&#x000A;          addClass($date, CLS_PICKED);&#x000A;          break;&#x000A;&#x000A;        case 2:&#x000A;          var ranges = Calendar.getRanges(this.data.picked[0], this.data.picked[1]);&#x000A;          ranges.forEach(function (picked, i) {&#x000A;            var $picked = $dates.querySelector(&#39;[data-date=&quot;&#39; + picked + &#39;&quot;]&#39;); // 绘制中间区域的选中样式&#x000A;&#x000A;            if (i &gt; 0 &amp;&amp; i &lt; ranges.length - 1) {&#x000A;              addClass($picked, CLS_PICKED);&#x000A;              addClass($picked, CLS_PICKED_RANGE);&#x000A;            }&#x000A;          }); // 绘制选中的第二个端点的选中样式&#x000A;&#x000A;          addClass($date, CLS_PICKED);&#x000A;      }&#x000A;&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 绘制选中的星期区间&#x000A;     * ========================================================================&#x000A;     * @returns {Calendar}&#x000A;     * @private&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;_updateWeekRanges&quot;,&#x000A;    value: function _updateWeekRanges() {&#x000A;      var STYLES = this.get(&#39;STYLES&#39;);&#x000A;      var CLS_PICKED = STYLES.PICKED;&#x000A;      var CLS_PICKED_RANGE = STYLES.PICKED_RANGE;&#x000A;      var DOM = Calendar.DOM;&#x000A;      var removeClass = DOM.removeClass;&#x000A;      var addClass = DOM.addClass;&#x000A;      var elements = this.getEls();&#x000A;      var $dates = elements.dates;&#x000A;      var $pickedDates = $dates.querySelectorAll(&#39;.&#39; + CLS_PICKED);&#x000A;      var picked = this.getPicked();&#x000A;      var ranges = Calendar.getWeekRanges(picked[0]); // 移除之前选中区域的样式&#x000A;&#x000A;      $pickedDates.forEach(function ($picked) {&#x000A;        removeClass($picked, CLS_PICKED_RANGE);&#x000A;        removeClass($picked, CLS_PICKED);&#x000A;      }); // 设置新的选中区域的样式&#x000A;&#x000A;      ranges.forEach(function (picked, i) {&#x000A;        var $picked = $dates.querySelector(&#39;[data-date=&quot;&#39; + picked + &#39;&quot;]&#39;); // 绘制中间区域&#x000A;&#x000A;        if (i &gt; 0 &amp;&amp; i &lt; ranges.length - 1) {&#x000A;          addClass($picked, CLS_PICKED);&#x000A;          addClass($picked, CLS_PICKED_RANGE);&#x000A;        } else {&#x000A;          // 绘制两头的节点&#x000A;          if (i === 0 || i === ranges.length - 1) {&#x000A;            addClass($picked, CLS_PICKED);&#x000A;          }&#x000A;        }&#x000A;      });&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 绘制日历控件的月份信息&#x000A;     * ========================================================================&#x000A;     * @returns {Calendar}&#x000A;     * @private&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;_renderMonths&quot;,&#x000A;    value: function _renderMonths() {&#x000A;      var _this2 = this;&#x000A;&#x000A;      var SPACE = &#39; &#39;;&#x000A;      var STYLES = this.get(&#39;STYLES&#39;);&#x000A;      var CLS_CURRENT = STYLES.CURRENT;&#x000A;      var CLS_PICKED = STYLES.PICKED;&#x000A;      var CLS_MONTH = STYLES.MONTH;&#x000A;      var CLS_MONTH_PREV = STYLES.MONTH_PREV;&#x000A;      var CLS_MONTH_NEXT = STYLES.MONTH_NEXT;&#x000A;      var CLS_TEXT = STYLES.TEXT;&#x000A;      var MONTHS = this.get(&#39;MONTHS&#39;);&#x000A;      var DOM = Calendar.DOM;&#x000A;      var createElement = DOM.createElement;&#x000A;      var fragment = document.createDocumentFragment();&#x000A;      var elements = this.getEls();&#x000A;      var year = this.getYear();&#x000A;      var today = Calendar.getToday();&#x000A;      MONTHS.forEach(function (MONTH, i) {&#x000A;        var pickedDate = _this2.getDate();&#x000A;&#x000A;        var className = CLS_MONTH;&#x000A;        var $month; // 去年的月份&#x000A;&#x000A;        if (i &lt; 2) {&#x000A;          className += SPACE + CLS_MONTH_PREV; // 判断是否被选中了&#x000A;&#x000A;          if (year - 1 === pickedDate.year &amp;&amp; MONTH === pickedDate.month) {&#x000A;            className += SPACE + CLS_PICKED;&#x000A;          } // 创建月份的 DOM 节点&#x000A;&#x000A;&#x000A;          $month = createElement(&#39;div&#39;, {&#x000A;            className: className,&#x000A;            &#39;data-month&#39;: year - 1 + &#39;-&#39; + MONTH + &#39;-1&#39;&#x000A;          }, [createElement(&#39;span&#39;, {&#x000A;            className: CLS_TEXT&#x000A;          }, [MONTH])]);&#x000A;        } else {&#x000A;          // 今年的月份&#x000A;          if (i &gt;= 2 &amp;&amp; i &lt;= 13) {&#x000A;            // 判断是否为今天&#x000A;            if (year === today.year &amp;&amp; MONTH === today.month) {&#x000A;              className += &#39; &#39; + CLS_CURRENT;&#x000A;            } // 判断是否被选中了&#x000A;&#x000A;&#x000A;            if (year === pickedDate.year &amp;&amp; MONTH === pickedDate.month) {&#x000A;              className += SPACE + CLS_PICKED;&#x000A;            } // 创建月份的 DOM 节点&#x000A;&#x000A;&#x000A;            $month = createElement(&#39;div&#39;, {&#x000A;              className: className,&#x000A;              &#39;data-month&#39;: year + &#39;-&#39; + MONTH + &#39;-1&#39;&#x000A;            }, [createElement(&#39;span&#39;, {&#x000A;              className: CLS_TEXT&#x000A;            }, [year + &#39;-&#39; + MONTH])]);&#x000A;          } else {&#x000A;            // 明年的月份&#x000A;            if (i &gt; 13 &amp;&amp; i &lt;= 15) {&#x000A;              className += SPACE + CLS_MONTH_NEXT; // 判断是否被选中了&#x000A;&#x000A;              if (year + 1 === pickedDate.year &amp;&amp; MONTH === pickedDate.month) {&#x000A;                className += SPACE + CLS_PICKED;&#x000A;              } // 创建月份的 DOM 节点&#x000A;&#x000A;&#x000A;              $month = createElement(&#39;div&#39;, {&#x000A;                className: className,&#x000A;                &#39;data-month&#39;: year + 1 + &#39;-&#39; + MONTH + &#39;-1&#39;&#x000A;              }, [createElement(&#39;span&#39;, {&#x000A;                className: CLS_TEXT&#x000A;              }, [MONTH])]);&#x000A;            }&#x000A;          }&#x000A;        } // 将所有月份 DOM 节点缓存到文档碎片中&#x000A;&#x000A;&#x000A;        fragment.appendChild($month);&#x000A;      });&#x000A;      elements.months.appendChild(fragment);&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 重绘日历控件的月份信息&#x000A;     * ========================================================================&#x000A;     * @returns {Calendar}&#x000A;     * @private&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;_repaintMonths&quot;,&#x000A;    value: function _repaintMonths() {&#x000A;      var CLS_HIDDEN = this.get(&#39;STYLES&#39;).HIDDEN;&#x000A;      var DOM = Calendar.DOM;&#x000A;      var $months = this.getEls().months;&#x000A;      DOM.addClass($months, CLS_HIDDEN);&#x000A;      $months.innerHTML = &#39;&#39;;&#x000A;      DOM.removeClass($months, CLS_HIDDEN);&#x000A;&#x000A;      this._renderMonths();&#x000A;&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 绘制日历控件的年份信息&#x000A;     * ========================================================================&#x000A;     * @returns {Calendar}&#x000A;     * @private&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;_renderYears&quot;,&#x000A;    value: function _renderYears() {&#x000A;      var years = this.getYears();&#x000A;      var yearsStart = years.start;&#x000A;      var yearsEnd = years.end;&#x000A;      var prevStartYear = yearsStart - 3;&#x000A;      var prevEndYear = yearsStart - 1;&#x000A;      var nextStartYear = yearsEnd + 1;&#x000A;      var nextEndYear = yearsEnd + 3;&#x000A;      var fragment = document.createDocumentFragment();&#x000A;      fragment.appendChild(this._getYearsFragment({&#x000A;        start: prevStartYear,&#x000A;        end: prevEndYear,&#x000A;        isPrev: true,&#x000A;        isNext: false&#x000A;      }));&#x000A;      fragment.appendChild(this._getYearsFragment({&#x000A;        start: yearsStart,&#x000A;        end: yearsEnd,&#x000A;        isPrev: false,&#x000A;        isNext: false&#x000A;      }));&#x000A;      fragment.appendChild(this._getYearsFragment({&#x000A;        start: nextStartYear,&#x000A;        end: nextEndYear,&#x000A;        isPrev: false,&#x000A;        isNext: true&#x000A;      }));&#x000A;      this.getEls().years.appendChild(fragment);&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 重绘日历控件的年份信息&#x000A;     * ========================================================================&#x000A;     * @returns {Calendar}&#x000A;     * @private&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;_repaintYears&quot;,&#x000A;    value: function _repaintYears() {&#x000A;      var CLS_HIDDEN = this.get(&#39;STYLES&#39;).HIDDEN;&#x000A;      var DOM = Calendar.DOM;&#x000A;      var $years = this.getEls().years;&#x000A;      DOM.addClass($years, CLS_HIDDEN);&#x000A;      $years.innerHTML = &#39;&#39;;&#x000A;      DOM.removeClass($years, CLS_HIDDEN);&#x000A;&#x000A;      this._renderYears();&#x000A;&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 获取绘制年份信息的文档碎片&#x000A;     * ========================================================================&#x000A;     * @param {Object} options - 参数对象&#x000A;     * @param {Number} options.start - 开始年份&#x000A;     * @param {Number} options.end - 结束年份&#x000A;     * @param {Boolean} options.isPrev - 是否为上个年代的年份&#x000A;     * @param {Boolean} options.isNext - 是否为下个年带的年份&#x000A;     * @returns {DocumentFragment}&#x000A;     * @private&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;_getYearsFragment&quot;,&#x000A;    value: function _getYearsFragment(options) {&#x000A;      var start = options.start,&#x000A;          end = options.end,&#x000A;          isPrev = options.isPrev,&#x000A;          isNext = options.isNext;&#x000A;      var STYLES = this.get(&#39;STYLES&#39;);&#x000A;      var CLS_YEAR = STYLES.YEAR;&#x000A;      var CLS_YEAR_PREV = STYLES.YEAR_PREV;&#x000A;      var CLS_YEAR_NEXT = STYLES.YEAR_NEXT;&#x000A;      var CLS_CURRENT = STYLES.CURRENT;&#x000A;      var CLS_PICKED = STYLES.PICKED;&#x000A;      var CLS_DISABLED = STYLES.DISABLED;&#x000A;      var CLS_TEXT = STYLES.TEXT;&#x000A;      var DOM = Calendar.DOM;&#x000A;      var createElement = DOM.createElement;&#x000A;      var fragment = document.createDocumentFragment();&#x000A;      var elements = this.getEls();&#x000A;      var minYear = this.data.minYear;&#x000A;      var maxYear = this.data.maxYear;&#x000A;      var year = start;&#x000A;&#x000A;      for (; year &lt;= end; year += 1) {&#x000A;        var pickedDate = this.getDate();&#x000A;        var isCurrent = year === Calendar.getToday().year;&#x000A;        var isPicked = year === pickedDate.year;&#x000A;        var className = CLS_YEAR;&#x000A;        var $year = createElement(&#39;div&#39;, {&#x000A;          &#39;data-year&#39;: year + &#39;-1-1&#39;&#x000A;        }, [createElement(&#39;span&#39;, {&#x000A;          className: CLS_TEXT&#x000A;        }, [year])]);&#x000A;&#x000A;        if (isPrev) {&#x000A;          className += &#39; &#39; + CLS_YEAR_PREV;&#x000A;        } else {&#x000A;          if (isNext) {&#x000A;            className += &#39; &#39; + CLS_YEAR_NEXT;&#x000A;          }&#x000A;        }&#x000A;&#x000A;        if (isCurrent) {&#x000A;          className += &#39; &#39; + CLS_CURRENT;&#x000A;        }&#x000A;&#x000A;        if (isPicked) {&#x000A;          className += &#39; &#39; + CLS_PICKED;&#x000A;          elements.year = $year;&#x000A;        }&#x000A;&#x000A;        if (year &lt; minYear || year &gt; maxYear) {&#x000A;          className += &#39; &#39; + CLS_DISABLED;&#x000A;        }&#x000A;&#x000A;        $year.className = className;&#x000A;        fragment.appendChild($year);&#x000A;      }&#x000A;&#x000A;      return fragment;&#x000A;    }&#x000A;    /**&#x000A;     * 绘制日历控件的页脚&#x000A;     * ========================================================================&#x000A;     * @returns {Calendar}&#x000A;     * @private&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;_renderFooter&quot;,&#x000A;    value: function _renderFooter() {&#x000A;      var STYLES = this.get(&#39;STYLES&#39;);&#x000A;      var CLS_TEXT = STYLES.TEXT;&#x000A;      var elements = this.getEls();&#x000A;      var $today = elements.today.querySelector(&#39;.&#39; + CLS_TEXT);&#x000A;      var today = Calendar.getToday();&#x000A;      var timer = null;&#x000A;&#x000A;      var renderTime = function renderTime() {&#x000A;        var $time = elements.time.querySelector(&#39;.&#39; + CLS_TEXT);&#x000A;        var time = new Date();&#x000A;        var hours = time.getHours();&#x000A;        var minutes = time.getMinutes();&#x000A;        var seconds = time.getSeconds();&#x000A;&#x000A;        if (timer) {&#x000A;          clearTimeout(timer);&#x000A;        }&#x000A;&#x000A;        if (hours &lt; 10) {&#x000A;          hours = &#39;0&#39; + hours;&#x000A;        }&#x000A;&#x000A;        if (minutes &lt; 10) {&#x000A;          minutes = &#39;0&#39; + minutes;&#x000A;        }&#x000A;&#x000A;        if (seconds &lt; 10) {&#x000A;          seconds = &#39;0&#39; + seconds;&#x000A;        }&#x000A;&#x000A;        $time.innerHTML = hours + &#39;:&#39; + minutes + &#39;:&#39; + seconds;&#x000A;        timer = setTimeout(renderTime, 1000);&#x000A;      };&#x000A;&#x000A;      $today.innerHTML = &#39;今天：&#39; + today.text;&#x000A;      Calendar.DOM.setAttribute($today, &#39;data-date&#39;, today.value);&#x000A;&#x000A;      if (this.get(&#39;hasClock&#39;)) {&#x000A;        renderTime();&#x000A;      }&#x000A;&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 点击标题的事件处理器&#x000A;     * ========================================================================&#x000A;     * @returns {Calendar}&#x000A;     * @private&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;_titleClick&quot;,&#x000A;    value: function _titleClick() {&#x000A;      var viewMode = this.get(&#39;viewMode&#39;);&#x000A;      viewMode += 1;&#x000A;&#x000A;      if (viewMode &gt; 2) {&#x000A;        viewMode = 2;&#x000A;      }&#x000A;&#x000A;      this.update(viewMode);&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 点击向上翻页的事件处理器&#x000A;     * ========================================================================&#x000A;     * @returns {Calendar}&#x000A;     * @private&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;_prevClick&quot;,&#x000A;    value: function _prevClick() {&#x000A;      this.prev();&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 点击向下翻页的事件处理起&#x000A;     * ========================================================================&#x000A;     * @returns {Calendar}&#x000A;     * @private&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;_nextClick&quot;,&#x000A;    value: function _nextClick() {&#x000A;      this.next();&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 点击日期的事件处理器&#x000A;     * ========================================================================&#x000A;     * @param {Event} evt - 事件对象&#x000A;     * @returns {Calendar}&#x000A;     * @private&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;_dateClick&quot;,&#x000A;    value: function _dateClick(evt) {&#x000A;      var $el = evt.delegateTarget;&#x000A;      var time = $el.getAttribute(&#39;data-date&#39;);&#x000A;      var picked;&#x000A;      this.pickDate($el);&#x000A;      picked = this.getPicked();&#x000A;      console.log(&#39;------------- _dateClick -------------&#39;);&#x000A;&#x000A;      if (this.get(&#39;pickMode&#39;) === &#39;single&#39;) {&#x000A;        console.log(time);&#x000A;      } else {&#x000A;        console.log(picked);&#x000A;      }&#x000A;&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 点击月份的事件处理器&#x000A;     * ========================================================================&#x000A;     * @param {Event} evt - 事件对象&#x000A;     * @returns {Calendar}&#x000A;     * @private&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;_monthClick&quot;,&#x000A;    value: function _monthClick(evt) {&#x000A;      var $month = evt.delegateTarget;&#x000A;      var time = $month.getAttribute(&#39;data-month&#39;);&#x000A;      this.pickMonth($month);&#x000A;      console.log(&#39;------------- _monthClick -------------&#39;);&#x000A;      console.log(time);&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 点击年份的事件处理器&#x000A;     * ========================================================================&#x000A;     * @param {Event} evt - 事件对象&#x000A;     * @returns {Calendar}&#x000A;     * @private&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;_yearClick&quot;,&#x000A;    value: function _yearClick(evt) {&#x000A;      var $el = evt.delegateTarget;&#x000A;      var time = $el.getAttribute(&#39;data-year&#39;);&#x000A;      this.pickYear($el);&#x000A;      console.log(&#39;------------- _yearClick -------------&#39;);&#x000A;      console.log(time);&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 点击今天的事件处理器&#x000A;     * ========================================================================&#x000A;     * @returns {Calendar}&#x000A;     * @private&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;_todayClick&quot;,&#x000A;    value: function _todayClick() {&#x000A;      var elements = this.getEls();&#x000A;      var time = Calendar.getToday().text;&#x000A;      this.pickToday(); // 触发日期选择逻辑&#x000A;&#x000A;      this.pickDate(elements.dates.querySelector(&#39;[data-date=&quot;&#39; + time + &#39;&quot;]&#39;));&#x000A;      console.log(&#39;------------- _todayClick -------------&#39;);&#x000A;      console.log(time);&#x000A;      return this;&#x000A;    }&#x000A;    /**&#x000A;     * 获得年份信息&#x000A;     * ========================================================================&#x000A;     * @param {String|Number} [val] - 表示年份的字符串或者数字（默认值：今年）&#x000A;     * @returns {{value: (Number|{value, text, fullText}), text: string, fullText: string}}&#x000A;     */&#x000A;&#x000A;  }], [{&#x000A;    key: &quot;getYear&quot;,&#x000A;    value: function getYear(val) {&#x000A;      var time = !val ? new Date() : new Date(Calendar.toAllSupported(val));&#x000A;      var year = time.getFullYear();&#x000A;      return {&#x000A;        value: year,&#x000A;        text: year.toString(),&#x000A;        fullText: year + &#39;年&#39;&#x000A;      };&#x000A;    }&#x000A;    /**&#x000A;     * 获取月份信息&#x000A;     * ========================================================================&#x000A;     * @param {String|Number} [val] - 表示月份的字符串或者数字（默认值：本月）&#x000A;     * @returns {{value: number, text: string, fullText: string}}&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;getMonth&quot;,&#x000A;    value: function getMonth(val) {&#x000A;      var time = !val ? new Date() : new Date(Calendar.toAllSupported(val));&#x000A;      var year = Calendar.getYear(val);&#x000A;      var month = time.getMonth();&#x000A;      month += 1;&#x000A;      return {&#x000A;        value: month,&#x000A;        text: year.text + &#39;-&#39; + month,&#x000A;        fullText: year.fullText + month + &#39;月&#39;&#x000A;      };&#x000A;    }&#x000A;    /**&#x000A;     * 获取日期信息&#x000A;     * ========================================================================&#x000A;     * @param {String|Number} [val] - 表示日期的字符串或者数字（默认值：今天）&#x000A;     * @returns {{year: (Number|{value, text}), month: number, date: number, day: number, text: string, fullText: string}}&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;getDate&quot;,&#x000A;    value: function getDate(val) {&#x000A;      var time = !val ? new Date() : new Date(Calendar.toAllSupported(val));&#x000A;      var year = Calendar.getYear(val);&#x000A;      var month = Calendar.getMonth(val);&#x000A;      var date = time.getDate();&#x000A;      var day = Calendar.getDay(val);&#x000A;      var fullDate = year.value + &#39;-&#39; + month.value + &#39;-&#39; + date;&#x000A;      var text = month.fullText + date + &#39;日&#39;;&#x000A;      return {&#x000A;        year: year.value,&#x000A;        month: month.value,&#x000A;        date: date,&#x000A;        day: day.value,&#x000A;        text: fullDate,&#x000A;        fullText: text + &#39; &#39; + day.fullText&#x000A;      };&#x000A;    }&#x000A;    /**&#x000A;     * 获取星期信息&#x000A;     * ========================================================================&#x000A;     * @param {String|Number} [val] - 表示日期的字符串或者数字（默认值：今天）&#x000A;     * @returns {{value: number, text: string, fullText: string}}&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;getDay&quot;,&#x000A;    value: function getDay(val) {&#x000A;      var time = !val ? new Date() : new Date(Calendar.toAllSupported(val));&#x000A;      var day = time.getDay();&#x000A;      var text = Calendar.defaults.DAYS[day];&#x000A;      return {&#x000A;        value: day,&#x000A;        text: text,&#x000A;        fullText: &#39;星期&#39; + text&#x000A;      };&#x000A;    }&#x000A;    /**&#x000A;     * 获取今天的日期信息&#x000A;     * ========================================================================&#x000A;     * @returns {{year: (Number|{value, text}), month: number, date: number, day: number, text: string, fullText: string}}&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;getToday&quot;,&#x000A;    value: function getToday() {&#x000A;      return Calendar.getDate();&#x000A;    }&#x000A;    /**&#x000A;     * 获取年代信息&#x000A;     * ========================================================================&#x000A;     * @param {String|Number} [val] - 表示年份的字符串或者数字（默认值：今年）&#x000A;     * @returns {{start: (number|Number|{value, text}), end: (*|number)}}&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;getYears&quot;,&#x000A;    value: function getYears(val) {&#x000A;      var year = Calendar.getYear(val).value;&#x000A;      var numbers = year.toString().split(&#39;&#39;);&#x000A;      var lastNumber = parseInt(numbers[numbers.length - 1], 10);&#x000A;      var yearsStart = 0;&#x000A;      var yearsEnd = 0;&#x000A;&#x000A;      if (lastNumber === 0) {&#x000A;        yearsStart = year;&#x000A;        yearsEnd = year + 9;&#x000A;      } else {&#x000A;        if (lastNumber === 9) {&#x000A;          yearsStart = year - 9;&#x000A;          yearsEnd = year;&#x000A;        } else {&#x000A;          yearsStart = year - lastNumber;&#x000A;          yearsEnd = year + (9 - lastNumber);&#x000A;        }&#x000A;      }&#x000A;&#x000A;      return {&#x000A;        start: yearsStart,&#x000A;        end: yearsEnd&#x000A;      };&#x000A;    }&#x000A;    /**&#x000A;     * 获取日期所属的整个星期的日期区间信息&#x000A;     * ========================================================================&#x000A;     * @param {String} time - 表示日期的字符串&#x000A;     * @returns {Array}&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;getWeekRanges&quot;,&#x000A;    value: function getWeekRanges(time) {&#x000A;      var DATES = Calendar.defaults.DATES;&#x000A;      var isLeapYear = Calendar.isLeapYear;&#x000A;      var day = Calendar.getDay(time).value;&#x000A;      var begins = time.split(&#39;-&#39;);&#x000A;      var year = parseInt(begins[0], 10);&#x000A;      var month = parseInt(begins[1], 10);&#x000A;      var date = parseInt(begins[2], 10);&#x000A;      var days = DATES[month - 1];&#x000A;      var startYear = year;&#x000A;      var startMonth = month;&#x000A;      var startDate = date - day;&#x000A;      var endYear = year;&#x000A;      var endMonth = month;&#x000A;      var endDate = date + (6 - day);&#x000A;      var prevMonth = 0; // 闰年2月为29天，默认值为28天，所以需要+1天&#x000A;&#x000A;      if (isLeapYear(year) &amp;&amp; month === 2) {&#x000A;        days += 1;&#x000A;      }&#x000A;&#x000A;      if (startDate &lt; 1) {&#x000A;        // 上一个月&#x000A;        prevMonth = month - 2;&#x000A;        startMonth -= 1;&#x000A;&#x000A;        if (prevMonth &lt; 0) {&#x000A;          startYear -= 1;&#x000A;          startMonth = 12;&#x000A;          startDate = DATES[11] + startDate;&#x000A;        } else {&#x000A;          // 开始日期&#x000A;          startDate = DATES[prevMonth] + startDate;&#x000A;        }&#x000A;      }&#x000A;&#x000A;      if (endDate &gt; days) {&#x000A;        endMonth += 1; // 结束日期&#x000A;&#x000A;        endDate = endDate - days;&#x000A;&#x000A;        if (prevMonth &gt; 11) {&#x000A;          endYear += 1;&#x000A;          endMonth = 1;&#x000A;        }&#x000A;      }&#x000A;&#x000A;      return Calendar.getRanges(startYear + &#39;-&#39; + startMonth + &#39;-&#39; + startDate, endYear + &#39;-&#39; + endMonth + &#39;-&#39; + endDate);&#x000A;    }&#x000A;    /**&#x000A;     * 获取两个日期之间的所有日期信息&#x000A;     * ========================================================================&#x000A;     * @param {String} begin - 表示日期的字符串&#x000A;     * @param {String} end - 表示日期的字符串&#x000A;     * @returns {Array}&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;getRanges&quot;,&#x000A;    value: function getRanges(begin, end) {&#x000A;      var ONE_DAY_TO_SECONDS = 24 * 60 * 60 * 1000;&#x000A;      var ranges = [];&#x000A;      var begins = begin.split(&#39;-&#39;);&#x000A;      var ends = end.split(&#39;-&#39;);&#x000A;      var beginTime = new Date();&#x000A;      var endTime = new Date();&#x000A;      var beginNumber;&#x000A;      var endNumber;&#x000A;      var timeNumber;&#x000A;      beginTime.setUTCFullYear(parseInt(begins[0], 10), parseInt(begins[1], 10) - 1, parseInt(begins[2], 10));&#x000A;      endTime.setUTCFullYear(parseInt(ends[0], 10), parseInt(ends[1], 10) - 1, parseInt(ends[2], 10));&#x000A;      beginNumber = beginTime.getTime();&#x000A;      endNumber = endTime.getTime();&#x000A;      timeNumber = beginNumber;&#x000A;&#x000A;      for (; timeNumber &lt;= endNumber; timeNumber += ONE_DAY_TO_SECONDS) {&#x000A;        ranges.push(Calendar.getDate(timeNumber).text);&#x000A;      }&#x000A;&#x000A;      return ranges;&#x000A;    }&#x000A;    /**&#x000A;     * 判断是否为闰年&#x000A;     * ========================================================================&#x000A;     * @param {Number} year - 年份数值&#x000A;     * @returns {boolean}&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;isLeapYear&quot;,&#x000A;    value: function isLeapYear(year) {&#x000A;      return (year % 4 === 0 || year % 400 === 0) &amp;&amp; year % 100 !== 0;&#x000A;    }&#x000A;    /**&#x000A;     * 判断是否为今天&#x000A;     * ========================================================================&#x000A;     * @param {String|Number} time - 表示日期的字符串或者数字&#x000A;     * @returns {*}&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;isToday&quot;,&#x000A;    value: function isToday(time) {&#x000A;      return Calendar.isDatesEqual(time);&#x000A;    }&#x000A;    /**&#x000A;     * 判断两个日期是否相等&#x000A;     * ========================================================================&#x000A;     * @param {String|Number} dateOne - 表示日期的字符串或者数字&#x000A;     * @param {String|Number} [dateTwo] - 表示日期的字符串或者数字（默认值：今天）&#x000A;     * @returns {boolean}&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;isDatesEqual&quot;,&#x000A;    value: function isDatesEqual(dateOne, dateTwo) {&#x000A;      var getDate = Calendar.getDate;&#x000A;      return Calendar.isEqual(getDate(dateOne).text, getDate(dateTwo).text);&#x000A;    }&#x000A;    /**&#x000A;     * 判断两个时间是否相等&#x000A;     * ========================================================================&#x000A;     * @param {String|Number} timeOne - 表示日期的字符串或者数字&#x000A;     * @param {String|Number} timeTwo - 表示日期的字符串或者数字&#x000A;     * @returns {boolean}&#x000A;     */&#x000A;&#x000A;  }, {&#x000A;    key: &quot;isEqual&quot;,&#x000A;    value: function isEqual(timeOne, timeTwo) {&#x000A;      var toAllSupported = Calendar.toAllSupported;&#x000A;      return new Date(toAllSupported(timeOne)).getTime() === new Date(toAllSupported(timeTwo)).getTime();&#x000A;    }&#x000A;  }, {&#x000A;    key: &quot;toAllSupported&quot;,&#x000A;    value: function toAllSupported(time) {&#x000A;      var Utils = Calendar.Utils;&#x000A;      var date = [];&#x000A;&#x000A;      if (Utils.isNumber(time)) {&#x000A;        return time;&#x000A;      } else {&#x000A;        if (Utils.isString(time)) {&#x000A;          if (time.indexOf(&#39;-&#39;)) {&#x000A;            date = time.split(&#39;-&#39;);&#x000A;          } else {&#x000A;            if (time.indexOf(&#39;/&#39;)) {&#x000A;              date = time.split(&#39;/&#39;);&#x000A;            }&#x000A;          }&#x000A;&#x000A;          if (date.length === 1) {&#x000A;            date.push(&#39;1&#39;);&#x000A;            date.push(&#39;1&#39;);&#x000A;          } else {&#x000A;            if (date.length === 2) {&#x000A;              // 例如：&#39;2019-1&#39;&#x000A;              if (date[0].length === 4) {&#x000A;                date.push(&#39;1&#39;);&#x000A;              } else {&#x000A;                // 例如：&#39;1-2019&#39;&#x000A;                if (data[1].length === 4) {&#x000A;                  date.unshift(&#39;1&#39;);&#x000A;                }&#x000A;              }&#x000A;            }&#x000A;          }&#x000A;&#x000A;          return date.join(&#39;/&#39;);&#x000A;        }&#x000A;      }&#x000A;    }&#x000A;  }]);&#x000A;&#x000A;  return Calendar;&#x000A;}();&#x000A;/**&#x000A; * 日历控件默认的配置信息&#x000A; * ========================================================================&#x000A; */&#x000A;&#x000A;&#x000A;Calendar.defaults = {&#x000A;  parent: &#39;calendar&#39;,&#x000A;  time: &#39;&#39;,&#x000A;  // 0 - 日期显示模式（默认值）&#x000A;  // 1 - 月份显示模式&#x000A;  // 2 - 年代显示模式&#x000A;  viewMode: 0,&#x000A;  // single - 单选（默认值）&#x000A;  // multiple - 多选&#x000A;  // range - 范围多选&#x000A;  // week - 整个星期选择&#x000A;  pickMode: &#39;single&#39;,&#x000A;  hasSwitcher: true,&#x000A;  hasFooter: true,&#x000A;  hasClock: true,&#x000A;  onDatePick: null,&#x000A;  onMonthPick: null,&#x000A;  onYearPick: null,&#x000A;  onTodayPick: null,&#x000A;  MONTHS: [11, 12, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 1, 2],&#x000A;  DAYS: [&#39;日&#39;, &#39;一&#39;, &#39;二&#39;, &#39;三&#39;, &#39;四&#39;, &#39;五&#39;, &#39;六&#39;],&#x000A;  DATES: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],&#x000A;  STYLES: {&#x000A;    WRAP: &#39;cal-md&#39;,&#x000A;    WRAP_WITHOUT_FOOTER: &#39;cal-md-without-footer&#39;,&#x000A;    HEADER: &#39;cal-hd&#39;,&#x000A;    TITLE: &#39;cal-title&#39;,&#x000A;    SWITCHER: &#39;cal-switcher&#39;,&#x000A;    PREV: &#39;cal-prev&#39;,&#x000A;    ICON_PREV: &#39;icon-angle-up&#39;,&#x000A;    NEXT: &#39;cal-next&#39;,&#x000A;    ICON_NEXT: &#39;icon-angle-down&#39;,&#x000A;    BODY: &#39;cal-bd&#39;,&#x000A;    WEEK: &#39;cal-week&#39;,&#x000A;    WEEKEND: &#39;cal-weekend&#39;,&#x000A;    DAY: &#39;cal-day&#39;,&#x000A;    DATES: &#39;cal-dates&#39;,&#x000A;    DATE: &#39;cal-date&#39;,&#x000A;    DATE_PREV: &#39;cal-date-prev&#39;,&#x000A;    DATE_NEXT: &#39;cal-date-next&#39;,&#x000A;    MONTHS: &#39;cal-months&#39;,&#x000A;    MONTH: &#39;cal-month&#39;,&#x000A;    MONTH_PREV: &#39;cal-month-prev&#39;,&#x000A;    MONTH_NEXT: &#39;cal-month-next&#39;,&#x000A;    YEARS: &#39;cal-years&#39;,&#x000A;    YEAR: &#39;cal-year&#39;,&#x000A;    YEAR_PREV: &#39;cal-year-prev&#39;,&#x000A;    YEAR_NEXT: &#39;cal-year-next&#39;,&#x000A;    FOOTER: &#39;cal-ft&#39;,&#x000A;    FOOTER_DATE: &#39;cal-ft-date&#39;,&#x000A;    TODAY: &#39;cal-today&#39;,&#x000A;    FOOTER_TIME: &#39;cal-ft-time&#39;,&#x000A;    TIME: &#39;cal-time&#39;,&#x000A;    TEXT: &#39;cal-text&#39;,&#x000A;    CURRENT: &#39;cal-current&#39;,&#x000A;    PICKED: &#39;cal-picked&#39;,&#x000A;    PICKED_RANGE: &#39;cal-picked-range&#39;,&#x000A;    PICKED_POINT: &#39;cal-picked-point&#39;,&#x000A;    DISABLED: &#39;cal-disabled&#39;,&#x000A;    HIDDEN: &#39;cal-hidden&#39;&#x000A;  }&#x000A;  /**&#x000A;   * 常用的工具方法&#x000A;   * ========================================================================&#x000A;   */&#x000A;&#x000A;};&#x000A;Calendar.Utils = {&#x000A;  uuid: 0,&#x000A;  isString: function isString(o) {&#x000A;    return typeof o === &#39;string&#39;;&#x000A;  },&#x000A;  isNumber: function isNumber(o) {&#x000A;    return typeof o === &#39;number&#39;;&#x000A;  },&#x000A;  isArray: function isArray(o) {&#x000A;    if (Array.isArray) {&#x000A;      return Array.isArray(o);&#x000A;    } else {&#x000A;      return Object.prototype.toString.apply(o) === &#39;[object Array]&#39;;&#x000A;    }&#x000A;  },&#x000A;  isFunction: function isFunction(o) {&#x000A;    return typeof o === &#39;function&#39; || Object.prototype.toString.apply(o) === &#39;[object Function]&#39;;&#x000A;  },&#x000A;  isElement: function isElement(o) {&#x000A;    return o &amp;&amp; o.nodeName &amp;&amp; o.tagName &amp;&amp; o.nodeType === 1;&#x000A;  },&#x000A;  guid: function guid(prefix) {&#x000A;    var Utils = Calendar.Utils;&#x000A;    Utils.uuid += 1;&#x000A;    return prefix ? prefix + &#39;-&#39; + Utils.uuid : &#39;guid-&#39; + Utils.uuid;&#x000A;  },&#x000A;  trim: function trim(str) {&#x000A;    return str.replace(/^\s+/g, &#39;&#39;).replace(/\s+$/g, &#39;&#39;);&#x000A;  },&#x000A;  stripTags: function stripTags(str) {&#x000A;    return str.replace(/&lt;\/?[^&gt;]+(&gt;|$)/g, &#39;&#39;);&#x000A;  }&#x000A;  /**&#x000A;   * DOM 操作相关的工具方法&#x000A;   * ========================================================================&#x000A;   */&#x000A;&#x000A;};&#x000A;Calendar.DOM = {&#x000A;  /**&#x000A;   * 创建 DOM 节点，并添加属性和子节点&#x000A;   * ========================================================================&#x000A;   * @param {String} tagName - 标签名称&#x000A;   * @param {Object} attributes - 属性对象&#x000A;   * @param {Array} [children] - 子节点数组&#x000A;   * @returns {HTMLElement}&#x000A;   */&#x000A;  createElement: function createElement(tagName, attributes, children) {&#x000A;    var Utils = Calendar.Utils;&#x000A;    var element = document.createElement(tagName);&#x000A;&#x000A;    for (var attr in attributes) {&#x000A;      if (attributes.hasOwnProperty(attr)) {&#x000A;        Calendar.DOM.setAttribute(element, attr, attributes[attr]);&#x000A;      }&#x000A;    }&#x000A;&#x000A;    if (Utils.isArray(children)) {&#x000A;      children.forEach(function (child) {&#x000A;        var childNode;&#x000A;&#x000A;        if (Utils.isElement(child)) {&#x000A;          childNode = child;&#x000A;        } else {&#x000A;          if (Utils.isString(child) || Utils.isNumber(child)) {&#x000A;            var text = Utils.isString(child) ? Utils.trim(Utils.stripTags(child)) : child.toString();&#x000A;            childNode = document.createTextNode(text);&#x000A;          }&#x000A;        }&#x000A;&#x000A;        element.appendChild(childNode);&#x000A;      });&#x000A;    }&#x000A;&#x000A;    return element;&#x000A;  },&#x000A;&#x000A;  /**&#x000A;   * 给 DOM 节点设置属性/值&#x000A;   * ========================================================================&#x000A;   * @param {HTMLElement} el - DOM 节点&#x000A;   * @param {String} attr - 属性名称&#x000A;   * @param {String|Number|Boolean} value - 属性值&#x000A;   */&#x000A;  setAttribute: function setAttribute(el, attr, value) {&#x000A;    var tagName = el.tagName.toLowerCase();&#x000A;&#x000A;    switch (attr) {&#x000A;      case &#39;style&#39;:&#x000A;        el.style.cssText = value;&#x000A;        break;&#x000A;&#x000A;      case &#39;value&#39;:&#x000A;        if (tagName === &#39;input&#39; || tagName === &#39;textarea&#39;) {&#x000A;          el.value = value;&#x000A;        } else {&#x000A;          el.setAttribute(attr, value);&#x000A;        }&#x000A;&#x000A;        break;&#x000A;&#x000A;      case &#39;className&#39;:&#x000A;        el.className = value;&#x000A;        break;&#x000A;&#x000A;      default:&#x000A;        el.setAttribute(attr, value);&#x000A;        break;&#x000A;    }&#x000A;  },&#x000A;&#x000A;  /**&#x000A;   * 检测 DOM 节点是否包含名为 className 的样式&#x000A;   * ========================================================================&#x000A;   * @param {HTMLElement} el - DOM 节点&#x000A;   * @param {String} className - 样式名称&#x000A;   * @returns {*}&#x000A;   */&#x000A;  hasClass: function hasClass(el, className) {&#x000A;    var allClass = el.className;&#x000A;&#x000A;    if (!allClass) {&#x000A;      return false;&#x000A;    }&#x000A;&#x000A;    return allClass.match(new RegExp(&#39;(\\s|^)&#39; + className + &#39;(\\s|$)&#39;));&#x000A;  },&#x000A;&#x000A;  /**&#x000A;   * 给 DOM 节点添加名为 className 的样式&#x000A;   * ========================================================================&#x000A;   * @param {HTMLElement} el - DOM 节点&#x000A;   * @param {String} className - 样式名称&#x000A;   * @returns {Boolean}&#x000A;   */&#x000A;  addClass: function addClass(el, className) {&#x000A;    var allClass = el.className;&#x000A;&#x000A;    if (Calendar.DOM.hasClass(el, className)) {&#x000A;      return false;&#x000A;    }&#x000A;&#x000A;    allClass += allClass.length &gt; 0 ? &#39; &#39; + className : className;&#x000A;    el.className = allClass;&#x000A;  },&#x000A;&#x000A;  /**&#x000A;   * 移除 DOM 节点的 className 样式&#x000A;   * ========================================================================&#x000A;   * @param {HTMLElement} el - DOM 节点&#x000A;   * @param {String} className - 样式名称&#x000A;   * @returns {Boolean}&#x000A;   */&#x000A;  removeClass: function removeClass(el, className) {&#x000A;    var allClass = el.className;&#x000A;&#x000A;    if (!allClass || !Calendar.DOM.hasClass(el, className)) {&#x000A;      return false;&#x000A;    }&#x000A;&#x000A;    allClass = Calendar.Utils.trim(allClass.replace(className, &#39;&#39;));&#x000A;    el.className = allClass;&#x000A;  }&#x000A;};&#x000A;/**&#x000A; * 代理事件&#x000A; * ========================================================&#x000A; * 说明：代码修改至 Nicolas Gallagher 的 delegate.js&#x000A; * 项目 GitHub 地址：https://github.com/necolas/delegate.js&#x000A; * ========================================================&#x000A; */&#x000A;&#x000A;Calendar.Delegate = {&#x000A;  /**&#x000A;   * 绑定代理事件&#x000A;   * ========================================================================&#x000A;   * @param {HTMLElement} el - 绑定代理事件的 DOM 节点&#x000A;   * @param {String} selector - 触发 el 代理事件的 DOM 节点的选择器&#x000A;   * @param {String} type - 事件类型&#x000A;   * @param {Function} callback - 绑定事件的回调函数&#x000A;   * @param {Object} [context] - callback 回调函数的 this 上下文（默认值：el）&#x000A;   * @param {Boolean} [capture] - 是否采用事件捕获（默认值：false - 事件冒泡）&#x000A;   * @param {Boolean} [once] - 是否只触发一次（默认值：false - 事件冒泡）&#x000A;   */&#x000A;  on: function on(el, selector, type, callback, context, capture,&#x000A;  /* private */&#x000A;  once) {&#x000A;    var Delegate = Calendar.Delegate;&#x000A;&#x000A;    var wrapper = function wrapper(e) {&#x000A;      var delegateTarget = Delegate.getDelegateTarget(el, e.target, selector);&#x000A;      e.delegateTarget = delegateTarget;&#x000A;&#x000A;      if (delegateTarget) {&#x000A;        if (once === true) {&#x000A;          Delegate.off(el, type, wrapper);&#x000A;        }&#x000A;&#x000A;        callback.call(context || el, e);&#x000A;      }&#x000A;    };&#x000A;&#x000A;    if (type === &#39;mouseenter&#39; || type === &#39;mouseleave&#39;) {&#x000A;      capture = true;&#x000A;    }&#x000A;&#x000A;    callback._delegateWrapper = callback;&#x000A;    el.addEventListener(type, wrapper, capture || false);&#x000A;    return callback;&#x000A;  },&#x000A;&#x000A;  /**&#x000A;   * 绑定只触发一次的事件&#x000A;   * ========================================================================&#x000A;   * @param {HTMLElement} el - 绑定代理事件的 DOM 节点&#x000A;   * @param {String} selector - 触发 el 代理事件的 DOM 节点的选择器&#x000A;   * @param {String} type - 事件类型&#x000A;   * @param {Function} callback - 绑定事件的回调函数&#x000A;   * @param {Object} [context] - callback 回调函数的 this 上下文（默认值：el）&#x000A;   * @param {Boolean} [capture] - 是否采用事件捕获（默认值：false - 事件冒泡）&#x000A;   */&#x000A;  once: function once(el, type, selector, callback, context, capture) {&#x000A;    Calendar.Delegate.on(el, type, selector, callback, context, capture, true);&#x000A;  },&#x000A;&#x000A;  /**&#x000A;   * 取消事件绑定&#x000A;   * ========================================================================&#x000A;   * @param {HTMLElement} el - 取消绑定（代理）事件的 DOM 节点&#x000A;   * @param {String} type - 事件类型&#x000A;   * @param {Function} callback - 绑定事件的回调函数&#x000A;   * @param {Boolean} [capture] - 是否采用事件捕获（默认值：false - 事件冒泡）&#x000A;   */&#x000A;  off: function off(el, type, callback, capture) {&#x000A;    if (callback._delegateWrapper) {&#x000A;      callback = callback._delegateWrapper;&#x000A;      delete callback._delegateWrapper;&#x000A;    }&#x000A;&#x000A;    if (type === &#39;mouseenter&#39; || type === &#39;mouseleave&#39;) {&#x000A;      capture = true;&#x000A;    }&#x000A;&#x000A;    el.removeEventListener(type, callback, capture || false);&#x000A;  },&#x000A;&#x000A;  /**&#x000A;   * 停止事件（阻止默认行为和阻止事件的捕获或冒泡）&#x000A;   * ========================================================================&#x000A;   * @param {Event} evt - 事件对象&#x000A;   */&#x000A;  stop: function stop(evt) {&#x000A;    var Delegate = Calendar.Delegate;&#x000A;    Delegate.stopPropagation(evt);&#x000A;    Delegate.preventDefault(evt);&#x000A;  },&#x000A;&#x000A;  /**&#x000A;   * 终止事件在传播过程的捕获或冒泡&#x000A;   * ========================================================================&#x000A;   * @param {Event} evt - 事件对象&#x000A;   */&#x000A;  stopPropagation: function stopPropagation(evt) {&#x000A;    var event = window.event;&#x000A;&#x000A;    if (evt.stopPropagation) {&#x000A;      evt.stopPropagation();&#x000A;    } else {&#x000A;      event.cancelBubble = true;&#x000A;    }&#x000A;  },&#x000A;&#x000A;  /**&#x000A;   * 阻止事件的默认行为&#x000A;   * ========================================================================&#x000A;   * @param {Event} evt - 事件对象&#x000A;   */&#x000A;  preventDefault: function preventDefault(evt) {&#x000A;    var event = window.event;&#x000A;&#x000A;    if (evt.preventDefault) {&#x000A;      evt.preventDefault();&#x000A;    } else {&#x000A;      event.returnValue = false;&#x000A;    }&#x000A;  },&#x000A;&#x000A;  /**&#x000A;   * 通过 className 获得事件代理节点的事件代理目标节点&#x000A;   * ========================================================================&#x000A;   * @param {HTMLElement} el - 绑定事件代理的节点&#x000A;   * @param target - （触发事件后）事件的目标对象&#x000A;   * @param selector - 目标节点的类选择器&#x000A;   * @returns {HTMLElement|Null}&#x000A;   */&#x000A;  getDelegateTarget: function getDelegateTarget(el, target, selector) {&#x000A;    while (target &amp;&amp; target !== el) {&#x000A;      if (Calendar.DOM.hasClass(target, selector.replace(&#39;.&#39;, &#39;&#39;))) {&#x000A;        return target;&#x000A;      }&#x000A;&#x000A;      target = target.parentElement;&#x000A;    }&#x000A;&#x000A;    return null;&#x000A;  }&#x000A;}; // 为了处理不兼容 Object.assign&#x000A;&#x000A;if (!Calendar.Utils.isFunction(Object.assign)) {&#x000A;  // Must be writable: true, enumerable: false, configurable: true&#x000A;  Object.defineProperty(Object, &quot;assign&quot;, {&#x000A;    value: function assign(target, varArgs) {&#x000A;      // .length of function is 2&#x000A;      &#39;use strict&#39;;&#x000A;&#x000A;      if (target == null) {&#x000A;        // TypeError if undefined or null&#x000A;        throw new TypeError(&#39;Cannot convert undefined or null to object&#39;);&#x000A;      }&#x000A;&#x000A;      var to = Object(target);&#x000A;&#x000A;      for (var index = 1; index &lt; arguments.length; index++) {&#x000A;        var nextSource = arguments[index];&#x000A;&#x000A;        if (nextSource != null) {&#x000A;          // Skip over if undefined or null&#x000A;          for (var nextKey in nextSource) {&#x000A;            // Avoid bugs when hasOwnProperty is shadowed&#x000A;            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {&#x000A;              to[nextKey] = nextSource[nextKey];&#x000A;            }&#x000A;          }&#x000A;        }&#x000A;      }&#x000A;&#x000A;      return to;&#x000A;    },&#x000A;    writable: true,&#x000A;    configurable: true&#x000A;  });&#x000A;}&#x000A;return Calendar;&#x000A;}));&#x000A;</textarea>
<a class="ui button" href="#" id="copy-text">一键复制</a>
<a class="ui button edit-blob" href="/yaohaixiao/calendar.js/edit/master/dist/calendar.js" title="只有登陆后才可以编辑">编辑</a>
<a class="ui button web-ide" href="/-/ide/project/yaohaixiao/calendar.js/edit/master/-/dist/calendar.js" target="_blank">Web IDE</a>
<a class="ui button edit-raw" href="/yaohaixiao/calendar.js/raw/master/dist/calendar.js" target="_blank">原始数据</a>
<a class="ui button edit-blame" href="/yaohaixiao/calendar.js/blame/master/dist/calendar.js">按行查看</a>
<a class="ui button edit-history" href="/yaohaixiao/calendar.js/commits/master/dist/calendar.js">历史</a>
</div>
<script>
  "use strict";
  try {
    if((gon.wait_fork!=undefined && gon.wait_fork==true) || (gon.wait_fetch!=undefined && gon.wait_fetch==true)){
      $('.edit-blob').popup({content:"当前仓库正在后台处理中,暂时无法编辑", on: 'hover', delay: { show: 200, hide: 200 }});
      $('.edit-blob').click(function(e){
        e.preventDefault();
      })
    }
  
    var setUrl = function() {
      var params = window.location.search
      if (params==undefined || $.trim(params).length==0) return;
      $('span.options').children('.basic').find('a').each(function(index,ele){
        var origin_href = $(ele).attr('href');
        if (origin_href!="#" && origin_href.indexOf('?') == -1){
          $(ele).attr('href',origin_href+params);
        }
      });
    }
  
    setUrl();
  
    var clipboard = null,
        $btncopy  = $("#copy-text");
  
    clipboard = new Clipboard("#copy-text", {
      text: function(trigger) {
        return $("#blob_raw").val();
      }
    })
  
    clipboard.on('success', function(e) {
      $btncopy.popup('hide');
      $btncopy.popup('destroy');
      $btncopy.popup({content: '已复制', position: 'bottom center'});
      $btncopy.popup('show');
    })
  
    clipboard.on('error', function(e) {
      var giteeModal = new GiteeModalHelper({okText: '确定'});
      giteeModal.alert("一键复制", '复制失败，请手动复制');
    })
  
    $(function() {
      $btncopy.popup({
        content: '点击复制',
        position: 'bottom center'
      })
    })
  
  } catch (error) {
    console.log('blob/action error:' + error);
  }
  
  $('.disabled-edit-readonly').popup({
    content: "只读文件不可编辑",
    className: {
      popup: 'ui popup',
    },
    position: 'bottom center',
  })
  $('.disabled-edit-readonly, .disabled-edit-status').click(function() {
    return false
  })
  $('.has_tooltip').popup({
    position: 'top center'
  });
</script>
<style>
  .disabled-edit-readonly, .disabled-edit-status {
    background-color: #dcddde !important;
    color: rgba(0, 0, 0, 0.4) !important;
    opacity: 0.3 !important;
    background-image: none !important;
    -webkit-box-shadow: none !important;
            box-shadow: none !important;
    cursor: default !important; }
</style>
</div>
</div>
<div class='contributor-description'><span class='recent-commit' style='margin-top: 0.7rem'>
<a class="commit-author-link  js-popover-card " data-username="yaohaixiao" href="/yaohaixiao">自由的巨浪</a>
<span>提交于</span>
<span class='timeago commit-date' title='2019-07-17 09:26:41 +0800'>
2019-07-17 09:26
</span>
.
<a href="/yaohaixiao/calendar.js/commit/8c98135d87f8a940af54a1fa2a4585f465572937">v0.4.1</a>
</span>
</div>
</div>
<div class='clearfix'></div>
<div class='file_content code'>
<div class='lines white'>
<div class='line-numbers'><a href='#L1' id='L1'>1</a><a href='#L2' id='L2'>2</a><a href='#L3' id='L3'>3</a><a href='#L4' id='L4'>4</a><a href='#L5' id='L5'>5</a><a href='#L6' id='L6'>6</a><a href='#L7' id='L7'>7</a><a href='#L8' id='L8'>8</a><a href='#L9' id='L9'>9</a><a href='#L10' id='L10'>10</a><a href='#L11' id='L11'>11</a><a href='#L12' id='L12'>12</a><a href='#L13' id='L13'>13</a><a href='#L14' id='L14'>14</a><a href='#L15' id='L15'>15</a><a href='#L16' id='L16'>16</a><a href='#L17' id='L17'>17</a><a href='#L18' id='L18'>18</a><a href='#L19' id='L19'>19</a><a href='#L20' id='L20'>20</a><a href='#L21' id='L21'>21</a><a href='#L22' id='L22'>22</a><a href='#L23' id='L23'>23</a><a href='#L24' id='L24'>24</a><a href='#L25' id='L25'>25</a><a href='#L26' id='L26'>26</a><a href='#L27' id='L27'>27</a><a href='#L28' id='L28'>28</a><a href='#L29' id='L29'>29</a><a href='#L30' id='L30'>30</a><a href='#L31' id='L31'>31</a><a href='#L32' id='L32'>32</a><a href='#L33' id='L33'>33</a><a href='#L34' id='L34'>34</a><a href='#L35' id='L35'>35</a><a href='#L36' id='L36'>36</a><a href='#L37' id='L37'>37</a><a href='#L38' id='L38'>38</a><a href='#L39' id='L39'>39</a><a href='#L40' id='L40'>40</a><a href='#L41' id='L41'>41</a><a href='#L42' id='L42'>42</a><a href='#L43' id='L43'>43</a><a href='#L44' id='L44'>44</a><a href='#L45' id='L45'>45</a><a href='#L46' id='L46'>46</a><a href='#L47' id='L47'>47</a><a href='#L48' id='L48'>48</a><a href='#L49' id='L49'>49</a><a href='#L50' id='L50'>50</a><a href='#L51' id='L51'>51</a><a href='#L52' id='L52'>52</a><a href='#L53' id='L53'>53</a><a href='#L54' id='L54'>54</a><a href='#L55' id='L55'>55</a><a href='#L56' id='L56'>56</a><a href='#L57' id='L57'>57</a><a href='#L58' id='L58'>58</a><a href='#L59' id='L59'>59</a><a href='#L60' id='L60'>60</a><a href='#L61' id='L61'>61</a><a href='#L62' id='L62'>62</a><a href='#L63' id='L63'>63</a><a href='#L64' id='L64'>64</a><a href='#L65' id='L65'>65</a><a href='#L66' id='L66'>66</a><a href='#L67' id='L67'>67</a><a href='#L68' id='L68'>68</a><a href='#L69' id='L69'>69</a><a href='#L70' id='L70'>70</a><a href='#L71' id='L71'>71</a><a href='#L72' id='L72'>72</a><a href='#L73' id='L73'>73</a><a href='#L74' id='L74'>74</a><a href='#L75' id='L75'>75</a><a href='#L76' id='L76'>76</a><a href='#L77' id='L77'>77</a><a href='#L78' id='L78'>78</a><a href='#L79' id='L79'>79</a><a href='#L80' id='L80'>80</a><a href='#L81' id='L81'>81</a><a href='#L82' id='L82'>82</a><a href='#L83' id='L83'>83</a><a href='#L84' id='L84'>84</a><a href='#L85' id='L85'>85</a><a href='#L86' id='L86'>86</a><a href='#L87' id='L87'>87</a><a href='#L88' id='L88'>88</a><a href='#L89' id='L89'>89</a><a href='#L90' id='L90'>90</a><a href='#L91' id='L91'>91</a><a href='#L92' id='L92'>92</a><a href='#L93' id='L93'>93</a><a href='#L94' id='L94'>94</a><a href='#L95' id='L95'>95</a><a href='#L96' id='L96'>96</a><a href='#L97' id='L97'>97</a><a href='#L98' id='L98'>98</a><a href='#L99' id='L99'>99</a><a href='#L100' id='L100'>100</a><a href='#L101' id='L101'>101</a><a href='#L102' id='L102'>102</a><a href='#L103' id='L103'>103</a><a href='#L104' id='L104'>104</a><a href='#L105' id='L105'>105</a><a href='#L106' id='L106'>106</a><a href='#L107' id='L107'>107</a><a href='#L108' id='L108'>108</a><a href='#L109' id='L109'>109</a><a href='#L110' id='L110'>110</a><a href='#L111' id='L111'>111</a><a href='#L112' id='L112'>112</a><a href='#L113' id='L113'>113</a><a href='#L114' id='L114'>114</a><a href='#L115' id='L115'>115</a><a href='#L116' id='L116'>116</a><a href='#L117' id='L117'>117</a><a href='#L118' id='L118'>118</a><a href='#L119' id='L119'>119</a><a href='#L120' id='L120'>120</a><a href='#L121' id='L121'>121</a><a href='#L122' id='L122'>122</a><a href='#L123' id='L123'>123</a><a href='#L124' id='L124'>124</a><a href='#L125' id='L125'>125</a><a href='#L126' id='L126'>126</a><a href='#L127' id='L127'>127</a><a href='#L128' id='L128'>128</a><a href='#L129' id='L129'>129</a><a href='#L130' id='L130'>130</a><a href='#L131' id='L131'>131</a><a href='#L132' id='L132'>132</a><a href='#L133' id='L133'>133</a><a href='#L134' id='L134'>134</a><a href='#L135' id='L135'>135</a><a href='#L136' id='L136'>136</a><a href='#L137' id='L137'>137</a><a href='#L138' id='L138'>138</a><a href='#L139' id='L139'>139</a><a href='#L140' id='L140'>140</a><a href='#L141' id='L141'>141</a><a href='#L142' id='L142'>142</a><a href='#L143' id='L143'>143</a><a href='#L144' id='L144'>144</a><a href='#L145' id='L145'>145</a><a href='#L146' id='L146'>146</a><a href='#L147' id='L147'>147</a><a href='#L148' id='L148'>148</a><a href='#L149' id='L149'>149</a><a href='#L150' id='L150'>150</a><a href='#L151' id='L151'>151</a><a href='#L152' id='L152'>152</a><a href='#L153' id='L153'>153</a><a href='#L154' id='L154'>154</a><a href='#L155' id='L155'>155</a><a href='#L156' id='L156'>156</a><a href='#L157' id='L157'>157</a><a href='#L158' id='L158'>158</a><a href='#L159' id='L159'>159</a><a href='#L160' id='L160'>160</a><a href='#L161' id='L161'>161</a><a href='#L162' id='L162'>162</a><a href='#L163' id='L163'>163</a><a href='#L164' id='L164'>164</a><a href='#L165' id='L165'>165</a><a href='#L166' id='L166'>166</a><a href='#L167' id='L167'>167</a><a href='#L168' id='L168'>168</a><a href='#L169' id='L169'>169</a><a href='#L170' id='L170'>170</a><a href='#L171' id='L171'>171</a><a href='#L172' id='L172'>172</a><a href='#L173' id='L173'>173</a><a href='#L174' id='L174'>174</a><a href='#L175' id='L175'>175</a><a href='#L176' id='L176'>176</a><a href='#L177' id='L177'>177</a><a href='#L178' id='L178'>178</a><a href='#L179' id='L179'>179</a><a href='#L180' id='L180'>180</a><a href='#L181' id='L181'>181</a><a href='#L182' id='L182'>182</a><a href='#L183' id='L183'>183</a><a href='#L184' id='L184'>184</a><a href='#L185' id='L185'>185</a><a href='#L186' id='L186'>186</a><a href='#L187' id='L187'>187</a><a href='#L188' id='L188'>188</a><a href='#L189' id='L189'>189</a><a href='#L190' id='L190'>190</a><a href='#L191' id='L191'>191</a><a href='#L192' id='L192'>192</a><a href='#L193' id='L193'>193</a><a href='#L194' id='L194'>194</a><a href='#L195' id='L195'>195</a><a href='#L196' id='L196'>196</a><a href='#L197' id='L197'>197</a><a href='#L198' id='L198'>198</a><a href='#L199' id='L199'>199</a><a href='#L200' id='L200'>200</a><a href='#L201' id='L201'>201</a><a href='#L202' id='L202'>202</a><a href='#L203' id='L203'>203</a><a href='#L204' id='L204'>204</a><a href='#L205' id='L205'>205</a><a href='#L206' id='L206'>206</a><a href='#L207' id='L207'>207</a><a href='#L208' id='L208'>208</a><a href='#L209' id='L209'>209</a><a href='#L210' id='L210'>210</a><a href='#L211' id='L211'>211</a><a href='#L212' id='L212'>212</a><a href='#L213' id='L213'>213</a><a href='#L214' id='L214'>214</a><a href='#L215' id='L215'>215</a><a href='#L216' id='L216'>216</a><a href='#L217' id='L217'>217</a><a href='#L218' id='L218'>218</a><a href='#L219' id='L219'>219</a><a href='#L220' id='L220'>220</a><a href='#L221' id='L221'>221</a><a href='#L222' id='L222'>222</a><a href='#L223' id='L223'>223</a><a href='#L224' id='L224'>224</a><a href='#L225' id='L225'>225</a><a href='#L226' id='L226'>226</a><a href='#L227' id='L227'>227</a><a href='#L228' id='L228'>228</a><a href='#L229' id='L229'>229</a><a href='#L230' id='L230'>230</a><a href='#L231' id='L231'>231</a><a href='#L232' id='L232'>232</a><a href='#L233' id='L233'>233</a><a href='#L234' id='L234'>234</a><a href='#L235' id='L235'>235</a><a href='#L236' id='L236'>236</a><a href='#L237' id='L237'>237</a><a href='#L238' id='L238'>238</a><a href='#L239' id='L239'>239</a><a href='#L240' id='L240'>240</a><a href='#L241' id='L241'>241</a><a href='#L242' id='L242'>242</a><a href='#L243' id='L243'>243</a><a href='#L244' id='L244'>244</a><a href='#L245' id='L245'>245</a><a href='#L246' id='L246'>246</a><a href='#L247' id='L247'>247</a><a href='#L248' id='L248'>248</a><a href='#L249' id='L249'>249</a><a href='#L250' id='L250'>250</a><a href='#L251' id='L251'>251</a><a href='#L252' id='L252'>252</a><a href='#L253' id='L253'>253</a><a href='#L254' id='L254'>254</a><a href='#L255' id='L255'>255</a><a href='#L256' id='L256'>256</a><a href='#L257' id='L257'>257</a><a href='#L258' id='L258'>258</a><a href='#L259' id='L259'>259</a><a href='#L260' id='L260'>260</a><a href='#L261' id='L261'>261</a><a href='#L262' id='L262'>262</a><a href='#L263' id='L263'>263</a><a href='#L264' id='L264'>264</a><a href='#L265' id='L265'>265</a><a href='#L266' id='L266'>266</a><a href='#L267' id='L267'>267</a><a href='#L268' id='L268'>268</a><a href='#L269' id='L269'>269</a><a href='#L270' id='L270'>270</a><a href='#L271' id='L271'>271</a><a href='#L272' id='L272'>272</a><a href='#L273' id='L273'>273</a><a href='#L274' id='L274'>274</a><a href='#L275' id='L275'>275</a><a href='#L276' id='L276'>276</a><a href='#L277' id='L277'>277</a><a href='#L278' id='L278'>278</a><a href='#L279' id='L279'>279</a><a href='#L280' id='L280'>280</a><a href='#L281' id='L281'>281</a><a href='#L282' id='L282'>282</a><a href='#L283' id='L283'>283</a><a href='#L284' id='L284'>284</a><a href='#L285' id='L285'>285</a><a href='#L286' id='L286'>286</a><a href='#L287' id='L287'>287</a><a href='#L288' id='L288'>288</a><a href='#L289' id='L289'>289</a><a href='#L290' id='L290'>290</a><a href='#L291' id='L291'>291</a><a href='#L292' id='L292'>292</a><a href='#L293' id='L293'>293</a><a href='#L294' id='L294'>294</a><a href='#L295' id='L295'>295</a><a href='#L296' id='L296'>296</a><a href='#L297' id='L297'>297</a><a href='#L298' id='L298'>298</a><a href='#L299' id='L299'>299</a><a href='#L300' id='L300'>300</a><a href='#L301' id='L301'>301</a><a href='#L302' id='L302'>302</a><a href='#L303' id='L303'>303</a><a href='#L304' id='L304'>304</a><a href='#L305' id='L305'>305</a><a href='#L306' id='L306'>306</a><a href='#L307' id='L307'>307</a><a href='#L308' id='L308'>308</a><a href='#L309' id='L309'>309</a><a href='#L310' id='L310'>310</a><a href='#L311' id='L311'>311</a><a href='#L312' id='L312'>312</a><a href='#L313' id='L313'>313</a><a href='#L314' id='L314'>314</a><a href='#L315' id='L315'>315</a><a href='#L316' id='L316'>316</a><a href='#L317' id='L317'>317</a><a href='#L318' id='L318'>318</a><a href='#L319' id='L319'>319</a><a href='#L320' id='L320'>320</a><a href='#L321' id='L321'>321</a><a href='#L322' id='L322'>322</a><a href='#L323' id='L323'>323</a><a href='#L324' id='L324'>324</a><a href='#L325' id='L325'>325</a><a href='#L326' id='L326'>326</a><a href='#L327' id='L327'>327</a><a href='#L328' id='L328'>328</a><a href='#L329' id='L329'>329</a><a href='#L330' id='L330'>330</a><a href='#L331' id='L331'>331</a><a href='#L332' id='L332'>332</a><a href='#L333' id='L333'>333</a><a href='#L334' id='L334'>334</a><a href='#L335' id='L335'>335</a><a href='#L336' id='L336'>336</a><a href='#L337' id='L337'>337</a><a href='#L338' id='L338'>338</a><a href='#L339' id='L339'>339</a><a href='#L340' id='L340'>340</a><a href='#L341' id='L341'>341</a><a href='#L342' id='L342'>342</a><a href='#L343' id='L343'>343</a><a href='#L344' id='L344'>344</a><a href='#L345' id='L345'>345</a><a href='#L346' id='L346'>346</a><a href='#L347' id='L347'>347</a><a href='#L348' id='L348'>348</a><a href='#L349' id='L349'>349</a><a href='#L350' id='L350'>350</a><a href='#L351' id='L351'>351</a><a href='#L352' id='L352'>352</a><a href='#L353' id='L353'>353</a><a href='#L354' id='L354'>354</a><a href='#L355' id='L355'>355</a><a href='#L356' id='L356'>356</a><a href='#L357' id='L357'>357</a><a href='#L358' id='L358'>358</a><a href='#L359' id='L359'>359</a><a href='#L360' id='L360'>360</a><a href='#L361' id='L361'>361</a><a href='#L362' id='L362'>362</a><a href='#L363' id='L363'>363</a><a href='#L364' id='L364'>364</a><a href='#L365' id='L365'>365</a><a href='#L366' id='L366'>366</a><a href='#L367' id='L367'>367</a><a href='#L368' id='L368'>368</a><a href='#L369' id='L369'>369</a><a href='#L370' id='L370'>370</a><a href='#L371' id='L371'>371</a><a href='#L372' id='L372'>372</a><a href='#L373' id='L373'>373</a><a href='#L374' id='L374'>374</a><a href='#L375' id='L375'>375</a><a href='#L376' id='L376'>376</a><a href='#L377' id='L377'>377</a><a href='#L378' id='L378'>378</a><a href='#L379' id='L379'>379</a><a href='#L380' id='L380'>380</a><a href='#L381' id='L381'>381</a><a href='#L382' id='L382'>382</a><a href='#L383' id='L383'>383</a><a href='#L384' id='L384'>384</a><a href='#L385' id='L385'>385</a><a href='#L386' id='L386'>386</a><a href='#L387' id='L387'>387</a><a href='#L388' id='L388'>388</a><a href='#L389' id='L389'>389</a><a href='#L390' id='L390'>390</a><a href='#L391' id='L391'>391</a><a href='#L392' id='L392'>392</a><a href='#L393' id='L393'>393</a><a href='#L394' id='L394'>394</a><a href='#L395' id='L395'>395</a><a href='#L396' id='L396'>396</a><a href='#L397' id='L397'>397</a><a href='#L398' id='L398'>398</a><a href='#L399' id='L399'>399</a><a href='#L400' id='L400'>400</a><a href='#L401' id='L401'>401</a><a href='#L402' id='L402'>402</a><a href='#L403' id='L403'>403</a><a href='#L404' id='L404'>404</a><a href='#L405' id='L405'>405</a><a href='#L406' id='L406'>406</a><a href='#L407' id='L407'>407</a><a href='#L408' id='L408'>408</a><a href='#L409' id='L409'>409</a><a href='#L410' id='L410'>410</a><a href='#L411' id='L411'>411</a><a href='#L412' id='L412'>412</a><a href='#L413' id='L413'>413</a><a href='#L414' id='L414'>414</a><a href='#L415' id='L415'>415</a><a href='#L416' id='L416'>416</a><a href='#L417' id='L417'>417</a><a href='#L418' id='L418'>418</a><a href='#L419' id='L419'>419</a><a href='#L420' id='L420'>420</a><a href='#L421' id='L421'>421</a><a href='#L422' id='L422'>422</a><a href='#L423' id='L423'>423</a><a href='#L424' id='L424'>424</a><a href='#L425' id='L425'>425</a><a href='#L426' id='L426'>426</a><a href='#L427' id='L427'>427</a><a href='#L428' id='L428'>428</a><a href='#L429' id='L429'>429</a><a href='#L430' id='L430'>430</a><a href='#L431' id='L431'>431</a><a href='#L432' id='L432'>432</a><a href='#L433' id='L433'>433</a><a href='#L434' id='L434'>434</a><a href='#L435' id='L435'>435</a><a href='#L436' id='L436'>436</a><a href='#L437' id='L437'>437</a><a href='#L438' id='L438'>438</a><a href='#L439' id='L439'>439</a><a href='#L440' id='L440'>440</a><a href='#L441' id='L441'>441</a><a href='#L442' id='L442'>442</a><a href='#L443' id='L443'>443</a><a href='#L444' id='L444'>444</a><a href='#L445' id='L445'>445</a><a href='#L446' id='L446'>446</a><a href='#L447' id='L447'>447</a><a href='#L448' id='L448'>448</a><a href='#L449' id='L449'>449</a><a href='#L450' id='L450'>450</a><a href='#L451' id='L451'>451</a><a href='#L452' id='L452'>452</a><a href='#L453' id='L453'>453</a><a href='#L454' id='L454'>454</a><a href='#L455' id='L455'>455</a><a href='#L456' id='L456'>456</a><a href='#L457' id='L457'>457</a><a href='#L458' id='L458'>458</a><a href='#L459' id='L459'>459</a><a href='#L460' id='L460'>460</a><a href='#L461' id='L461'>461</a><a href='#L462' id='L462'>462</a><a href='#L463' id='L463'>463</a><a href='#L464' id='L464'>464</a><a href='#L465' id='L465'>465</a><a href='#L466' id='L466'>466</a><a href='#L467' id='L467'>467</a><a href='#L468' id='L468'>468</a><a href='#L469' id='L469'>469</a><a href='#L470' id='L470'>470</a><a href='#L471' id='L471'>471</a><a href='#L472' id='L472'>472</a><a href='#L473' id='L473'>473</a><a href='#L474' id='L474'>474</a><a href='#L475' id='L475'>475</a><a href='#L476' id='L476'>476</a><a href='#L477' id='L477'>477</a><a href='#L478' id='L478'>478</a><a href='#L479' id='L479'>479</a><a href='#L480' id='L480'>480</a><a href='#L481' id='L481'>481</a><a href='#L482' id='L482'>482</a><a href='#L483' id='L483'>483</a><a href='#L484' id='L484'>484</a><a href='#L485' id='L485'>485</a><a href='#L486' id='L486'>486</a><a href='#L487' id='L487'>487</a><a href='#L488' id='L488'>488</a><a href='#L489' id='L489'>489</a><a href='#L490' id='L490'>490</a><a href='#L491' id='L491'>491</a><a href='#L492' id='L492'>492</a><a href='#L493' id='L493'>493</a><a href='#L494' id='L494'>494</a><a href='#L495' id='L495'>495</a><a href='#L496' id='L496'>496</a><a href='#L497' id='L497'>497</a><a href='#L498' id='L498'>498</a><a href='#L499' id='L499'>499</a><a href='#L500' id='L500'>500</a><a href='#L501' id='L501'>501</a><a href='#L502' id='L502'>502</a><a href='#L503' id='L503'>503</a><a href='#L504' id='L504'>504</a><a href='#L505' id='L505'>505</a><a href='#L506' id='L506'>506</a><a href='#L507' id='L507'>507</a><a href='#L508' id='L508'>508</a><a href='#L509' id='L509'>509</a><a href='#L510' id='L510'>510</a><a href='#L511' id='L511'>511</a><a href='#L512' id='L512'>512</a><a href='#L513' id='L513'>513</a><a href='#L514' id='L514'>514</a><a href='#L515' id='L515'>515</a><a href='#L516' id='L516'>516</a><a href='#L517' id='L517'>517</a><a href='#L518' id='L518'>518</a><a href='#L519' id='L519'>519</a><a href='#L520' id='L520'>520</a><a href='#L521' id='L521'>521</a><a href='#L522' id='L522'>522</a><a href='#L523' id='L523'>523</a><a href='#L524' id='L524'>524</a><a href='#L525' id='L525'>525</a><a href='#L526' id='L526'>526</a><a href='#L527' id='L527'>527</a><a href='#L528' id='L528'>528</a><a href='#L529' id='L529'>529</a><a href='#L530' id='L530'>530</a><a href='#L531' id='L531'>531</a><a href='#L532' id='L532'>532</a><a href='#L533' id='L533'>533</a><a href='#L534' id='L534'>534</a><a href='#L535' id='L535'>535</a><a href='#L536' id='L536'>536</a><a href='#L537' id='L537'>537</a><a href='#L538' id='L538'>538</a><a href='#L539' id='L539'>539</a><a href='#L540' id='L540'>540</a><a href='#L541' id='L541'>541</a><a href='#L542' id='L542'>542</a><a href='#L543' id='L543'>543</a><a href='#L544' id='L544'>544</a><a href='#L545' id='L545'>545</a><a href='#L546' id='L546'>546</a><a href='#L547' id='L547'>547</a><a href='#L548' id='L548'>548</a><a href='#L549' id='L549'>549</a><a href='#L550' id='L550'>550</a><a href='#L551' id='L551'>551</a><a href='#L552' id='L552'>552</a><a href='#L553' id='L553'>553</a><a href='#L554' id='L554'>554</a><a href='#L555' id='L555'>555</a><a href='#L556' id='L556'>556</a><a href='#L557' id='L557'>557</a><a href='#L558' id='L558'>558</a><a href='#L559' id='L559'>559</a><a href='#L560' id='L560'>560</a><a href='#L561' id='L561'>561</a><a href='#L562' id='L562'>562</a><a href='#L563' id='L563'>563</a><a href='#L564' id='L564'>564</a><a href='#L565' id='L565'>565</a><a href='#L566' id='L566'>566</a><a href='#L567' id='L567'>567</a><a href='#L568' id='L568'>568</a><a href='#L569' id='L569'>569</a><a href='#L570' id='L570'>570</a><a href='#L571' id='L571'>571</a><a href='#L572' id='L572'>572</a><a href='#L573' id='L573'>573</a><a href='#L574' id='L574'>574</a><a href='#L575' id='L575'>575</a><a href='#L576' id='L576'>576</a><a href='#L577' id='L577'>577</a><a href='#L578' id='L578'>578</a><a href='#L579' id='L579'>579</a><a href='#L580' id='L580'>580</a><a href='#L581' id='L581'>581</a><a href='#L582' id='L582'>582</a><a href='#L583' id='L583'>583</a><a href='#L584' id='L584'>584</a><a href='#L585' id='L585'>585</a><a href='#L586' id='L586'>586</a><a href='#L587' id='L587'>587</a><a href='#L588' id='L588'>588</a><a href='#L589' id='L589'>589</a><a href='#L590' id='L590'>590</a><a href='#L591' id='L591'>591</a><a href='#L592' id='L592'>592</a><a href='#L593' id='L593'>593</a><a href='#L594' id='L594'>594</a><a href='#L595' id='L595'>595</a><a href='#L596' id='L596'>596</a><a href='#L597' id='L597'>597</a><a href='#L598' id='L598'>598</a><a href='#L599' id='L599'>599</a><a href='#L600' id='L600'>600</a><a href='#L601' id='L601'>601</a><a href='#L602' id='L602'>602</a><a href='#L603' id='L603'>603</a><a href='#L604' id='L604'>604</a><a href='#L605' id='L605'>605</a><a href='#L606' id='L606'>606</a><a href='#L607' id='L607'>607</a><a href='#L608' id='L608'>608</a><a href='#L609' id='L609'>609</a><a href='#L610' id='L610'>610</a><a href='#L611' id='L611'>611</a><a href='#L612' id='L612'>612</a><a href='#L613' id='L613'>613</a><a href='#L614' id='L614'>614</a><a href='#L615' id='L615'>615</a><a href='#L616' id='L616'>616</a><a href='#L617' id='L617'>617</a><a href='#L618' id='L618'>618</a><a href='#L619' id='L619'>619</a><a href='#L620' id='L620'>620</a><a href='#L621' id='L621'>621</a><a href='#L622' id='L622'>622</a><a href='#L623' id='L623'>623</a><a href='#L624' id='L624'>624</a><a href='#L625' id='L625'>625</a><a href='#L626' id='L626'>626</a><a href='#L627' id='L627'>627</a><a href='#L628' id='L628'>628</a><a href='#L629' id='L629'>629</a><a href='#L630' id='L630'>630</a><a href='#L631' id='L631'>631</a><a href='#L632' id='L632'>632</a><a href='#L633' id='L633'>633</a><a href='#L634' id='L634'>634</a><a href='#L635' id='L635'>635</a><a href='#L636' id='L636'>636</a><a href='#L637' id='L637'>637</a><a href='#L638' id='L638'>638</a><a href='#L639' id='L639'>639</a><a href='#L640' id='L640'>640</a><a href='#L641' id='L641'>641</a><a href='#L642' id='L642'>642</a><a href='#L643' id='L643'>643</a><a href='#L644' id='L644'>644</a><a href='#L645' id='L645'>645</a><a href='#L646' id='L646'>646</a><a href='#L647' id='L647'>647</a><a href='#L648' id='L648'>648</a><a href='#L649' id='L649'>649</a><a href='#L650' id='L650'>650</a><a href='#L651' id='L651'>651</a><a href='#L652' id='L652'>652</a><a href='#L653' id='L653'>653</a><a href='#L654' id='L654'>654</a><a href='#L655' id='L655'>655</a><a href='#L656' id='L656'>656</a><a href='#L657' id='L657'>657</a><a href='#L658' id='L658'>658</a><a href='#L659' id='L659'>659</a><a href='#L660' id='L660'>660</a><a href='#L661' id='L661'>661</a><a href='#L662' id='L662'>662</a><a href='#L663' id='L663'>663</a><a href='#L664' id='L664'>664</a><a href='#L665' id='L665'>665</a><a href='#L666' id='L666'>666</a><a href='#L667' id='L667'>667</a><a href='#L668' id='L668'>668</a><a href='#L669' id='L669'>669</a><a href='#L670' id='L670'>670</a><a href='#L671' id='L671'>671</a><a href='#L672' id='L672'>672</a><a href='#L673' id='L673'>673</a><a href='#L674' id='L674'>674</a><a href='#L675' id='L675'>675</a><a href='#L676' id='L676'>676</a><a href='#L677' id='L677'>677</a><a href='#L678' id='L678'>678</a><a href='#L679' id='L679'>679</a><a href='#L680' id='L680'>680</a><a href='#L681' id='L681'>681</a><a href='#L682' id='L682'>682</a><a href='#L683' id='L683'>683</a><a href='#L684' id='L684'>684</a><a href='#L685' id='L685'>685</a><a href='#L686' id='L686'>686</a><a href='#L687' id='L687'>687</a><a href='#L688' id='L688'>688</a><a href='#L689' id='L689'>689</a><a href='#L690' id='L690'>690</a><a href='#L691' id='L691'>691</a><a href='#L692' id='L692'>692</a><a href='#L693' id='L693'>693</a><a href='#L694' id='L694'>694</a><a href='#L695' id='L695'>695</a><a href='#L696' id='L696'>696</a><a href='#L697' id='L697'>697</a><a href='#L698' id='L698'>698</a><a href='#L699' id='L699'>699</a><a href='#L700' id='L700'>700</a><a href='#L701' id='L701'>701</a><a href='#L702' id='L702'>702</a><a href='#L703' id='L703'>703</a><a href='#L704' id='L704'>704</a><a href='#L705' id='L705'>705</a><a href='#L706' id='L706'>706</a><a href='#L707' id='L707'>707</a><a href='#L708' id='L708'>708</a><a href='#L709' id='L709'>709</a><a href='#L710' id='L710'>710</a><a href='#L711' id='L711'>711</a><a href='#L712' id='L712'>712</a><a href='#L713' id='L713'>713</a><a href='#L714' id='L714'>714</a><a href='#L715' id='L715'>715</a><a href='#L716' id='L716'>716</a><a href='#L717' id='L717'>717</a><a href='#L718' id='L718'>718</a><a href='#L719' id='L719'>719</a><a href='#L720' id='L720'>720</a><a href='#L721' id='L721'>721</a><a href='#L722' id='L722'>722</a><a href='#L723' id='L723'>723</a><a href='#L724' id='L724'>724</a><a href='#L725' id='L725'>725</a><a href='#L726' id='L726'>726</a><a href='#L727' id='L727'>727</a><a href='#L728' id='L728'>728</a><a href='#L729' id='L729'>729</a><a href='#L730' id='L730'>730</a><a href='#L731' id='L731'>731</a><a href='#L732' id='L732'>732</a><a href='#L733' id='L733'>733</a><a href='#L734' id='L734'>734</a><a href='#L735' id='L735'>735</a><a href='#L736' id='L736'>736</a><a href='#L737' id='L737'>737</a><a href='#L738' id='L738'>738</a><a href='#L739' id='L739'>739</a><a href='#L740' id='L740'>740</a><a href='#L741' id='L741'>741</a><a href='#L742' id='L742'>742</a><a href='#L743' id='L743'>743</a><a href='#L744' id='L744'>744</a><a href='#L745' id='L745'>745</a><a href='#L746' id='L746'>746</a><a href='#L747' id='L747'>747</a><a href='#L748' id='L748'>748</a><a href='#L749' id='L749'>749</a><a href='#L750' id='L750'>750</a><a href='#L751' id='L751'>751</a><a href='#L752' id='L752'>752</a><a href='#L753' id='L753'>753</a><a href='#L754' id='L754'>754</a><a href='#L755' id='L755'>755</a><a href='#L756' id='L756'>756</a><a href='#L757' id='L757'>757</a><a href='#L758' id='L758'>758</a><a href='#L759' id='L759'>759</a><a href='#L760' id='L760'>760</a><a href='#L761' id='L761'>761</a><a href='#L762' id='L762'>762</a><a href='#L763' id='L763'>763</a><a href='#L764' id='L764'>764</a><a href='#L765' id='L765'>765</a><a href='#L766' id='L766'>766</a><a href='#L767' id='L767'>767</a><a href='#L768' id='L768'>768</a><a href='#L769' id='L769'>769</a><a href='#L770' id='L770'>770</a><a href='#L771' id='L771'>771</a><a href='#L772' id='L772'>772</a><a href='#L773' id='L773'>773</a><a href='#L774' id='L774'>774</a><a href='#L775' id='L775'>775</a><a href='#L776' id='L776'>776</a><a href='#L777' id='L777'>777</a><a href='#L778' id='L778'>778</a><a href='#L779' id='L779'>779</a><a href='#L780' id='L780'>780</a><a href='#L781' id='L781'>781</a><a href='#L782' id='L782'>782</a><a href='#L783' id='L783'>783</a><a href='#L784' id='L784'>784</a><a href='#L785' id='L785'>785</a><a href='#L786' id='L786'>786</a><a href='#L787' id='L787'>787</a><a href='#L788' id='L788'>788</a><a href='#L789' id='L789'>789</a><a href='#L790' id='L790'>790</a><a href='#L791' id='L791'>791</a><a href='#L792' id='L792'>792</a><a href='#L793' id='L793'>793</a><a href='#L794' id='L794'>794</a><a href='#L795' id='L795'>795</a><a href='#L796' id='L796'>796</a><a href='#L797' id='L797'>797</a><a href='#L798' id='L798'>798</a><a href='#L799' id='L799'>799</a><a href='#L800' id='L800'>800</a><a href='#L801' id='L801'>801</a><a href='#L802' id='L802'>802</a><a href='#L803' id='L803'>803</a><a href='#L804' id='L804'>804</a><a href='#L805' id='L805'>805</a><a href='#L806' id='L806'>806</a><a href='#L807' id='L807'>807</a><a href='#L808' id='L808'>808</a><a href='#L809' id='L809'>809</a><a href='#L810' id='L810'>810</a><a href='#L811' id='L811'>811</a><a href='#L812' id='L812'>812</a><a href='#L813' id='L813'>813</a><a href='#L814' id='L814'>814</a><a href='#L815' id='L815'>815</a><a href='#L816' id='L816'>816</a><a href='#L817' id='L817'>817</a><a href='#L818' id='L818'>818</a><a href='#L819' id='L819'>819</a><a href='#L820' id='L820'>820</a><a href='#L821' id='L821'>821</a><a href='#L822' id='L822'>822</a><a href='#L823' id='L823'>823</a><a href='#L824' id='L824'>824</a><a href='#L825' id='L825'>825</a><a href='#L826' id='L826'>826</a><a href='#L827' id='L827'>827</a><a href='#L828' id='L828'>828</a><a href='#L829' id='L829'>829</a><a href='#L830' id='L830'>830</a><a href='#L831' id='L831'>831</a><a href='#L832' id='L832'>832</a><a href='#L833' id='L833'>833</a><a href='#L834' id='L834'>834</a><a href='#L835' id='L835'>835</a><a href='#L836' id='L836'>836</a><a href='#L837' id='L837'>837</a><a href='#L838' id='L838'>838</a><a href='#L839' id='L839'>839</a><a href='#L840' id='L840'>840</a><a href='#L841' id='L841'>841</a><a href='#L842' id='L842'>842</a><a href='#L843' id='L843'>843</a><a href='#L844' id='L844'>844</a><a href='#L845' id='L845'>845</a><a href='#L846' id='L846'>846</a><a href='#L847' id='L847'>847</a><a href='#L848' id='L848'>848</a><a href='#L849' id='L849'>849</a><a href='#L850' id='L850'>850</a><a href='#L851' id='L851'>851</a><a href='#L852' id='L852'>852</a><a href='#L853' id='L853'>853</a><a href='#L854' id='L854'>854</a><a href='#L855' id='L855'>855</a><a href='#L856' id='L856'>856</a><a href='#L857' id='L857'>857</a><a href='#L858' id='L858'>858</a><a href='#L859' id='L859'>859</a><a href='#L860' id='L860'>860</a><a href='#L861' id='L861'>861</a><a href='#L862' id='L862'>862</a><a href='#L863' id='L863'>863</a><a href='#L864' id='L864'>864</a><a href='#L865' id='L865'>865</a><a href='#L866' id='L866'>866</a><a href='#L867' id='L867'>867</a><a href='#L868' id='L868'>868</a><a href='#L869' id='L869'>869</a><a href='#L870' id='L870'>870</a><a href='#L871' id='L871'>871</a><a href='#L872' id='L872'>872</a><a href='#L873' id='L873'>873</a><a href='#L874' id='L874'>874</a><a href='#L875' id='L875'>875</a><a href='#L876' id='L876'>876</a><a href='#L877' id='L877'>877</a><a href='#L878' id='L878'>878</a><a href='#L879' id='L879'>879</a><a href='#L880' id='L880'>880</a><a href='#L881' id='L881'>881</a><a href='#L882' id='L882'>882</a><a href='#L883' id='L883'>883</a><a href='#L884' id='L884'>884</a><a href='#L885' id='L885'>885</a><a href='#L886' id='L886'>886</a><a href='#L887' id='L887'>887</a><a href='#L888' id='L888'>888</a><a href='#L889' id='L889'>889</a><a href='#L890' id='L890'>890</a><a href='#L891' id='L891'>891</a><a href='#L892' id='L892'>892</a><a href='#L893' id='L893'>893</a><a href='#L894' id='L894'>894</a><a href='#L895' id='L895'>895</a><a href='#L896' id='L896'>896</a><a href='#L897' id='L897'>897</a><a href='#L898' id='L898'>898</a><a href='#L899' id='L899'>899</a><a href='#L900' id='L900'>900</a><a href='#L901' id='L901'>901</a><a href='#L902' id='L902'>902</a><a href='#L903' id='L903'>903</a><a href='#L904' id='L904'>904</a><a href='#L905' id='L905'>905</a><a href='#L906' id='L906'>906</a><a href='#L907' id='L907'>907</a><a href='#L908' id='L908'>908</a><a href='#L909' id='L909'>909</a><a href='#L910' id='L910'>910</a><a href='#L911' id='L911'>911</a><a href='#L912' id='L912'>912</a><a href='#L913' id='L913'>913</a><a href='#L914' id='L914'>914</a><a href='#L915' id='L915'>915</a><a href='#L916' id='L916'>916</a><a href='#L917' id='L917'>917</a><a href='#L918' id='L918'>918</a><a href='#L919' id='L919'>919</a><a href='#L920' id='L920'>920</a><a href='#L921' id='L921'>921</a><a href='#L922' id='L922'>922</a><a href='#L923' id='L923'>923</a><a href='#L924' id='L924'>924</a><a href='#L925' id='L925'>925</a><a href='#L926' id='L926'>926</a><a href='#L927' id='L927'>927</a><a href='#L928' id='L928'>928</a><a href='#L929' id='L929'>929</a><a href='#L930' id='L930'>930</a><a href='#L931' id='L931'>931</a><a href='#L932' id='L932'>932</a><a href='#L933' id='L933'>933</a><a href='#L934' id='L934'>934</a><a href='#L935' id='L935'>935</a><a href='#L936' id='L936'>936</a><a href='#L937' id='L937'>937</a><a href='#L938' id='L938'>938</a><a href='#L939' id='L939'>939</a><a href='#L940' id='L940'>940</a><a href='#L941' id='L941'>941</a><a href='#L942' id='L942'>942</a><a href='#L943' id='L943'>943</a><a href='#L944' id='L944'>944</a><a href='#L945' id='L945'>945</a><a href='#L946' id='L946'>946</a><a href='#L947' id='L947'>947</a><a href='#L948' id='L948'>948</a><a href='#L949' id='L949'>949</a><a href='#L950' id='L950'>950</a><a href='#L951' id='L951'>951</a><a href='#L952' id='L952'>952</a><a href='#L953' id='L953'>953</a><a href='#L954' id='L954'>954</a><a href='#L955' id='L955'>955</a><a href='#L956' id='L956'>956</a><a href='#L957' id='L957'>957</a><a href='#L958' id='L958'>958</a><a href='#L959' id='L959'>959</a><a href='#L960' id='L960'>960</a><a href='#L961' id='L961'>961</a><a href='#L962' id='L962'>962</a><a href='#L963' id='L963'>963</a><a href='#L964' id='L964'>964</a><a href='#L965' id='L965'>965</a><a href='#L966' id='L966'>966</a><a href='#L967' id='L967'>967</a><a href='#L968' id='L968'>968</a><a href='#L969' id='L969'>969</a><a href='#L970' id='L970'>970</a><a href='#L971' id='L971'>971</a><a href='#L972' id='L972'>972</a><a href='#L973' id='L973'>973</a><a href='#L974' id='L974'>974</a><a href='#L975' id='L975'>975</a><a href='#L976' id='L976'>976</a><a href='#L977' id='L977'>977</a><a href='#L978' id='L978'>978</a><a href='#L979' id='L979'>979</a><a href='#L980' id='L980'>980</a><a href='#L981' id='L981'>981</a><a href='#L982' id='L982'>982</a><a href='#L983' id='L983'>983</a><a href='#L984' id='L984'>984</a><a href='#L985' id='L985'>985</a><a href='#L986' id='L986'>986</a><a href='#L987' id='L987'>987</a><a href='#L988' id='L988'>988</a><a href='#L989' id='L989'>989</a><a href='#L990' id='L990'>990</a><a href='#L991' id='L991'>991</a><a href='#L992' id='L992'>992</a><a href='#L993' id='L993'>993</a><a href='#L994' id='L994'>994</a><a href='#L995' id='L995'>995</a><a href='#L996' id='L996'>996</a><a href='#L997' id='L997'>997</a><a href='#L998' id='L998'>998</a><a href='#L999' id='L999'>999</a><a href='#L1000' id='L1000'>1000</a><a href='#L1001' id='L1001'>1001</a><a href='#L1002' id='L1002'>1002</a><a href='#L1003' id='L1003'>1003</a><a href='#L1004' id='L1004'>1004</a><a href='#L1005' id='L1005'>1005</a><a href='#L1006' id='L1006'>1006</a><a href='#L1007' id='L1007'>1007</a><a href='#L1008' id='L1008'>1008</a><a href='#L1009' id='L1009'>1009</a><a href='#L1010' id='L1010'>1010</a><a href='#L1011' id='L1011'>1011</a><a href='#L1012' id='L1012'>1012</a><a href='#L1013' id='L1013'>1013</a><a href='#L1014' id='L1014'>1014</a><a href='#L1015' id='L1015'>1015</a><a href='#L1016' id='L1016'>1016</a><a href='#L1017' id='L1017'>1017</a><a href='#L1018' id='L1018'>1018</a><a href='#L1019' id='L1019'>1019</a><a href='#L1020' id='L1020'>1020</a><a href='#L1021' id='L1021'>1021</a><a href='#L1022' id='L1022'>1022</a><a href='#L1023' id='L1023'>1023</a><a href='#L1024' id='L1024'>1024</a><a href='#L1025' id='L1025'>1025</a><a href='#L1026' id='L1026'>1026</a><a href='#L1027' id='L1027'>1027</a><a href='#L1028' id='L1028'>1028</a><a href='#L1029' id='L1029'>1029</a><a href='#L1030' id='L1030'>1030</a><a href='#L1031' id='L1031'>1031</a><a href='#L1032' id='L1032'>1032</a><a href='#L1033' id='L1033'>1033</a><a href='#L1034' id='L1034'>1034</a><a href='#L1035' id='L1035'>1035</a><a href='#L1036' id='L1036'>1036</a><a href='#L1037' id='L1037'>1037</a><a href='#L1038' id='L1038'>1038</a><a href='#L1039' id='L1039'>1039</a><a href='#L1040' id='L1040'>1040</a><a href='#L1041' id='L1041'>1041</a><a href='#L1042' id='L1042'>1042</a><a href='#L1043' id='L1043'>1043</a><a href='#L1044' id='L1044'>1044</a><a href='#L1045' id='L1045'>1045</a><a href='#L1046' id='L1046'>1046</a><a href='#L1047' id='L1047'>1047</a><a href='#L1048' id='L1048'>1048</a><a href='#L1049' id='L1049'>1049</a><a href='#L1050' id='L1050'>1050</a><a href='#L1051' id='L1051'>1051</a><a href='#L1052' id='L1052'>1052</a><a href='#L1053' id='L1053'>1053</a><a href='#L1054' id='L1054'>1054</a><a href='#L1055' id='L1055'>1055</a><a href='#L1056' id='L1056'>1056</a><a href='#L1057' id='L1057'>1057</a><a href='#L1058' id='L1058'>1058</a><a href='#L1059' id='L1059'>1059</a><a href='#L1060' id='L1060'>1060</a><a href='#L1061' id='L1061'>1061</a><a href='#L1062' id='L1062'>1062</a><a href='#L1063' id='L1063'>1063</a><a href='#L1064' id='L1064'>1064</a><a href='#L1065' id='L1065'>1065</a><a href='#L1066' id='L1066'>1066</a><a href='#L1067' id='L1067'>1067</a><a href='#L1068' id='L1068'>1068</a><a href='#L1069' id='L1069'>1069</a><a href='#L1070' id='L1070'>1070</a><a href='#L1071' id='L1071'>1071</a><a href='#L1072' id='L1072'>1072</a><a href='#L1073' id='L1073'>1073</a><a href='#L1074' id='L1074'>1074</a><a href='#L1075' id='L1075'>1075</a><a href='#L1076' id='L1076'>1076</a><a href='#L1077' id='L1077'>1077</a><a href='#L1078' id='L1078'>1078</a><a href='#L1079' id='L1079'>1079</a><a href='#L1080' id='L1080'>1080</a><a href='#L1081' id='L1081'>1081</a><a href='#L1082' id='L1082'>1082</a><a href='#L1083' id='L1083'>1083</a><a href='#L1084' id='L1084'>1084</a><a href='#L1085' id='L1085'>1085</a><a href='#L1086' id='L1086'>1086</a><a href='#L1087' id='L1087'>1087</a><a href='#L1088' id='L1088'>1088</a><a href='#L1089' id='L1089'>1089</a><a href='#L1090' id='L1090'>1090</a><a href='#L1091' id='L1091'>1091</a><a href='#L1092' id='L1092'>1092</a><a href='#L1093' id='L1093'>1093</a><a href='#L1094' id='L1094'>1094</a><a href='#L1095' id='L1095'>1095</a><a href='#L1096' id='L1096'>1096</a><a href='#L1097' id='L1097'>1097</a><a href='#L1098' id='L1098'>1098</a><a href='#L1099' id='L1099'>1099</a><a href='#L1100' id='L1100'>1100</a><a href='#L1101' id='L1101'>1101</a><a href='#L1102' id='L1102'>1102</a><a href='#L1103' id='L1103'>1103</a><a href='#L1104' id='L1104'>1104</a><a href='#L1105' id='L1105'>1105</a><a href='#L1106' id='L1106'>1106</a><a href='#L1107' id='L1107'>1107</a><a href='#L1108' id='L1108'>1108</a><a href='#L1109' id='L1109'>1109</a><a href='#L1110' id='L1110'>1110</a><a href='#L1111' id='L1111'>1111</a><a href='#L1112' id='L1112'>1112</a><a href='#L1113' id='L1113'>1113</a><a href='#L1114' id='L1114'>1114</a><a href='#L1115' id='L1115'>1115</a><a href='#L1116' id='L1116'>1116</a><a href='#L1117' id='L1117'>1117</a><a href='#L1118' id='L1118'>1118</a><a href='#L1119' id='L1119'>1119</a><a href='#L1120' id='L1120'>1120</a><a href='#L1121' id='L1121'>1121</a><a href='#L1122' id='L1122'>1122</a><a href='#L1123' id='L1123'>1123</a><a href='#L1124' id='L1124'>1124</a><a href='#L1125' id='L1125'>1125</a><a href='#L1126' id='L1126'>1126</a><a href='#L1127' id='L1127'>1127</a><a href='#L1128' id='L1128'>1128</a><a href='#L1129' id='L1129'>1129</a><a href='#L1130' id='L1130'>1130</a><a href='#L1131' id='L1131'>1131</a><a href='#L1132' id='L1132'>1132</a><a href='#L1133' id='L1133'>1133</a><a href='#L1134' id='L1134'>1134</a><a href='#L1135' id='L1135'>1135</a><a href='#L1136' id='L1136'>1136</a><a href='#L1137' id='L1137'>1137</a><a href='#L1138' id='L1138'>1138</a><a href='#L1139' id='L1139'>1139</a><a href='#L1140' id='L1140'>1140</a><a href='#L1141' id='L1141'>1141</a><a href='#L1142' id='L1142'>1142</a><a href='#L1143' id='L1143'>1143</a><a href='#L1144' id='L1144'>1144</a><a href='#L1145' id='L1145'>1145</a><a href='#L1146' id='L1146'>1146</a><a href='#L1147' id='L1147'>1147</a><a href='#L1148' id='L1148'>1148</a><a href='#L1149' id='L1149'>1149</a><a href='#L1150' id='L1150'>1150</a><a href='#L1151' id='L1151'>1151</a><a href='#L1152' id='L1152'>1152</a><a href='#L1153' id='L1153'>1153</a><a href='#L1154' id='L1154'>1154</a><a href='#L1155' id='L1155'>1155</a><a href='#L1156' id='L1156'>1156</a><a href='#L1157' id='L1157'>1157</a><a href='#L1158' id='L1158'>1158</a><a href='#L1159' id='L1159'>1159</a><a href='#L1160' id='L1160'>1160</a><a href='#L1161' id='L1161'>1161</a><a href='#L1162' id='L1162'>1162</a><a href='#L1163' id='L1163'>1163</a><a href='#L1164' id='L1164'>1164</a><a href='#L1165' id='L1165'>1165</a><a href='#L1166' id='L1166'>1166</a><a href='#L1167' id='L1167'>1167</a><a href='#L1168' id='L1168'>1168</a><a href='#L1169' id='L1169'>1169</a><a href='#L1170' id='L1170'>1170</a><a href='#L1171' id='L1171'>1171</a><a href='#L1172' id='L1172'>1172</a><a href='#L1173' id='L1173'>1173</a><a href='#L1174' id='L1174'>1174</a><a href='#L1175' id='L1175'>1175</a><a href='#L1176' id='L1176'>1176</a><a href='#L1177' id='L1177'>1177</a><a href='#L1178' id='L1178'>1178</a><a href='#L1179' id='L1179'>1179</a><a href='#L1180' id='L1180'>1180</a><a href='#L1181' id='L1181'>1181</a><a href='#L1182' id='L1182'>1182</a><a href='#L1183' id='L1183'>1183</a><a href='#L1184' id='L1184'>1184</a><a href='#L1185' id='L1185'>1185</a><a href='#L1186' id='L1186'>1186</a><a href='#L1187' id='L1187'>1187</a><a href='#L1188' id='L1188'>1188</a><a href='#L1189' id='L1189'>1189</a><a href='#L1190' id='L1190'>1190</a><a href='#L1191' id='L1191'>1191</a><a href='#L1192' id='L1192'>1192</a><a href='#L1193' id='L1193'>1193</a><a href='#L1194' id='L1194'>1194</a><a href='#L1195' id='L1195'>1195</a><a href='#L1196' id='L1196'>1196</a><a href='#L1197' id='L1197'>1197</a><a href='#L1198' id='L1198'>1198</a><a href='#L1199' id='L1199'>1199</a><a href='#L1200' id='L1200'>1200</a><a href='#L1201' id='L1201'>1201</a><a href='#L1202' id='L1202'>1202</a><a href='#L1203' id='L1203'>1203</a><a href='#L1204' id='L1204'>1204</a><a href='#L1205' id='L1205'>1205</a><a href='#L1206' id='L1206'>1206</a><a href='#L1207' id='L1207'>1207</a><a href='#L1208' id='L1208'>1208</a><a href='#L1209' id='L1209'>1209</a><a href='#L1210' id='L1210'>1210</a><a href='#L1211' id='L1211'>1211</a><a href='#L1212' id='L1212'>1212</a><a href='#L1213' id='L1213'>1213</a><a href='#L1214' id='L1214'>1214</a><a href='#L1215' id='L1215'>1215</a><a href='#L1216' id='L1216'>1216</a><a href='#L1217' id='L1217'>1217</a><a href='#L1218' id='L1218'>1218</a><a href='#L1219' id='L1219'>1219</a><a href='#L1220' id='L1220'>1220</a><a href='#L1221' id='L1221'>1221</a><a href='#L1222' id='L1222'>1222</a><a href='#L1223' id='L1223'>1223</a><a href='#L1224' id='L1224'>1224</a><a href='#L1225' id='L1225'>1225</a><a href='#L1226' id='L1226'>1226</a><a href='#L1227' id='L1227'>1227</a><a href='#L1228' id='L1228'>1228</a><a href='#L1229' id='L1229'>1229</a><a href='#L1230' id='L1230'>1230</a><a href='#L1231' id='L1231'>1231</a><a href='#L1232' id='L1232'>1232</a><a href='#L1233' id='L1233'>1233</a><a href='#L1234' id='L1234'>1234</a><a href='#L1235' id='L1235'>1235</a><a href='#L1236' id='L1236'>1236</a><a href='#L1237' id='L1237'>1237</a><a href='#L1238' id='L1238'>1238</a><a href='#L1239' id='L1239'>1239</a><a href='#L1240' id='L1240'>1240</a><a href='#L1241' id='L1241'>1241</a><a href='#L1242' id='L1242'>1242</a><a href='#L1243' id='L1243'>1243</a><a href='#L1244' id='L1244'>1244</a><a href='#L1245' id='L1245'>1245</a><a href='#L1246' id='L1246'>1246</a><a href='#L1247' id='L1247'>1247</a><a href='#L1248' id='L1248'>1248</a><a href='#L1249' id='L1249'>1249</a><a href='#L1250' id='L1250'>1250</a><a href='#L1251' id='L1251'>1251</a><a href='#L1252' id='L1252'>1252</a><a href='#L1253' id='L1253'>1253</a><a href='#L1254' id='L1254'>1254</a><a href='#L1255' id='L1255'>1255</a><a href='#L1256' id='L1256'>1256</a><a href='#L1257' id='L1257'>1257</a><a href='#L1258' id='L1258'>1258</a><a href='#L1259' id='L1259'>1259</a><a href='#L1260' id='L1260'>1260</a><a href='#L1261' id='L1261'>1261</a><a href='#L1262' id='L1262'>1262</a><a href='#L1263' id='L1263'>1263</a><a href='#L1264' id='L1264'>1264</a><a href='#L1265' id='L1265'>1265</a><a href='#L1266' id='L1266'>1266</a><a href='#L1267' id='L1267'>1267</a><a href='#L1268' id='L1268'>1268</a><a href='#L1269' id='L1269'>1269</a><a href='#L1270' id='L1270'>1270</a><a href='#L1271' id='L1271'>1271</a><a href='#L1272' id='L1272'>1272</a><a href='#L1273' id='L1273'>1273</a><a href='#L1274' id='L1274'>1274</a><a href='#L1275' id='L1275'>1275</a><a href='#L1276' id='L1276'>1276</a><a href='#L1277' id='L1277'>1277</a><a href='#L1278' id='L1278'>1278</a><a href='#L1279' id='L1279'>1279</a><a href='#L1280' id='L1280'>1280</a><a href='#L1281' id='L1281'>1281</a><a href='#L1282' id='L1282'>1282</a><a href='#L1283' id='L1283'>1283</a><a href='#L1284' id='L1284'>1284</a><a href='#L1285' id='L1285'>1285</a><a href='#L1286' id='L1286'>1286</a><a href='#L1287' id='L1287'>1287</a><a href='#L1288' id='L1288'>1288</a><a href='#L1289' id='L1289'>1289</a><a href='#L1290' id='L1290'>1290</a><a href='#L1291' id='L1291'>1291</a><a href='#L1292' id='L1292'>1292</a><a href='#L1293' id='L1293'>1293</a><a href='#L1294' id='L1294'>1294</a><a href='#L1295' id='L1295'>1295</a><a href='#L1296' id='L1296'>1296</a><a href='#L1297' id='L1297'>1297</a><a href='#L1298' id='L1298'>1298</a><a href='#L1299' id='L1299'>1299</a><a href='#L1300' id='L1300'>1300</a><a href='#L1301' id='L1301'>1301</a><a href='#L1302' id='L1302'>1302</a><a href='#L1303' id='L1303'>1303</a><a href='#L1304' id='L1304'>1304</a><a href='#L1305' id='L1305'>1305</a><a href='#L1306' id='L1306'>1306</a><a href='#L1307' id='L1307'>1307</a><a href='#L1308' id='L1308'>1308</a><a href='#L1309' id='L1309'>1309</a><a href='#L1310' id='L1310'>1310</a><a href='#L1311' id='L1311'>1311</a><a href='#L1312' id='L1312'>1312</a><a href='#L1313' id='L1313'>1313</a><a href='#L1314' id='L1314'>1314</a><a href='#L1315' id='L1315'>1315</a><a href='#L1316' id='L1316'>1316</a><a href='#L1317' id='L1317'>1317</a><a href='#L1318' id='L1318'>1318</a><a href='#L1319' id='L1319'>1319</a><a href='#L1320' id='L1320'>1320</a><a href='#L1321' id='L1321'>1321</a><a href='#L1322' id='L1322'>1322</a><a href='#L1323' id='L1323'>1323</a><a href='#L1324' id='L1324'>1324</a><a href='#L1325' id='L1325'>1325</a><a href='#L1326' id='L1326'>1326</a><a href='#L1327' id='L1327'>1327</a><a href='#L1328' id='L1328'>1328</a><a href='#L1329' id='L1329'>1329</a><a href='#L1330' id='L1330'>1330</a><a href='#L1331' id='L1331'>1331</a><a href='#L1332' id='L1332'>1332</a><a href='#L1333' id='L1333'>1333</a><a href='#L1334' id='L1334'>1334</a><a href='#L1335' id='L1335'>1335</a><a href='#L1336' id='L1336'>1336</a><a href='#L1337' id='L1337'>1337</a><a href='#L1338' id='L1338'>1338</a><a href='#L1339' id='L1339'>1339</a><a href='#L1340' id='L1340'>1340</a><a href='#L1341' id='L1341'>1341</a><a href='#L1342' id='L1342'>1342</a><a href='#L1343' id='L1343'>1343</a><a href='#L1344' id='L1344'>1344</a><a href='#L1345' id='L1345'>1345</a><a href='#L1346' id='L1346'>1346</a><a href='#L1347' id='L1347'>1347</a><a href='#L1348' id='L1348'>1348</a><a href='#L1349' id='L1349'>1349</a><a href='#L1350' id='L1350'>1350</a><a href='#L1351' id='L1351'>1351</a><a href='#L1352' id='L1352'>1352</a><a href='#L1353' id='L1353'>1353</a><a href='#L1354' id='L1354'>1354</a><a href='#L1355' id='L1355'>1355</a><a href='#L1356' id='L1356'>1356</a><a href='#L1357' id='L1357'>1357</a><a href='#L1358' id='L1358'>1358</a><a href='#L1359' id='L1359'>1359</a><a href='#L1360' id='L1360'>1360</a><a href='#L1361' id='L1361'>1361</a><a href='#L1362' id='L1362'>1362</a><a href='#L1363' id='L1363'>1363</a><a href='#L1364' id='L1364'>1364</a><a href='#L1365' id='L1365'>1365</a><a href='#L1366' id='L1366'>1366</a><a href='#L1367' id='L1367'>1367</a><a href='#L1368' id='L1368'>1368</a><a href='#L1369' id='L1369'>1369</a><a href='#L1370' id='L1370'>1370</a><a href='#L1371' id='L1371'>1371</a><a href='#L1372' id='L1372'>1372</a><a href='#L1373' id='L1373'>1373</a><a href='#L1374' id='L1374'>1374</a><a href='#L1375' id='L1375'>1375</a><a href='#L1376' id='L1376'>1376</a><a href='#L1377' id='L1377'>1377</a><a href='#L1378' id='L1378'>1378</a><a href='#L1379' id='L1379'>1379</a><a href='#L1380' id='L1380'>1380</a><a href='#L1381' id='L1381'>1381</a><a href='#L1382' id='L1382'>1382</a><a href='#L1383' id='L1383'>1383</a><a href='#L1384' id='L1384'>1384</a><a href='#L1385' id='L1385'>1385</a><a href='#L1386' id='L1386'>1386</a><a href='#L1387' id='L1387'>1387</a><a href='#L1388' id='L1388'>1388</a><a href='#L1389' id='L1389'>1389</a><a href='#L1390' id='L1390'>1390</a><a href='#L1391' id='L1391'>1391</a><a href='#L1392' id='L1392'>1392</a><a href='#L1393' id='L1393'>1393</a><a href='#L1394' id='L1394'>1394</a><a href='#L1395' id='L1395'>1395</a><a href='#L1396' id='L1396'>1396</a><a href='#L1397' id='L1397'>1397</a><a href='#L1398' id='L1398'>1398</a><a href='#L1399' id='L1399'>1399</a><a href='#L1400' id='L1400'>1400</a><a href='#L1401' id='L1401'>1401</a><a href='#L1402' id='L1402'>1402</a><a href='#L1403' id='L1403'>1403</a><a href='#L1404' id='L1404'>1404</a><a href='#L1405' id='L1405'>1405</a><a href='#L1406' id='L1406'>1406</a><a href='#L1407' id='L1407'>1407</a><a href='#L1408' id='L1408'>1408</a><a href='#L1409' id='L1409'>1409</a><a href='#L1410' id='L1410'>1410</a><a href='#L1411' id='L1411'>1411</a><a href='#L1412' id='L1412'>1412</a><a href='#L1413' id='L1413'>1413</a><a href='#L1414' id='L1414'>1414</a><a href='#L1415' id='L1415'>1415</a><a href='#L1416' id='L1416'>1416</a><a href='#L1417' id='L1417'>1417</a><a href='#L1418' id='L1418'>1418</a><a href='#L1419' id='L1419'>1419</a><a href='#L1420' id='L1420'>1420</a><a href='#L1421' id='L1421'>1421</a><a href='#L1422' id='L1422'>1422</a><a href='#L1423' id='L1423'>1423</a><a href='#L1424' id='L1424'>1424</a><a href='#L1425' id='L1425'>1425</a><a href='#L1426' id='L1426'>1426</a><a href='#L1427' id='L1427'>1427</a><a href='#L1428' id='L1428'>1428</a><a href='#L1429' id='L1429'>1429</a><a href='#L1430' id='L1430'>1430</a><a href='#L1431' id='L1431'>1431</a><a href='#L1432' id='L1432'>1432</a><a href='#L1433' id='L1433'>1433</a><a href='#L1434' id='L1434'>1434</a><a href='#L1435' id='L1435'>1435</a><a href='#L1436' id='L1436'>1436</a><a href='#L1437' id='L1437'>1437</a><a href='#L1438' id='L1438'>1438</a><a href='#L1439' id='L1439'>1439</a><a href='#L1440' id='L1440'>1440</a><a href='#L1441' id='L1441'>1441</a><a href='#L1442' id='L1442'>1442</a><a href='#L1443' id='L1443'>1443</a><a href='#L1444' id='L1444'>1444</a><a href='#L1445' id='L1445'>1445</a><a href='#L1446' id='L1446'>1446</a><a href='#L1447' id='L1447'>1447</a><a href='#L1448' id='L1448'>1448</a><a href='#L1449' id='L1449'>1449</a><a href='#L1450' id='L1450'>1450</a><a href='#L1451' id='L1451'>1451</a><a href='#L1452' id='L1452'>1452</a><a href='#L1453' id='L1453'>1453</a><a href='#L1454' id='L1454'>1454</a><a href='#L1455' id='L1455'>1455</a><a href='#L1456' id='L1456'>1456</a><a href='#L1457' id='L1457'>1457</a><a href='#L1458' id='L1458'>1458</a><a href='#L1459' id='L1459'>1459</a><a href='#L1460' id='L1460'>1460</a><a href='#L1461' id='L1461'>1461</a><a href='#L1462' id='L1462'>1462</a><a href='#L1463' id='L1463'>1463</a><a href='#L1464' id='L1464'>1464</a><a href='#L1465' id='L1465'>1465</a><a href='#L1466' id='L1466'>1466</a><a href='#L1467' id='L1467'>1467</a><a href='#L1468' id='L1468'>1468</a><a href='#L1469' id='L1469'>1469</a><a href='#L1470' id='L1470'>1470</a><a href='#L1471' id='L1471'>1471</a><a href='#L1472' id='L1472'>1472</a><a href='#L1473' id='L1473'>1473</a><a href='#L1474' id='L1474'>1474</a><a href='#L1475' id='L1475'>1475</a><a href='#L1476' id='L1476'>1476</a><a href='#L1477' id='L1477'>1477</a><a href='#L1478' id='L1478'>1478</a><a href='#L1479' id='L1479'>1479</a><a href='#L1480' id='L1480'>1480</a><a href='#L1481' id='L1481'>1481</a><a href='#L1482' id='L1482'>1482</a><a href='#L1483' id='L1483'>1483</a><a href='#L1484' id='L1484'>1484</a><a href='#L1485' id='L1485'>1485</a><a href='#L1486' id='L1486'>1486</a><a href='#L1487' id='L1487'>1487</a><a href='#L1488' id='L1488'>1488</a><a href='#L1489' id='L1489'>1489</a><a href='#L1490' id='L1490'>1490</a><a href='#L1491' id='L1491'>1491</a><a href='#L1492' id='L1492'>1492</a><a href='#L1493' id='L1493'>1493</a><a href='#L1494' id='L1494'>1494</a><a href='#L1495' id='L1495'>1495</a><a href='#L1496' id='L1496'>1496</a><a href='#L1497' id='L1497'>1497</a><a href='#L1498' id='L1498'>1498</a><a href='#L1499' id='L1499'>1499</a><a href='#L1500' id='L1500'>1500</a><a href='#L1501' id='L1501'>1501</a><a href='#L1502' id='L1502'>1502</a><a href='#L1503' id='L1503'>1503</a><a href='#L1504' id='L1504'>1504</a><a href='#L1505' id='L1505'>1505</a><a href='#L1506' id='L1506'>1506</a><a href='#L1507' id='L1507'>1507</a><a href='#L1508' id='L1508'>1508</a><a href='#L1509' id='L1509'>1509</a><a href='#L1510' id='L1510'>1510</a><a href='#L1511' id='L1511'>1511</a><a href='#L1512' id='L1512'>1512</a><a href='#L1513' id='L1513'>1513</a><a href='#L1514' id='L1514'>1514</a><a href='#L1515' id='L1515'>1515</a><a href='#L1516' id='L1516'>1516</a><a href='#L1517' id='L1517'>1517</a><a href='#L1518' id='L1518'>1518</a><a href='#L1519' id='L1519'>1519</a><a href='#L1520' id='L1520'>1520</a><a href='#L1521' id='L1521'>1521</a><a href='#L1522' id='L1522'>1522</a><a href='#L1523' id='L1523'>1523</a><a href='#L1524' id='L1524'>1524</a><a href='#L1525' id='L1525'>1525</a><a href='#L1526' id='L1526'>1526</a><a href='#L1527' id='L1527'>1527</a><a href='#L1528' id='L1528'>1528</a><a href='#L1529' id='L1529'>1529</a><a href='#L1530' id='L1530'>1530</a><a href='#L1531' id='L1531'>1531</a><a href='#L1532' id='L1532'>1532</a><a href='#L1533' id='L1533'>1533</a><a href='#L1534' id='L1534'>1534</a><a href='#L1535' id='L1535'>1535</a><a href='#L1536' id='L1536'>1536</a><a href='#L1537' id='L1537'>1537</a><a href='#L1538' id='L1538'>1538</a><a href='#L1539' id='L1539'>1539</a><a href='#L1540' id='L1540'>1540</a><a href='#L1541' id='L1541'>1541</a><a href='#L1542' id='L1542'>1542</a><a href='#L1543' id='L1543'>1543</a><a href='#L1544' id='L1544'>1544</a><a href='#L1545' id='L1545'>1545</a><a href='#L1546' id='L1546'>1546</a><a href='#L1547' id='L1547'>1547</a><a href='#L1548' id='L1548'>1548</a><a href='#L1549' id='L1549'>1549</a><a href='#L1550' id='L1550'>1550</a><a href='#L1551' id='L1551'>1551</a><a href='#L1552' id='L1552'>1552</a><a href='#L1553' id='L1553'>1553</a><a href='#L1554' id='L1554'>1554</a><a href='#L1555' id='L1555'>1555</a><a href='#L1556' id='L1556'>1556</a><a href='#L1557' id='L1557'>1557</a><a href='#L1558' id='L1558'>1558</a><a href='#L1559' id='L1559'>1559</a><a href='#L1560' id='L1560'>1560</a><a href='#L1561' id='L1561'>1561</a><a href='#L1562' id='L1562'>1562</a><a href='#L1563' id='L1563'>1563</a><a href='#L1564' id='L1564'>1564</a><a href='#L1565' id='L1565'>1565</a><a href='#L1566' id='L1566'>1566</a><a href='#L1567' id='L1567'>1567</a><a href='#L1568' id='L1568'>1568</a><a href='#L1569' id='L1569'>1569</a><a href='#L1570' id='L1570'>1570</a><a href='#L1571' id='L1571'>1571</a><a href='#L1572' id='L1572'>1572</a><a href='#L1573' id='L1573'>1573</a><a href='#L1574' id='L1574'>1574</a><a href='#L1575' id='L1575'>1575</a><a href='#L1576' id='L1576'>1576</a><a href='#L1577' id='L1577'>1577</a><a href='#L1578' id='L1578'>1578</a><a href='#L1579' id='L1579'>1579</a><a href='#L1580' id='L1580'>1580</a><a href='#L1581' id='L1581'>1581</a><a href='#L1582' id='L1582'>1582</a><a href='#L1583' id='L1583'>1583</a><a href='#L1584' id='L1584'>1584</a><a href='#L1585' id='L1585'>1585</a><a href='#L1586' id='L1586'>1586</a><a href='#L1587' id='L1587'>1587</a><a href='#L1588' id='L1588'>1588</a><a href='#L1589' id='L1589'>1589</a><a href='#L1590' id='L1590'>1590</a><a href='#L1591' id='L1591'>1591</a><a href='#L1592' id='L1592'>1592</a><a href='#L1593' id='L1593'>1593</a><a href='#L1594' id='L1594'>1594</a><a href='#L1595' id='L1595'>1595</a><a href='#L1596' id='L1596'>1596</a><a href='#L1597' id='L1597'>1597</a><a href='#L1598' id='L1598'>1598</a><a href='#L1599' id='L1599'>1599</a><a href='#L1600' id='L1600'>1600</a><a href='#L1601' id='L1601'>1601</a><a href='#L1602' id='L1602'>1602</a><a href='#L1603' id='L1603'>1603</a><a href='#L1604' id='L1604'>1604</a><a href='#L1605' id='L1605'>1605</a><a href='#L1606' id='L1606'>1606</a><a href='#L1607' id='L1607'>1607</a><a href='#L1608' id='L1608'>1608</a><a href='#L1609' id='L1609'>1609</a><a href='#L1610' id='L1610'>1610</a><a href='#L1611' id='L1611'>1611</a><a href='#L1612' id='L1612'>1612</a><a href='#L1613' id='L1613'>1613</a><a href='#L1614' id='L1614'>1614</a><a href='#L1615' id='L1615'>1615</a><a href='#L1616' id='L1616'>1616</a><a href='#L1617' id='L1617'>1617</a><a href='#L1618' id='L1618'>1618</a><a href='#L1619' id='L1619'>1619</a><a href='#L1620' id='L1620'>1620</a><a href='#L1621' id='L1621'>1621</a><a href='#L1622' id='L1622'>1622</a><a href='#L1623' id='L1623'>1623</a><a href='#L1624' id='L1624'>1624</a><a href='#L1625' id='L1625'>1625</a><a href='#L1626' id='L1626'>1626</a><a href='#L1627' id='L1627'>1627</a><a href='#L1628' id='L1628'>1628</a><a href='#L1629' id='L1629'>1629</a><a href='#L1630' id='L1630'>1630</a><a href='#L1631' id='L1631'>1631</a><a href='#L1632' id='L1632'>1632</a><a href='#L1633' id='L1633'>1633</a><a href='#L1634' id='L1634'>1634</a><a href='#L1635' id='L1635'>1635</a><a href='#L1636' id='L1636'>1636</a><a href='#L1637' id='L1637'>1637</a><a href='#L1638' id='L1638'>1638</a><a href='#L1639' id='L1639'>1639</a><a href='#L1640' id='L1640'>1640</a><a href='#L1641' id='L1641'>1641</a><a href='#L1642' id='L1642'>1642</a><a href='#L1643' id='L1643'>1643</a><a href='#L1644' id='L1644'>1644</a><a href='#L1645' id='L1645'>1645</a><a href='#L1646' id='L1646'>1646</a><a href='#L1647' id='L1647'>1647</a><a href='#L1648' id='L1648'>1648</a><a href='#L1649' id='L1649'>1649</a><a href='#L1650' id='L1650'>1650</a><a href='#L1651' id='L1651'>1651</a><a href='#L1652' id='L1652'>1652</a><a href='#L1653' id='L1653'>1653</a><a href='#L1654' id='L1654'>1654</a><a href='#L1655' id='L1655'>1655</a><a href='#L1656' id='L1656'>1656</a><a href='#L1657' id='L1657'>1657</a><a href='#L1658' id='L1658'>1658</a><a href='#L1659' id='L1659'>1659</a><a href='#L1660' id='L1660'>1660</a><a href='#L1661' id='L1661'>1661</a><a href='#L1662' id='L1662'>1662</a><a href='#L1663' id='L1663'>1663</a><a href='#L1664' id='L1664'>1664</a><a href='#L1665' id='L1665'>1665</a><a href='#L1666' id='L1666'>1666</a><a href='#L1667' id='L1667'>1667</a><a href='#L1668' id='L1668'>1668</a><a href='#L1669' id='L1669'>1669</a><a href='#L1670' id='L1670'>1670</a><a href='#L1671' id='L1671'>1671</a><a href='#L1672' id='L1672'>1672</a><a href='#L1673' id='L1673'>1673</a><a href='#L1674' id='L1674'>1674</a><a href='#L1675' id='L1675'>1675</a><a href='#L1676' id='L1676'>1676</a><a href='#L1677' id='L1677'>1677</a><a href='#L1678' id='L1678'>1678</a><a href='#L1679' id='L1679'>1679</a><a href='#L1680' id='L1680'>1680</a><a href='#L1681' id='L1681'>1681</a><a href='#L1682' id='L1682'>1682</a><a href='#L1683' id='L1683'>1683</a><a href='#L1684' id='L1684'>1684</a><a href='#L1685' id='L1685'>1685</a><a href='#L1686' id='L1686'>1686</a><a href='#L1687' id='L1687'>1687</a><a href='#L1688' id='L1688'>1688</a><a href='#L1689' id='L1689'>1689</a><a href='#L1690' id='L1690'>1690</a><a href='#L1691' id='L1691'>1691</a><a href='#L1692' id='L1692'>1692</a><a href='#L1693' id='L1693'>1693</a><a href='#L1694' id='L1694'>1694</a><a href='#L1695' id='L1695'>1695</a><a href='#L1696' id='L1696'>1696</a><a href='#L1697' id='L1697'>1697</a><a href='#L1698' id='L1698'>1698</a><a href='#L1699' id='L1699'>1699</a><a href='#L1700' id='L1700'>1700</a><a href='#L1701' id='L1701'>1701</a><a href='#L1702' id='L1702'>1702</a><a href='#L1703' id='L1703'>1703</a><a href='#L1704' id='L1704'>1704</a><a href='#L1705' id='L1705'>1705</a><a href='#L1706' id='L1706'>1706</a><a href='#L1707' id='L1707'>1707</a><a href='#L1708' id='L1708'>1708</a><a href='#L1709' id='L1709'>1709</a><a href='#L1710' id='L1710'>1710</a><a href='#L1711' id='L1711'>1711</a><a href='#L1712' id='L1712'>1712</a><a href='#L1713' id='L1713'>1713</a><a href='#L1714' id='L1714'>1714</a><a href='#L1715' id='L1715'>1715</a><a href='#L1716' id='L1716'>1716</a><a href='#L1717' id='L1717'>1717</a><a href='#L1718' id='L1718'>1718</a><a href='#L1719' id='L1719'>1719</a><a href='#L1720' id='L1720'>1720</a><a href='#L1721' id='L1721'>1721</a><a href='#L1722' id='L1722'>1722</a><a href='#L1723' id='L1723'>1723</a><a href='#L1724' id='L1724'>1724</a><a href='#L1725' id='L1725'>1725</a><a href='#L1726' id='L1726'>1726</a><a href='#L1727' id='L1727'>1727</a><a href='#L1728' id='L1728'>1728</a><a href='#L1729' id='L1729'>1729</a><a href='#L1730' id='L1730'>1730</a><a href='#L1731' id='L1731'>1731</a><a href='#L1732' id='L1732'>1732</a><a href='#L1733' id='L1733'>1733</a><a href='#L1734' id='L1734'>1734</a><a href='#L1735' id='L1735'>1735</a><a href='#L1736' id='L1736'>1736</a><a href='#L1737' id='L1737'>1737</a><a href='#L1738' id='L1738'>1738</a><a href='#L1739' id='L1739'>1739</a><a href='#L1740' id='L1740'>1740</a><a href='#L1741' id='L1741'>1741</a><a href='#L1742' id='L1742'>1742</a><a href='#L1743' id='L1743'>1743</a><a href='#L1744' id='L1744'>1744</a><a href='#L1745' id='L1745'>1745</a><a href='#L1746' id='L1746'>1746</a><a href='#L1747' id='L1747'>1747</a><a href='#L1748' id='L1748'>1748</a><a href='#L1749' id='L1749'>1749</a><a href='#L1750' id='L1750'>1750</a><a href='#L1751' id='L1751'>1751</a><a href='#L1752' id='L1752'>1752</a><a href='#L1753' id='L1753'>1753</a><a href='#L1754' id='L1754'>1754</a><a href='#L1755' id='L1755'>1755</a><a href='#L1756' id='L1756'>1756</a><a href='#L1757' id='L1757'>1757</a><a href='#L1758' id='L1758'>1758</a><a href='#L1759' id='L1759'>1759</a><a href='#L1760' id='L1760'>1760</a><a href='#L1761' id='L1761'>1761</a><a href='#L1762' id='L1762'>1762</a><a href='#L1763' id='L1763'>1763</a><a href='#L1764' id='L1764'>1764</a><a href='#L1765' id='L1765'>1765</a><a href='#L1766' id='L1766'>1766</a><a href='#L1767' id='L1767'>1767</a><a href='#L1768' id='L1768'>1768</a><a href='#L1769' id='L1769'>1769</a><a href='#L1770' id='L1770'>1770</a><a href='#L1771' id='L1771'>1771</a><a href='#L1772' id='L1772'>1772</a><a href='#L1773' id='L1773'>1773</a><a href='#L1774' id='L1774'>1774</a><a href='#L1775' id='L1775'>1775</a><a href='#L1776' id='L1776'>1776</a><a href='#L1777' id='L1777'>1777</a><a href='#L1778' id='L1778'>1778</a><a href='#L1779' id='L1779'>1779</a><a href='#L1780' id='L1780'>1780</a><a href='#L1781' id='L1781'>1781</a><a href='#L1782' id='L1782'>1782</a><a href='#L1783' id='L1783'>1783</a><a href='#L1784' id='L1784'>1784</a><a href='#L1785' id='L1785'>1785</a><a href='#L1786' id='L1786'>1786</a><a href='#L1787' id='L1787'>1787</a><a href='#L1788' id='L1788'>1788</a><a href='#L1789' id='L1789'>1789</a><a href='#L1790' id='L1790'>1790</a><a href='#L1791' id='L1791'>1791</a><a href='#L1792' id='L1792'>1792</a><a href='#L1793' id='L1793'>1793</a><a href='#L1794' id='L1794'>1794</a><a href='#L1795' id='L1795'>1795</a><a href='#L1796' id='L1796'>1796</a><a href='#L1797' id='L1797'>1797</a><a href='#L1798' id='L1798'>1798</a><a href='#L1799' id='L1799'>1799</a><a href='#L1800' id='L1800'>1800</a><a href='#L1801' id='L1801'>1801</a><a href='#L1802' id='L1802'>1802</a><a href='#L1803' id='L1803'>1803</a><a href='#L1804' id='L1804'>1804</a><a href='#L1805' id='L1805'>1805</a><a href='#L1806' id='L1806'>1806</a><a href='#L1807' id='L1807'>1807</a><a href='#L1808' id='L1808'>1808</a><a href='#L1809' id='L1809'>1809</a><a href='#L1810' id='L1810'>1810</a><a href='#L1811' id='L1811'>1811</a><a href='#L1812' id='L1812'>1812</a><a href='#L1813' id='L1813'>1813</a><a href='#L1814' id='L1814'>1814</a><a href='#L1815' id='L1815'>1815</a><a href='#L1816' id='L1816'>1816</a><a href='#L1817' id='L1817'>1817</a><a href='#L1818' id='L1818'>1818</a><a href='#L1819' id='L1819'>1819</a><a href='#L1820' id='L1820'>1820</a><a href='#L1821' id='L1821'>1821</a><a href='#L1822' id='L1822'>1822</a><a href='#L1823' id='L1823'>1823</a><a href='#L1824' id='L1824'>1824</a><a href='#L1825' id='L1825'>1825</a><a href='#L1826' id='L1826'>1826</a><a href='#L1827' id='L1827'>1827</a><a href='#L1828' id='L1828'>1828</a><a href='#L1829' id='L1829'>1829</a><a href='#L1830' id='L1830'>1830</a><a href='#L1831' id='L1831'>1831</a><a href='#L1832' id='L1832'>1832</a><a href='#L1833' id='L1833'>1833</a><a href='#L1834' id='L1834'>1834</a><a href='#L1835' id='L1835'>1835</a><a href='#L1836' id='L1836'>1836</a><a href='#L1837' id='L1837'>1837</a><a href='#L1838' id='L1838'>1838</a><a href='#L1839' id='L1839'>1839</a><a href='#L1840' id='L1840'>1840</a><a href='#L1841' id='L1841'>1841</a><a href='#L1842' id='L1842'>1842</a><a href='#L1843' id='L1843'>1843</a><a href='#L1844' id='L1844'>1844</a><a href='#L1845' id='L1845'>1845</a><a href='#L1846' id='L1846'>1846</a><a href='#L1847' id='L1847'>1847</a><a href='#L1848' id='L1848'>1848</a><a href='#L1849' id='L1849'>1849</a><a href='#L1850' id='L1850'>1850</a><a href='#L1851' id='L1851'>1851</a><a href='#L1852' id='L1852'>1852</a><a href='#L1853' id='L1853'>1853</a><a href='#L1854' id='L1854'>1854</a><a href='#L1855' id='L1855'>1855</a><a href='#L1856' id='L1856'>1856</a><a href='#L1857' id='L1857'>1857</a><a href='#L1858' id='L1858'>1858</a><a href='#L1859' id='L1859'>1859</a><a href='#L1860' id='L1860'>1860</a><a href='#L1861' id='L1861'>1861</a><a href='#L1862' id='L1862'>1862</a><a href='#L1863' id='L1863'>1863</a><a href='#L1864' id='L1864'>1864</a><a href='#L1865' id='L1865'>1865</a><a href='#L1866' id='L1866'>1866</a><a href='#L1867' id='L1867'>1867</a><a href='#L1868' id='L1868'>1868</a><a href='#L1869' id='L1869'>1869</a><a href='#L1870' id='L1870'>1870</a><a href='#L1871' id='L1871'>1871</a><a href='#L1872' id='L1872'>1872</a><a href='#L1873' id='L1873'>1873</a><a href='#L1874' id='L1874'>1874</a><a href='#L1875' id='L1875'>1875</a><a href='#L1876' id='L1876'>1876</a><a href='#L1877' id='L1877'>1877</a><a href='#L1878' id='L1878'>1878</a><a href='#L1879' id='L1879'>1879</a><a href='#L1880' id='L1880'>1880</a><a href='#L1881' id='L1881'>1881</a><a href='#L1882' id='L1882'>1882</a><a href='#L1883' id='L1883'>1883</a><a href='#L1884' id='L1884'>1884</a><a href='#L1885' id='L1885'>1885</a><a href='#L1886' id='L1886'>1886</a><a href='#L1887' id='L1887'>1887</a><a href='#L1888' id='L1888'>1888</a><a href='#L1889' id='L1889'>1889</a><a href='#L1890' id='L1890'>1890</a><a href='#L1891' id='L1891'>1891</a><a href='#L1892' id='L1892'>1892</a><a href='#L1893' id='L1893'>1893</a><a href='#L1894' id='L1894'>1894</a><a href='#L1895' id='L1895'>1895</a><a href='#L1896' id='L1896'>1896</a><a href='#L1897' id='L1897'>1897</a><a href='#L1898' id='L1898'>1898</a><a href='#L1899' id='L1899'>1899</a><a href='#L1900' id='L1900'>1900</a><a href='#L1901' id='L1901'>1901</a><a href='#L1902' id='L1902'>1902</a><a href='#L1903' id='L1903'>1903</a><a href='#L1904' id='L1904'>1904</a><a href='#L1905' id='L1905'>1905</a><a href='#L1906' id='L1906'>1906</a><a href='#L1907' id='L1907'>1907</a><a href='#L1908' id='L1908'>1908</a><a href='#L1909' id='L1909'>1909</a><a href='#L1910' id='L1910'>1910</a><a href='#L1911' id='L1911'>1911</a><a href='#L1912' id='L1912'>1912</a><a href='#L1913' id='L1913'>1913</a><a href='#L1914' id='L1914'>1914</a><a href='#L1915' id='L1915'>1915</a><a href='#L1916' id='L1916'>1916</a><a href='#L1917' id='L1917'>1917</a><a href='#L1918' id='L1918'>1918</a><a href='#L1919' id='L1919'>1919</a><a href='#L1920' id='L1920'>1920</a><a href='#L1921' id='L1921'>1921</a><a href='#L1922' id='L1922'>1922</a><a href='#L1923' id='L1923'>1923</a><a href='#L1924' id='L1924'>1924</a><a href='#L1925' id='L1925'>1925</a><a href='#L1926' id='L1926'>1926</a><a href='#L1927' id='L1927'>1927</a><a href='#L1928' id='L1928'>1928</a><a href='#L1929' id='L1929'>1929</a><a href='#L1930' id='L1930'>1930</a><a href='#L1931' id='L1931'>1931</a><a href='#L1932' id='L1932'>1932</a><a href='#L1933' id='L1933'>1933</a><a href='#L1934' id='L1934'>1934</a><a href='#L1935' id='L1935'>1935</a><a href='#L1936' id='L1936'>1936</a><a href='#L1937' id='L1937'>1937</a><a href='#L1938' id='L1938'>1938</a><a href='#L1939' id='L1939'>1939</a><a href='#L1940' id='L1940'>1940</a><a href='#L1941' id='L1941'>1941</a><a href='#L1942' id='L1942'>1942</a><a href='#L1943' id='L1943'>1943</a><a href='#L1944' id='L1944'>1944</a><a href='#L1945' id='L1945'>1945</a><a href='#L1946' id='L1946'>1946</a><a href='#L1947' id='L1947'>1947</a><a href='#L1948' id='L1948'>1948</a><a href='#L1949' id='L1949'>1949</a><a href='#L1950' id='L1950'>1950</a><a href='#L1951' id='L1951'>1951</a><a href='#L1952' id='L1952'>1952</a><a href='#L1953' id='L1953'>1953</a><a href='#L1954' id='L1954'>1954</a><a href='#L1955' id='L1955'>1955</a><a href='#L1956' id='L1956'>1956</a><a href='#L1957' id='L1957'>1957</a><a href='#L1958' id='L1958'>1958</a><a href='#L1959' id='L1959'>1959</a><a href='#L1960' id='L1960'>1960</a><a href='#L1961' id='L1961'>1961</a><a href='#L1962' id='L1962'>1962</a><a href='#L1963' id='L1963'>1963</a><a href='#L1964' id='L1964'>1964</a><a href='#L1965' id='L1965'>1965</a><a href='#L1966' id='L1966'>1966</a><a href='#L1967' id='L1967'>1967</a><a href='#L1968' id='L1968'>1968</a><a href='#L1969' id='L1969'>1969</a><a href='#L1970' id='L1970'>1970</a><a href='#L1971' id='L1971'>1971</a><a href='#L1972' id='L1972'>1972</a><a href='#L1973' id='L1973'>1973</a><a href='#L1974' id='L1974'>1974</a><a href='#L1975' id='L1975'>1975</a><a href='#L1976' id='L1976'>1976</a><a href='#L1977' id='L1977'>1977</a><a href='#L1978' id='L1978'>1978</a><a href='#L1979' id='L1979'>1979</a><a href='#L1980' id='L1980'>1980</a><a href='#L1981' id='L1981'>1981</a><a href='#L1982' id='L1982'>1982</a><a href='#L1983' id='L1983'>1983</a><a href='#L1984' id='L1984'>1984</a><a href='#L1985' id='L1985'>1985</a><a href='#L1986' id='L1986'>1986</a><a href='#L1987' id='L1987'>1987</a><a href='#L1988' id='L1988'>1988</a><a href='#L1989' id='L1989'>1989</a><a href='#L1990' id='L1990'>1990</a><a href='#L1991' id='L1991'>1991</a><a href='#L1992' id='L1992'>1992</a><a href='#L1993' id='L1993'>1993</a><a href='#L1994' id='L1994'>1994</a><a href='#L1995' id='L1995'>1995</a><a href='#L1996' id='L1996'>1996</a><a href='#L1997' id='L1997'>1997</a><a href='#L1998' id='L1998'>1998</a><a href='#L1999' id='L1999'>1999</a><a href='#L2000' id='L2000'>2000</a><a href='#L2001' id='L2001'>2001</a><a href='#L2002' id='L2002'>2002</a><a href='#L2003' id='L2003'>2003</a><a href='#L2004' id='L2004'>2004</a><a href='#L2005' id='L2005'>2005</a><a href='#L2006' id='L2006'>2006</a><a href='#L2007' id='L2007'>2007</a><a href='#L2008' id='L2008'>2008</a><a href='#L2009' id='L2009'>2009</a><a href='#L2010' id='L2010'>2010</a><a href='#L2011' id='L2011'>2011</a><a href='#L2012' id='L2012'>2012</a><a href='#L2013' id='L2013'>2013</a><a href='#L2014' id='L2014'>2014</a><a href='#L2015' id='L2015'>2015</a><a href='#L2016' id='L2016'>2016</a><a href='#L2017' id='L2017'>2017</a><a href='#L2018' id='L2018'>2018</a><a href='#L2019' id='L2019'>2019</a><a href='#L2020' id='L2020'>2020</a><a href='#L2021' id='L2021'>2021</a><a href='#L2022' id='L2022'>2022</a><a href='#L2023' id='L2023'>2023</a><a href='#L2024' id='L2024'>2024</a><a href='#L2025' id='L2025'>2025</a><a href='#L2026' id='L2026'>2026</a><a href='#L2027' id='L2027'>2027</a><a href='#L2028' id='L2028'>2028</a><a href='#L2029' id='L2029'>2029</a><a href='#L2030' id='L2030'>2030</a><a href='#L2031' id='L2031'>2031</a><a href='#L2032' id='L2032'>2032</a><a href='#L2033' id='L2033'>2033</a><a href='#L2034' id='L2034'>2034</a><a href='#L2035' id='L2035'>2035</a><a href='#L2036' id='L2036'>2036</a><a href='#L2037' id='L2037'>2037</a><a href='#L2038' id='L2038'>2038</a><a href='#L2039' id='L2039'>2039</a><a href='#L2040' id='L2040'>2040</a><a href='#L2041' id='L2041'>2041</a><a href='#L2042' id='L2042'>2042</a><a href='#L2043' id='L2043'>2043</a><a href='#L2044' id='L2044'>2044</a><a href='#L2045' id='L2045'>2045</a><a href='#L2046' id='L2046'>2046</a><a href='#L2047' id='L2047'>2047</a><a href='#L2048' id='L2048'>2048</a><a href='#L2049' id='L2049'>2049</a><a href='#L2050' id='L2050'>2050</a><a href='#L2051' id='L2051'>2051</a><a href='#L2052' id='L2052'>2052</a><a href='#L2053' id='L2053'>2053</a><a href='#L2054' id='L2054'>2054</a><a href='#L2055' id='L2055'>2055</a><a href='#L2056' id='L2056'>2056</a><a href='#L2057' id='L2057'>2057</a><a href='#L2058' id='L2058'>2058</a><a href='#L2059' id='L2059'>2059</a><a href='#L2060' id='L2060'>2060</a><a href='#L2061' id='L2061'>2061</a><a href='#L2062' id='L2062'>2062</a><a href='#L2063' id='L2063'>2063</a><a href='#L2064' id='L2064'>2064</a><a href='#L2065' id='L2065'>2065</a><a href='#L2066' id='L2066'>2066</a><a href='#L2067' id='L2067'>2067</a><a href='#L2068' id='L2068'>2068</a><a href='#L2069' id='L2069'>2069</a><a href='#L2070' id='L2070'>2070</a><a href='#L2071' id='L2071'>2071</a><a href='#L2072' id='L2072'>2072</a><a href='#L2073' id='L2073'>2073</a><a href='#L2074' id='L2074'>2074</a><a href='#L2075' id='L2075'>2075</a><a href='#L2076' id='L2076'>2076</a><a href='#L2077' id='L2077'>2077</a><a href='#L2078' id='L2078'>2078</a><a href='#L2079' id='L2079'>2079</a><a href='#L2080' id='L2080'>2080</a><a href='#L2081' id='L2081'>2081</a><a href='#L2082' id='L2082'>2082</a><a href='#L2083' id='L2083'>2083</a><a href='#L2084' id='L2084'>2084</a><a href='#L2085' id='L2085'>2085</a><a href='#L2086' id='L2086'>2086</a><a href='#L2087' id='L2087'>2087</a><a href='#L2088' id='L2088'>2088</a><a href='#L2089' id='L2089'>2089</a><a href='#L2090' id='L2090'>2090</a><a href='#L2091' id='L2091'>2091</a><a href='#L2092' id='L2092'>2092</a><a href='#L2093' id='L2093'>2093</a><a href='#L2094' id='L2094'>2094</a><a href='#L2095' id='L2095'>2095</a><a href='#L2096' id='L2096'>2096</a><a href='#L2097' id='L2097'>2097</a><a href='#L2098' id='L2098'>2098</a><a href='#L2099' id='L2099'>2099</a><a href='#L2100' id='L2100'>2100</a><a href='#L2101' id='L2101'>2101</a><a href='#L2102' id='L2102'>2102</a><a href='#L2103' id='L2103'>2103</a><a href='#L2104' id='L2104'>2104</a><a href='#L2105' id='L2105'>2105</a><a href='#L2106' id='L2106'>2106</a><a href='#L2107' id='L2107'>2107</a><a href='#L2108' id='L2108'>2108</a><a href='#L2109' id='L2109'>2109</a><a href='#L2110' id='L2110'>2110</a><a href='#L2111' id='L2111'>2111</a><a href='#L2112' id='L2112'>2112</a><a href='#L2113' id='L2113'>2113</a><a href='#L2114' id='L2114'>2114</a><a href='#L2115' id='L2115'>2115</a><a href='#L2116' id='L2116'>2116</a><a href='#L2117' id='L2117'>2117</a><a href='#L2118' id='L2118'>2118</a><a href='#L2119' id='L2119'>2119</a><a href='#L2120' id='L2120'>2120</a><a href='#L2121' id='L2121'>2121</a><a href='#L2122' id='L2122'>2122</a><a href='#L2123' id='L2123'>2123</a><a href='#L2124' id='L2124'>2124</a><a href='#L2125' id='L2125'>2125</a><a href='#L2126' id='L2126'>2126</a><a href='#L2127' id='L2127'>2127</a><a href='#L2128' id='L2128'>2128</a><a href='#L2129' id='L2129'>2129</a><a href='#L2130' id='L2130'>2130</a><a href='#L2131' id='L2131'>2131</a><a href='#L2132' id='L2132'>2132</a><a href='#L2133' id='L2133'>2133</a><a href='#L2134' id='L2134'>2134</a><a href='#L2135' id='L2135'>2135</a><a href='#L2136' id='L2136'>2136</a><a href='#L2137' id='L2137'>2137</a><a href='#L2138' id='L2138'>2138</a><a href='#L2139' id='L2139'>2139</a><a href='#L2140' id='L2140'>2140</a><a href='#L2141' id='L2141'>2141</a><a href='#L2142' id='L2142'>2142</a><a href='#L2143' id='L2143'>2143</a><a href='#L2144' id='L2144'>2144</a><a href='#L2145' id='L2145'>2145</a><a href='#L2146' id='L2146'>2146</a><a href='#L2147' id='L2147'>2147</a><a href='#L2148' id='L2148'>2148</a><a href='#L2149' id='L2149'>2149</a><a href='#L2150' id='L2150'>2150</a><a href='#L2151' id='L2151'>2151</a><a href='#L2152' id='L2152'>2152</a><a href='#L2153' id='L2153'>2153</a><a href='#L2154' id='L2154'>2154</a><a href='#L2155' id='L2155'>2155</a><a href='#L2156' id='L2156'>2156</a><a href='#L2157' id='L2157'>2157</a><a href='#L2158' id='L2158'>2158</a><a href='#L2159' id='L2159'>2159</a><a href='#L2160' id='L2160'>2160</a><a href='#L2161' id='L2161'>2161</a><a href='#L2162' id='L2162'>2162</a><a href='#L2163' id='L2163'>2163</a><a href='#L2164' id='L2164'>2164</a><a href='#L2165' id='L2165'>2165</a><a href='#L2166' id='L2166'>2166</a><a href='#L2167' id='L2167'>2167</a><a href='#L2168' id='L2168'>2168</a><a href='#L2169' id='L2169'>2169</a><a href='#L2170' id='L2170'>2170</a><a href='#L2171' id='L2171'>2171</a><a href='#L2172' id='L2172'>2172</a><a href='#L2173' id='L2173'>2173</a><a href='#L2174' id='L2174'>2174</a><a href='#L2175' id='L2175'>2175</a><a href='#L2176' id='L2176'>2176</a><a href='#L2177' id='L2177'>2177</a><a href='#L2178' id='L2178'>2178</a><a href='#L2179' id='L2179'>2179</a><a href='#L2180' id='L2180'>2180</a><a href='#L2181' id='L2181'>2181</a><a href='#L2182' id='L2182'>2182</a><a href='#L2183' id='L2183'>2183</a><a href='#L2184' id='L2184'>2184</a><a href='#L2185' id='L2185'>2185</a><a href='#L2186' id='L2186'>2186</a><a href='#L2187' id='L2187'>2187</a><a href='#L2188' id='L2188'>2188</a><a href='#L2189' id='L2189'>2189</a><a href='#L2190' id='L2190'>2190</a><a href='#L2191' id='L2191'>2191</a><a href='#L2192' id='L2192'>2192</a><a href='#L2193' id='L2193'>2193</a><a href='#L2194' id='L2194'>2194</a><a href='#L2195' id='L2195'>2195</a><a href='#L2196' id='L2196'>2196</a><a href='#L2197' id='L2197'>2197</a><a href='#L2198' id='L2198'>2198</a><a href='#L2199' id='L2199'>2199</a><a href='#L2200' id='L2200'>2200</a><a href='#L2201' id='L2201'>2201</a><a href='#L2202' id='L2202'>2202</a><a href='#L2203' id='L2203'>2203</a><a href='#L2204' id='L2204'>2204</a><a href='#L2205' id='L2205'>2205</a><a href='#L2206' id='L2206'>2206</a><a href='#L2207' id='L2207'>2207</a><a href='#L2208' id='L2208'>2208</a><a href='#L2209' id='L2209'>2209</a><a href='#L2210' id='L2210'>2210</a><a href='#L2211' id='L2211'>2211</a><a href='#L2212' id='L2212'>2212</a><a href='#L2213' id='L2213'>2213</a><a href='#L2214' id='L2214'>2214</a><a href='#L2215' id='L2215'>2215</a><a href='#L2216' id='L2216'>2216</a><a href='#L2217' id='L2217'>2217</a><a href='#L2218' id='L2218'>2218</a><a href='#L2219' id='L2219'>2219</a><a href='#L2220' id='L2220'>2220</a><a href='#L2221' id='L2221'>2221</a><a href='#L2222' id='L2222'>2222</a><a href='#L2223' id='L2223'>2223</a><a href='#L2224' id='L2224'>2224</a><a href='#L2225' id='L2225'>2225</a><a href='#L2226' id='L2226'>2226</a><a href='#L2227' id='L2227'>2227</a><a href='#L2228' id='L2228'>2228</a><a href='#L2229' id='L2229'>2229</a><a href='#L2230' id='L2230'>2230</a><a href='#L2231' id='L2231'>2231</a><a href='#L2232' id='L2232'>2232</a><a href='#L2233' id='L2233'>2233</a><a href='#L2234' id='L2234'>2234</a><a href='#L2235' id='L2235'>2235</a><a href='#L2236' id='L2236'>2236</a><a href='#L2237' id='L2237'>2237</a><a href='#L2238' id='L2238'>2238</a><a href='#L2239' id='L2239'>2239</a><a href='#L2240' id='L2240'>2240</a><a href='#L2241' id='L2241'>2241</a><a href='#L2242' id='L2242'>2242</a><a href='#L2243' id='L2243'>2243</a><a href='#L2244' id='L2244'>2244</a><a href='#L2245' id='L2245'>2245</a><a href='#L2246' id='L2246'>2246</a><a href='#L2247' id='L2247'>2247</a><a href='#L2248' id='L2248'>2248</a><a href='#L2249' id='L2249'>2249</a><a href='#L2250' id='L2250'>2250</a><a href='#L2251' id='L2251'>2251</a><a href='#L2252' id='L2252'>2252</a><a href='#L2253' id='L2253'>2253</a><a href='#L2254' id='L2254'>2254</a><a href='#L2255' id='L2255'>2255</a><a href='#L2256' id='L2256'>2256</a><a href='#L2257' id='L2257'>2257</a><a href='#L2258' id='L2258'>2258</a><a href='#L2259' id='L2259'>2259</a><a href='#L2260' id='L2260'>2260</a><a href='#L2261' id='L2261'>2261</a><a href='#L2262' id='L2262'>2262</a><a href='#L2263' id='L2263'>2263</a><a href='#L2264' id='L2264'>2264</a><a href='#L2265' id='L2265'>2265</a><a href='#L2266' id='L2266'>2266</a><a href='#L2267' id='L2267'>2267</a><a href='#L2268' id='L2268'>2268</a><a href='#L2269' id='L2269'>2269</a><a href='#L2270' id='L2270'>2270</a><a href='#L2271' id='L2271'>2271</a><a href='#L2272' id='L2272'>2272</a><a href='#L2273' id='L2273'>2273</a><a href='#L2274' id='L2274'>2274</a><a href='#L2275' id='L2275'>2275</a><a href='#L2276' id='L2276'>2276</a><a href='#L2277' id='L2277'>2277</a><a href='#L2278' id='L2278'>2278</a><a href='#L2279' id='L2279'>2279</a><a href='#L2280' id='L2280'>2280</a><a href='#L2281' id='L2281'>2281</a><a href='#L2282' id='L2282'>2282</a><a href='#L2283' id='L2283'>2283</a><a href='#L2284' id='L2284'>2284</a><a href='#L2285' id='L2285'>2285</a><a href='#L2286' id='L2286'>2286</a><a href='#L2287' id='L2287'>2287</a><a href='#L2288' id='L2288'>2288</a><a href='#L2289' id='L2289'>2289</a><a href='#L2290' id='L2290'>2290</a><a href='#L2291' id='L2291'>2291</a><a href='#L2292' id='L2292'>2292</a><a href='#L2293' id='L2293'>2293</a><a href='#L2294' id='L2294'>2294</a><a href='#L2295' id='L2295'>2295</a><a href='#L2296' id='L2296'>2296</a><a href='#L2297' id='L2297'>2297</a><a href='#L2298' id='L2298'>2298</a><a href='#L2299' id='L2299'>2299</a><a href='#L2300' id='L2300'>2300</a><a href='#L2301' id='L2301'>2301</a><a href='#L2302' id='L2302'>2302</a><a href='#L2303' id='L2303'>2303</a><a href='#L2304' id='L2304'>2304</a><a href='#L2305' id='L2305'>2305</a><a href='#L2306' id='L2306'>2306</a><a href='#L2307' id='L2307'>2307</a><a href='#L2308' id='L2308'>2308</a><a href='#L2309' id='L2309'>2309</a><a href='#L2310' id='L2310'>2310</a><a href='#L2311' id='L2311'>2311</a><a href='#L2312' id='L2312'>2312</a><a href='#L2313' id='L2313'>2313</a><a href='#L2314' id='L2314'>2314</a><a href='#L2315' id='L2315'>2315</a><a href='#L2316' id='L2316'>2316</a><a href='#L2317' id='L2317'>2317</a><a href='#L2318' id='L2318'>2318</a><a href='#L2319' id='L2319'>2319</a><a href='#L2320' id='L2320'>2320</a><a href='#L2321' id='L2321'>2321</a><a href='#L2322' id='L2322'>2322</a><a href='#L2323' id='L2323'>2323</a><a href='#L2324' id='L2324'>2324</a><a href='#L2325' id='L2325'>2325</a><a href='#L2326' id='L2326'>2326</a><a href='#L2327' id='L2327'>2327</a><a href='#L2328' id='L2328'>2328</a><a href='#L2329' id='L2329'>2329</a><a href='#L2330' id='L2330'>2330</a><a href='#L2331' id='L2331'>2331</a><a href='#L2332' id='L2332'>2332</a><a href='#L2333' id='L2333'>2333</a><a href='#L2334' id='L2334'>2334</a><a href='#L2335' id='L2335'>2335</a><a href='#L2336' id='L2336'>2336</a><a href='#L2337' id='L2337'>2337</a><a href='#L2338' id='L2338'>2338</a><a href='#L2339' id='L2339'>2339</a><a href='#L2340' id='L2340'>2340</a><a href='#L2341' id='L2341'>2341</a><a href='#L2342' id='L2342'>2342</a><a href='#L2343' id='L2343'>2343</a><a href='#L2344' id='L2344'>2344</a><a href='#L2345' id='L2345'>2345</a><a href='#L2346' id='L2346'>2346</a><a href='#L2347' id='L2347'>2347</a><a href='#L2348' id='L2348'>2348</a><a href='#L2349' id='L2349'>2349</a><a href='#L2350' id='L2350'>2350</a><a href='#L2351' id='L2351'>2351</a><a href='#L2352' id='L2352'>2352</a><a href='#L2353' id='L2353'>2353</a><a href='#L2354' id='L2354'>2354</a><a href='#L2355' id='L2355'>2355</a><a href='#L2356' id='L2356'>2356</a><a href='#L2357' id='L2357'>2357</a><a href='#L2358' id='L2358'>2358</a><a href='#L2359' id='L2359'>2359</a><a href='#L2360' id='L2360'>2360</a><a href='#L2361' id='L2361'>2361</a><a href='#L2362' id='L2362'>2362</a><a href='#L2363' id='L2363'>2363</a><a href='#L2364' id='L2364'>2364</a><a href='#L2365' id='L2365'>2365</a><a href='#L2366' id='L2366'>2366</a><a href='#L2367' id='L2367'>2367</a><a href='#L2368' id='L2368'>2368</a><a href='#L2369' id='L2369'>2369</a><a href='#L2370' id='L2370'>2370</a><a href='#L2371' id='L2371'>2371</a><a href='#L2372' id='L2372'>2372</a><a href='#L2373' id='L2373'>2373</a><a href='#L2374' id='L2374'>2374</a><a href='#L2375' id='L2375'>2375</a><a href='#L2376' id='L2376'>2376</a><a href='#L2377' id='L2377'>2377</a><a href='#L2378' id='L2378'>2378</a><a href='#L2379' id='L2379'>2379</a><a href='#L2380' id='L2380'>2380</a><a href='#L2381' id='L2381'>2381</a><a href='#L2382' id='L2382'>2382</a><a href='#L2383' id='L2383'>2383</a><a href='#L2384' id='L2384'>2384</a><a href='#L2385' id='L2385'>2385</a><a href='#L2386' id='L2386'>2386</a><a href='#L2387' id='L2387'>2387</a><a href='#L2388' id='L2388'>2388</a><a href='#L2389' id='L2389'>2389</a><a href='#L2390' id='L2390'>2390</a><a href='#L2391' id='L2391'>2391</a><a href='#L2392' id='L2392'>2392</a><a href='#L2393' id='L2393'>2393</a><a href='#L2394' id='L2394'>2394</a><a href='#L2395' id='L2395'>2395</a><a href='#L2396' id='L2396'>2396</a><a href='#L2397' id='L2397'>2397</a><a href='#L2398' id='L2398'>2398</a><a href='#L2399' id='L2399'>2399</a><a href='#L2400' id='L2400'>2400</a><a href='#L2401' id='L2401'>2401</a><a href='#L2402' id='L2402'>2402</a><a href='#L2403' id='L2403'>2403</a><a href='#L2404' id='L2404'>2404</a><a href='#L2405' id='L2405'>2405</a><a href='#L2406' id='L2406'>2406</a><a href='#L2407' id='L2407'>2407</a><a href='#L2408' id='L2408'>2408</a><a href='#L2409' id='L2409'>2409</a><a href='#L2410' id='L2410'>2410</a><a href='#L2411' id='L2411'>2411</a><a href='#L2412' id='L2412'>2412</a><a href='#L2413' id='L2413'>2413</a><a href='#L2414' id='L2414'>2414</a><a href='#L2415' id='L2415'>2415</a><a href='#L2416' id='L2416'>2416</a><a href='#L2417' id='L2417'>2417</a><a href='#L2418' id='L2418'>2418</a><a href='#L2419' id='L2419'>2419</a><a href='#L2420' id='L2420'>2420</a><a href='#L2421' id='L2421'>2421</a><a href='#L2422' id='L2422'>2422</a><a href='#L2423' id='L2423'>2423</a><a href='#L2424' id='L2424'>2424</a><a href='#L2425' id='L2425'>2425</a><a href='#L2426' id='L2426'>2426</a><a href='#L2427' id='L2427'>2427</a><a href='#L2428' id='L2428'>2428</a><a href='#L2429' id='L2429'>2429</a><a href='#L2430' id='L2430'>2430</a><a href='#L2431' id='L2431'>2431</a><a href='#L2432' id='L2432'>2432</a><a href='#L2433' id='L2433'>2433</a><a href='#L2434' id='L2434'>2434</a><a href='#L2435' id='L2435'>2435</a><a href='#L2436' id='L2436'>2436</a><a href='#L2437' id='L2437'>2437</a><a href='#L2438' id='L2438'>2438</a><a href='#L2439' id='L2439'>2439</a><a href='#L2440' id='L2440'>2440</a><a href='#L2441' id='L2441'>2441</a><a href='#L2442' id='L2442'>2442</a><a href='#L2443' id='L2443'>2443</a><a href='#L2444' id='L2444'>2444</a><a href='#L2445' id='L2445'>2445</a><a href='#L2446' id='L2446'>2446</a><a href='#L2447' id='L2447'>2447</a><a href='#L2448' id='L2448'>2448</a><a href='#L2449' id='L2449'>2449</a><a href='#L2450' id='L2450'>2450</a><a href='#L2451' id='L2451'>2451</a><a href='#L2452' id='L2452'>2452</a><a href='#L2453' id='L2453'>2453</a><a href='#L2454' id='L2454'>2454</a><a href='#L2455' id='L2455'>2455</a><a href='#L2456' id='L2456'>2456</a><a href='#L2457' id='L2457'>2457</a><a href='#L2458' id='L2458'>2458</a><a href='#L2459' id='L2459'>2459</a><a href='#L2460' id='L2460'>2460</a><a href='#L2461' id='L2461'>2461</a><a href='#L2462' id='L2462'>2462</a><a href='#L2463' id='L2463'>2463</a><a href='#L2464' id='L2464'>2464</a><a href='#L2465' id='L2465'>2465</a><a href='#L2466' id='L2466'>2466</a><a href='#L2467' id='L2467'>2467</a><a href='#L2468' id='L2468'>2468</a><a href='#L2469' id='L2469'>2469</a><a href='#L2470' id='L2470'>2470</a><a href='#L2471' id='L2471'>2471</a><a href='#L2472' id='L2472'>2472</a><a href='#L2473' id='L2473'>2473</a><a href='#L2474' id='L2474'>2474</a><a href='#L2475' id='L2475'>2475</a><a href='#L2476' id='L2476'>2476</a><a href='#L2477' id='L2477'>2477</a><a href='#L2478' id='L2478'>2478</a><a href='#L2479' id='L2479'>2479</a><a href='#L2480' id='L2480'>2480</a><a href='#L2481' id='L2481'>2481</a><a href='#L2482' id='L2482'>2482</a><a href='#L2483' id='L2483'>2483</a><a href='#L2484' id='L2484'>2484</a><a href='#L2485' id='L2485'>2485</a><a href='#L2486' id='L2486'>2486</a><a href='#L2487' id='L2487'>2487</a><a href='#L2488' id='L2488'>2488</a><a href='#L2489' id='L2489'>2489</a><a href='#L2490' id='L2490'>2490</a><a href='#L2491' id='L2491'>2491</a><a href='#L2492' id='L2492'>2492</a><a href='#L2493' id='L2493'>2493</a><a href='#L2494' id='L2494'>2494</a><a href='#L2495' id='L2495'>2495</a><a href='#L2496' id='L2496'>2496</a><a href='#L2497' id='L2497'>2497</a><a href='#L2498' id='L2498'>2498</a><a href='#L2499' id='L2499'>2499</a><a href='#L2500' id='L2500'>2500</a><a href='#L2501' id='L2501'>2501</a><a href='#L2502' id='L2502'>2502</a><a href='#L2503' id='L2503'>2503</a><a href='#L2504' id='L2504'>2504</a><a href='#L2505' id='L2505'>2505</a><a href='#L2506' id='L2506'>2506</a><a href='#L2507' id='L2507'>2507</a><a href='#L2508' id='L2508'>2508</a><a href='#L2509' id='L2509'>2509</a><a href='#L2510' id='L2510'>2510</a><a href='#L2511' id='L2511'>2511</a><a href='#L2512' id='L2512'>2512</a><a href='#L2513' id='L2513'>2513</a><a href='#L2514' id='L2514'>2514</a><a href='#L2515' id='L2515'>2515</a><a href='#L2516' id='L2516'>2516</a><a href='#L2517' id='L2517'>2517</a><a href='#L2518' id='L2518'>2518</a><a href='#L2519' id='L2519'>2519</a><a href='#L2520' id='L2520'>2520</a><a href='#L2521' id='L2521'>2521</a><a href='#L2522' id='L2522'>2522</a><a href='#L2523' id='L2523'>2523</a><a href='#L2524' id='L2524'>2524</a><a href='#L2525' id='L2525'>2525</a><a href='#L2526' id='L2526'>2526</a><a href='#L2527' id='L2527'>2527</a><a href='#L2528' id='L2528'>2528</a><a href='#L2529' id='L2529'>2529</a><a href='#L2530' id='L2530'>2530</a><a href='#L2531' id='L2531'>2531</a><a href='#L2532' id='L2532'>2532</a><a href='#L2533' id='L2533'>2533</a><a href='#L2534' id='L2534'>2534</a><a href='#L2535' id='L2535'>2535</a><a href='#L2536' id='L2536'>2536</a><a href='#L2537' id='L2537'>2537</a><a href='#L2538' id='L2538'>2538</a><a href='#L2539' id='L2539'>2539</a><a href='#L2540' id='L2540'>2540</a><a href='#L2541' id='L2541'>2541</a><a href='#L2542' id='L2542'>2542</a><a href='#L2543' id='L2543'>2543</a><a href='#L2544' id='L2544'>2544</a><a href='#L2545' id='L2545'>2545</a><a href='#L2546' id='L2546'>2546</a><a href='#L2547' id='L2547'>2547</a><a href='#L2548' id='L2548'>2548</a><a href='#L2549' id='L2549'>2549</a><a href='#L2550' id='L2550'>2550</a><a href='#L2551' id='L2551'>2551</a><a href='#L2552' id='L2552'>2552</a><a href='#L2553' id='L2553'>2553</a><a href='#L2554' id='L2554'>2554</a><a href='#L2555' id='L2555'>2555</a><a href='#L2556' id='L2556'>2556</a><a href='#L2557' id='L2557'>2557</a><a href='#L2558' id='L2558'>2558</a><a href='#L2559' id='L2559'>2559</a><a href='#L2560' id='L2560'>2560</a><a href='#L2561' id='L2561'>2561</a><a href='#L2562' id='L2562'>2562</a><a href='#L2563' id='L2563'>2563</a><a href='#L2564' id='L2564'>2564</a><a href='#L2565' id='L2565'>2565</a><a href='#L2566' id='L2566'>2566</a><a href='#L2567' id='L2567'>2567</a><a href='#L2568' id='L2568'>2568</a><a href='#L2569' id='L2569'>2569</a><a href='#L2570' id='L2570'>2570</a><a href='#L2571' id='L2571'>2571</a><a href='#L2572' id='L2572'>2572</a><a href='#L2573' id='L2573'>2573</a><a href='#L2574' id='L2574'>2574</a><a href='#L2575' id='L2575'>2575</a><a href='#L2576' id='L2576'>2576</a><a href='#L2577' id='L2577'>2577</a><a href='#L2578' id='L2578'>2578</a><a href='#L2579' id='L2579'>2579</a><a href='#L2580' id='L2580'>2580</a><a href='#L2581' id='L2581'>2581</a><a href='#L2582' id='L2582'>2582</a><a href='#L2583' id='L2583'>2583</a><a href='#L2584' id='L2584'>2584</a><a href='#L2585' id='L2585'>2585</a><a href='#L2586' id='L2586'>2586</a><a href='#L2587' id='L2587'>2587</a><a href='#L2588' id='L2588'>2588</a><a href='#L2589' id='L2589'>2589</a><a href='#L2590' id='L2590'>2590</a><a href='#L2591' id='L2591'>2591</a><a href='#L2592' id='L2592'>2592</a><a href='#L2593' id='L2593'>2593</a><a href='#L2594' id='L2594'>2594</a><a href='#L2595' id='L2595'>2595</a><a href='#L2596' id='L2596'>2596</a><a href='#L2597' id='L2597'>2597</a><a href='#L2598' id='L2598'>2598</a><a href='#L2599' id='L2599'>2599</a><a href='#L2600' id='L2600'>2600</a><a href='#L2601' id='L2601'>2601</a><a href='#L2602' id='L2602'>2602</a><a href='#L2603' id='L2603'>2603</a><a href='#L2604' id='L2604'>2604</a><a href='#L2605' id='L2605'>2605</a><a href='#L2606' id='L2606'>2606</a><a href='#L2607' id='L2607'>2607</a><a href='#L2608' id='L2608'>2608</a><a href='#L2609' id='L2609'>2609</a><a href='#L2610' id='L2610'>2610</a><a href='#L2611' id='L2611'>2611</a><a href='#L2612' id='L2612'>2612</a><a href='#L2613' id='L2613'>2613</a><a href='#L2614' id='L2614'>2614</a><a href='#L2615' id='L2615'>2615</a><a href='#L2616' id='L2616'>2616</a><a href='#L2617' id='L2617'>2617</a><a href='#L2618' id='L2618'>2618</a><a href='#L2619' id='L2619'>2619</a><a href='#L2620' id='L2620'>2620</a><a href='#L2621' id='L2621'>2621</a><a href='#L2622' id='L2622'>2622</a><a href='#L2623' id='L2623'>2623</a><a href='#L2624' id='L2624'>2624</a><a href='#L2625' id='L2625'>2625</a><a href='#L2626' id='L2626'>2626</a><a href='#L2627' id='L2627'>2627</a><a href='#L2628' id='L2628'>2628</a><a href='#L2629' id='L2629'>2629</a><a href='#L2630' id='L2630'>2630</a><a href='#L2631' id='L2631'>2631</a><a href='#L2632' id='L2632'>2632</a><a href='#L2633' id='L2633'>2633</a><a href='#L2634' id='L2634'>2634</a><a href='#L2635' id='L2635'>2635</a><a href='#L2636' id='L2636'>2636</a><a href='#L2637' id='L2637'>2637</a><a href='#L2638' id='L2638'>2638</a><a href='#L2639' id='L2639'>2639</a><a href='#L2640' id='L2640'>2640</a><a href='#L2641' id='L2641'>2641</a><a href='#L2642' id='L2642'>2642</a><a href='#L2643' id='L2643'>2643</a><a href='#L2644' id='L2644'>2644</a><a href='#L2645' id='L2645'>2645</a><a href='#L2646' id='L2646'>2646</a><a href='#L2647' id='L2647'>2647</a><a href='#L2648' id='L2648'>2648</a><a href='#L2649' id='L2649'>2649</a><a href='#L2650' id='L2650'>2650</a><a href='#L2651' id='L2651'>2651</a><a href='#L2652' id='L2652'>2652</a><a href='#L2653' id='L2653'>2653</a><a href='#L2654' id='L2654'>2654</a><a href='#L2655' id='L2655'>2655</a><a href='#L2656' id='L2656'>2656</a><a href='#L2657' id='L2657'>2657</a><a href='#L2658' id='L2658'>2658</a><a href='#L2659' id='L2659'>2659</a><a href='#L2660' id='L2660'>2660</a><a href='#L2661' id='L2661'>2661</a><a href='#L2662' id='L2662'>2662</a><a href='#L2663' id='L2663'>2663</a><a href='#L2664' id='L2664'>2664</a><a href='#L2665' id='L2665'>2665</a><a href='#L2666' id='L2666'>2666</a><a href='#L2667' id='L2667'>2667</a><a href='#L2668' id='L2668'>2668</a><a href='#L2669' id='L2669'>2669</a><a href='#L2670' id='L2670'>2670</a><a href='#L2671' id='L2671'>2671</a><a href='#L2672' id='L2672'>2672</a><a href='#L2673' id='L2673'>2673</a><a href='#L2674' id='L2674'>2674</a><a href='#L2675' id='L2675'>2675</a><a href='#L2676' id='L2676'>2676</a><a href='#L2677' id='L2677'>2677</a><a href='#L2678' id='L2678'>2678</a><a href='#L2679' id='L2679'>2679</a><a href='#L2680' id='L2680'>2680</a><a href='#L2681' id='L2681'>2681</a><a href='#L2682' id='L2682'>2682</a><a href='#L2683' id='L2683'>2683</a><a href='#L2684' id='L2684'>2684</a><a href='#L2685' id='L2685'>2685</a><a href='#L2686' id='L2686'>2686</a><a href='#L2687' id='L2687'>2687</a><a href='#L2688' id='L2688'>2688</a><a href='#L2689' id='L2689'>2689</a><a href='#L2690' id='L2690'>2690</a><a href='#L2691' id='L2691'>2691</a><a href='#L2692' id='L2692'>2692</a><a href='#L2693' id='L2693'>2693</a><a href='#L2694' id='L2694'>2694</a><a href='#L2695' id='L2695'>2695</a><a href='#L2696' id='L2696'>2696</a><a href='#L2697' id='L2697'>2697</a><a href='#L2698' id='L2698'>2698</a><a href='#L2699' id='L2699'>2699</a><a href='#L2700' id='L2700'>2700</a><a href='#L2701' id='L2701'>2701</a><a href='#L2702' id='L2702'>2702</a><a href='#L2703' id='L2703'>2703</a><a href='#L2704' id='L2704'>2704</a><a href='#L2705' id='L2705'>2705</a><a href='#L2706' id='L2706'>2706</a><a href='#L2707' id='L2707'>2707</a><a href='#L2708' id='L2708'>2708</a><a href='#L2709' id='L2709'>2709</a><a href='#L2710' id='L2710'>2710</a><a href='#L2711' id='L2711'>2711</a><a href='#L2712' id='L2712'>2712</a><a href='#L2713' id='L2713'>2713</a><a href='#L2714' id='L2714'>2714</a><a href='#L2715' id='L2715'>2715</a><a href='#L2716' id='L2716'>2716</a><a href='#L2717' id='L2717'>2717</a><a href='#L2718' id='L2718'>2718</a><a href='#L2719' id='L2719'>2719</a><a href='#L2720' id='L2720'>2720</a><a href='#L2721' id='L2721'>2721</a><a href='#L2722' id='L2722'>2722</a><a href='#L2723' id='L2723'>2723</a><a href='#L2724' id='L2724'>2724</a><a href='#L2725' id='L2725'>2725</a><a href='#L2726' id='L2726'>2726</a><a href='#L2727' id='L2727'>2727</a><a href='#L2728' id='L2728'>2728</a><a href='#L2729' id='L2729'>2729</a><a href='#L2730' id='L2730'>2730</a><a href='#L2731' id='L2731'>2731</a><a href='#L2732' id='L2732'>2732</a><a href='#L2733' id='L2733'>2733</a><a href='#L2734' id='L2734'>2734</a><a href='#L2735' id='L2735'>2735</a><a href='#L2736' id='L2736'>2736</a><a href='#L2737' id='L2737'>2737</a><a href='#L2738' id='L2738'>2738</a><a href='#L2739' id='L2739'>2739</a><a href='#L2740' id='L2740'>2740</a><a href='#L2741' id='L2741'>2741</a><a href='#L2742' id='L2742'>2742</a><a href='#L2743' id='L2743'>2743</a><a href='#L2744' id='L2744'>2744</a><a href='#L2745' id='L2745'>2745</a><a href='#L2746' id='L2746'>2746</a><a href='#L2747' id='L2747'>2747</a><a href='#L2748' id='L2748'>2748</a><a href='#L2749' id='L2749'>2749</a><a href='#L2750' id='L2750'>2750</a><a href='#L2751' id='L2751'>2751</a><a href='#L2752' id='L2752'>2752</a><a href='#L2753' id='L2753'>2753</a><a href='#L2754' id='L2754'>2754</a><a href='#L2755' id='L2755'>2755</a><a href='#L2756' id='L2756'>2756</a><a href='#L2757' id='L2757'>2757</a><a href='#L2758' id='L2758'>2758</a><a href='#L2759' id='L2759'>2759</a><a href='#L2760' id='L2760'>2760</a><a href='#L2761' id='L2761'>2761</a><a href='#L2762' id='L2762'>2762</a><a href='#L2763' id='L2763'>2763</a><a href='#L2764' id='L2764'>2764</a><a href='#L2765' id='L2765'>2765</a><a href='#L2766' id='L2766'>2766</a><a href='#L2767' id='L2767'>2767</a><a href='#L2768' id='L2768'>2768</a><a href='#L2769' id='L2769'>2769</a><a href='#L2770' id='L2770'>2770</a><a href='#L2771' id='L2771'>2771</a><a href='#L2772' id='L2772'>2772</a><a href='#L2773' id='L2773'>2773</a><a href='#L2774' id='L2774'>2774</a><a href='#L2775' id='L2775'>2775</a><a href='#L2776' id='L2776'>2776</a><a href='#L2777' id='L2777'>2777</a><a href='#L2778' id='L2778'>2778</a><a href='#L2779' id='L2779'>2779</a><a href='#L2780' id='L2780'>2780</a><a href='#L2781' id='L2781'>2781</a><a href='#L2782' id='L2782'>2782</a><a href='#L2783' id='L2783'>2783</a><a href='#L2784' id='L2784'>2784</a><a href='#L2785' id='L2785'>2785</a><a href='#L2786' id='L2786'>2786</a><a href='#L2787' id='L2787'>2787</a><a href='#L2788' id='L2788'>2788</a><a href='#L2789' id='L2789'>2789</a><a href='#L2790' id='L2790'>2790</a><a href='#L2791' id='L2791'>2791</a><a href='#L2792' id='L2792'>2792</a><a href='#L2793' id='L2793'>2793</a><a href='#L2794' id='L2794'>2794</a><a href='#L2795' id='L2795'>2795</a><a href='#L2796' id='L2796'>2796</a><a href='#L2797' id='L2797'>2797</a><a href='#L2798' id='L2798'>2798</a><a href='#L2799' id='L2799'>2799</a><a href='#L2800' id='L2800'>2800</a><a href='#L2801' id='L2801'>2801</a><a href='#L2802' id='L2802'>2802</a><a href='#L2803' id='L2803'>2803</a><a href='#L2804' id='L2804'>2804</a><a href='#L2805' id='L2805'>2805</a><a href='#L2806' id='L2806'>2806</a><a href='#L2807' id='L2807'>2807</a><a href='#L2808' id='L2808'>2808</a><a href='#L2809' id='L2809'>2809</a><a href='#L2810' id='L2810'>2810</a><a href='#L2811' id='L2811'>2811</a><a href='#L2812' id='L2812'>2812</a><a href='#L2813' id='L2813'>2813</a><a href='#L2814' id='L2814'>2814</a><a href='#L2815' id='L2815'>2815</a><a href='#L2816' id='L2816'>2816</a><a href='#L2817' id='L2817'>2817</a><a href='#L2818' id='L2818'>2818</a><a href='#L2819' id='L2819'>2819</a><a href='#L2820' id='L2820'>2820</a><a href='#L2821' id='L2821'>2821</a><a href='#L2822' id='L2822'>2822</a><a href='#L2823' id='L2823'>2823</a><a href='#L2824' id='L2824'>2824</a><a href='#L2825' id='L2825'>2825</a><a href='#L2826' id='L2826'>2826</a><a href='#L2827' id='L2827'>2827</a><a href='#L2828' id='L2828'>2828</a><a href='#L2829' id='L2829'>2829</a><a href='#L2830' id='L2830'>2830</a><a href='#L2831' id='L2831'>2831</a><a href='#L2832' id='L2832'>2832</a><a href='#L2833' id='L2833'>2833</a><a href='#L2834' id='L2834'>2834</a><a href='#L2835' id='L2835'>2835</a><a href='#L2836' id='L2836'>2836</a><a href='#L2837' id='L2837'>2837</a><a href='#L2838' id='L2838'>2838</a><a href='#L2839' id='L2839'>2839</a><a href='#L2840' id='L2840'>2840</a><a href='#L2841' id='L2841'>2841</a><a href='#L2842' id='L2842'>2842</a><a href='#L2843' id='L2843'>2843</a><a href='#L2844' id='L2844'>2844</a><a href='#L2845' id='L2845'>2845</a><a href='#L2846' id='L2846'>2846</a><a href='#L2847' id='L2847'>2847</a><a href='#L2848' id='L2848'>2848</a><a href='#L2849' id='L2849'>2849</a><a href='#L2850' id='L2850'>2850</a><a href='#L2851' id='L2851'>2851</a><a href='#L2852' id='L2852'>2852</a><a href='#L2853' id='L2853'>2853</a><a href='#L2854' id='L2854'>2854</a><a href='#L2855' id='L2855'>2855</a><a href='#L2856' id='L2856'>2856</a><a href='#L2857' id='L2857'>2857</a><a href='#L2858' id='L2858'>2858</a><a href='#L2859' id='L2859'>2859</a><a href='#L2860' id='L2860'>2860</a><a href='#L2861' id='L2861'>2861</a><a href='#L2862' id='L2862'>2862</a><a href='#L2863' id='L2863'>2863</a><a href='#L2864' id='L2864'>2864</a><a href='#L2865' id='L2865'>2865</a><a href='#L2866' id='L2866'>2866</a><a href='#L2867' id='L2867'>2867</a><a href='#L2868' id='L2868'>2868</a><a href='#L2869' id='L2869'>2869</a><a href='#L2870' id='L2870'>2870</a><a href='#L2871' id='L2871'>2871</a><a href='#L2872' id='L2872'>2872</a><a href='#L2873' id='L2873'>2873</a><a href='#L2874' id='L2874'>2874</a><a href='#L2875' id='L2875'>2875</a><a href='#L2876' id='L2876'>2876</a><a href='#L2877' id='L2877'>2877</a><a href='#L2878' id='L2878'>2878</a><a href='#L2879' id='L2879'>2879</a><a href='#L2880' id='L2880'>2880</a><a href='#L2881' id='L2881'>2881</a><a href='#L2882' id='L2882'>2882</a><a href='#L2883' id='L2883'>2883</a><a href='#L2884' id='L2884'>2884</a><a href='#L2885' id='L2885'>2885</a><a href='#L2886' id='L2886'>2886</a><a href='#L2887' id='L2887'>2887</a><a href='#L2888' id='L2888'>2888</a><a href='#L2889' id='L2889'>2889</a><a href='#L2890' id='L2890'>2890</a><a href='#L2891' id='L2891'>2891</a><a href='#L2892' id='L2892'>2892</a><a href='#L2893' id='L2893'>2893</a><a href='#L2894' id='L2894'>2894</a><a href='#L2895' id='L2895'>2895</a><a href='#L2896' id='L2896'>2896</a><a href='#L2897' id='L2897'>2897</a><a href='#L2898' id='L2898'>2898</a><a href='#L2899' id='L2899'>2899</a><a href='#L2900' id='L2900'>2900</a><a href='#L2901' id='L2901'>2901</a><a href='#L2902' id='L2902'>2902</a><a href='#L2903' id='L2903'>2903</a><a href='#L2904' id='L2904'>2904</a><a href='#L2905' id='L2905'>2905</a><a href='#L2906' id='L2906'>2906</a><a href='#L2907' id='L2907'>2907</a><a href='#L2908' id='L2908'>2908</a><a href='#L2909' id='L2909'>2909</a><a href='#L2910' id='L2910'>2910</a><a href='#L2911' id='L2911'>2911</a><a href='#L2912' id='L2912'>2912</a><a href='#L2913' id='L2913'>2913</a><a href='#L2914' id='L2914'>2914</a><a href='#L2915' id='L2915'>2915</a><a href='#L2916' id='L2916'>2916</a><a href='#L2917' id='L2917'>2917</a><a href='#L2918' id='L2918'>2918</a><a href='#L2919' id='L2919'>2919</a><a href='#L2920' id='L2920'>2920</a><a href='#L2921' id='L2921'>2921</a><a href='#L2922' id='L2922'>2922</a><a href='#L2923' id='L2923'>2923</a><a href='#L2924' id='L2924'>2924</a><a href='#L2925' id='L2925'>2925</a><a href='#L2926' id='L2926'>2926</a><a href='#L2927' id='L2927'>2927</a><a href='#L2928' id='L2928'>2928</a><a href='#L2929' id='L2929'>2929</a><a href='#L2930' id='L2930'>2930</a><a href='#L2931' id='L2931'>2931</a><a href='#L2932' id='L2932'>2932</a><a href='#L2933' id='L2933'>2933</a><a href='#L2934' id='L2934'>2934</a><a href='#L2935' id='L2935'>2935</a><a href='#L2936' id='L2936'>2936</a><a href='#L2937' id='L2937'>2937</a><a href='#L2938' id='L2938'>2938</a><a href='#L2939' id='L2939'>2939</a><a href='#L2940' id='L2940'>2940</a><a href='#L2941' id='L2941'>2941</a><a href='#L2942' id='L2942'>2942</a><a href='#L2943' id='L2943'>2943</a><a href='#L2944' id='L2944'>2944</a><a href='#L2945' id='L2945'>2945</a><a href='#L2946' id='L2946'>2946</a><a href='#L2947' id='L2947'>2947</a><a href='#L2948' id='L2948'>2948</a><a href='#L2949' id='L2949'>2949</a><a href='#L2950' id='L2950'>2950</a><a href='#L2951' id='L2951'>2951</a><a href='#L2952' id='L2952'>2952</a><a href='#L2953' id='L2953'>2953</a><a href='#L2954' id='L2954'>2954</a><a href='#L2955' id='L2955'>2955</a><a href='#L2956' id='L2956'>2956</a><a href='#L2957' id='L2957'>2957</a><a href='#L2958' id='L2958'>2958</a><a href='#L2959' id='L2959'>2959</a><a href='#L2960' id='L2960'>2960</a><a href='#L2961' id='L2961'>2961</a><a href='#L2962' id='L2962'>2962</a><a href='#L2963' id='L2963'>2963</a><a href='#L2964' id='L2964'>2964</a><a href='#L2965' id='L2965'>2965</a></div><div class="highlight"><pre class=""><div class='line' id='LC1'><span class="p">;(</span><span class="kd">function</span><span class="p">(</span><span class="nx">root</span><span class="p">,</span> <span class="nx">factory</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2'>  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">define</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">function</span><span class="dl">'</span> <span class="o">&amp;&amp;</span> <span class="nx">define</span><span class="p">.</span><span class="nx">amd</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC3'>    <span class="nx">define</span><span class="p">([],</span> <span class="nx">factory</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC4'>  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">exports</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">object</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC5'>    <span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">factory</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC6'>  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC7'>    <span class="nx">root</span><span class="p">.</span><span class="nx">Calendar</span> <span class="o">=</span> <span class="nx">factory</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC8'>  <span class="p">}</span>&#x000A;</div><div class='line' id='LC9'><span class="p">}(</span><span class="k">this</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC10'><span class="dl">"</span><span class="s2">use strict</span><span class="dl">"</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC11'>&#x000A;</div><div class='line' id='LC12'><span class="kd">function</span> <span class="nx">_classCallCheck</span><span class="p">(</span><span class="nx">instance</span><span class="p">,</span> <span class="nx">Constructor</span><span class="p">)</span> <span class="p">{</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">instance</span> <span class="k">instanceof</span> <span class="nx">Constructor</span><span class="p">))</span> <span class="p">{</span> <span class="k">throw</span> <span class="k">new</span> <span class="nx">TypeError</span><span class="p">(</span><span class="dl">"</span><span class="s2">Cannot call a class as a function</span><span class="dl">"</span><span class="p">);</span> <span class="p">}</span> <span class="p">}</span>&#x000A;</div><div class='line' id='LC13'>&#x000A;</div><div class='line' id='LC14'><span class="kd">function</span> <span class="nx">_defineProperties</span><span class="p">(</span><span class="nx">target</span><span class="p">,</span> <span class="nx">props</span><span class="p">)</span> <span class="p">{</span> <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">props</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span> <span class="kd">var</span> <span class="nx">descriptor</span> <span class="o">=</span> <span class="nx">props</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span> <span class="nx">descriptor</span><span class="p">.</span><span class="nx">enumerable</span> <span class="o">=</span> <span class="nx">descriptor</span><span class="p">.</span><span class="nx">enumerable</span> <span class="o">||</span> <span class="kc">false</span><span class="p">;</span> <span class="nx">descriptor</span><span class="p">.</span><span class="nx">configurable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span> <span class="k">if</span> <span class="p">(</span><span class="dl">"</span><span class="s2">value</span><span class="dl">"</span> <span class="k">in</span> <span class="nx">descriptor</span><span class="p">)</span> <span class="nx">descriptor</span><span class="p">.</span><span class="nx">writable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">target</span><span class="p">,</span> <span class="nx">descriptor</span><span class="p">.</span><span class="nx">key</span><span class="p">,</span> <span class="nx">descriptor</span><span class="p">);</span> <span class="p">}</span> <span class="p">}</span>&#x000A;</div><div class='line' id='LC15'>&#x000A;</div><div class='line' id='LC16'><span class="kd">function</span> <span class="nx">_createClass</span><span class="p">(</span><span class="nx">Constructor</span><span class="p">,</span> <span class="nx">protoProps</span><span class="p">,</span> <span class="nx">staticProps</span><span class="p">)</span> <span class="p">{</span> <span class="k">if</span> <span class="p">(</span><span class="nx">protoProps</span><span class="p">)</span> <span class="nx">_defineProperties</span><span class="p">(</span><span class="nx">Constructor</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span> <span class="nx">protoProps</span><span class="p">);</span> <span class="k">if</span> <span class="p">(</span><span class="nx">staticProps</span><span class="p">)</span> <span class="nx">_defineProperties</span><span class="p">(</span><span class="nx">Constructor</span><span class="p">,</span> <span class="nx">staticProps</span><span class="p">);</span> <span class="k">return</span> <span class="nx">Constructor</span><span class="p">;</span> <span class="p">}</span>&#x000A;</div><div class='line' id='LC17'>&#x000A;</div><div class='line' id='LC18'><span class="cm">/**</span>&#x000A;</div><div class='line' id='LC19'><span class="cm"> * Calendar 类</span>&#x000A;</div><div class='line' id='LC20'><span class="cm"> */</span>&#x000A;</div><div class='line' id='LC21'><span class="kd">var</span> <span class="nx">Calendar</span> <span class="o">=</span>&#x000A;</div><div class='line' id='LC22'><span class="cm">/*#__PURE__*/</span>&#x000A;</div><div class='line' id='LC23'><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC24'>  <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC25'><span class="cm">   * 构造函数</span>&#x000A;</div><div class='line' id='LC26'><span class="cm">   * ========================================================================</span>&#x000A;</div><div class='line' id='LC27'><span class="cm">   * @constructor</span>&#x000A;</div><div class='line' id='LC28'><span class="cm">   * @param {Object} [options] - 日历控件的配置参数</span>&#x000A;</div><div class='line' id='LC29'><span class="cm">   * @param [options.parent] - 日历显示的位置（DOM 节点 ID）</span>&#x000A;</div><div class='line' id='LC30'><span class="cm">   * @param [options.time] - 日历初始化显示的时间</span>&#x000A;</div><div class='line' id='LC31'><span class="cm">   * @param [options.viewMode] - 日历的试图模式：0 - 日期试图（默认值）</span>&#x000A;</div><div class='line' id='LC32'><span class="cm">   *                                           1 - 月份试图</span>&#x000A;</div><div class='line' id='LC33'><span class="cm">   *                                           2 - 年代试图</span>&#x000A;</div><div class='line' id='LC34'><span class="cm">   * @param [options.pickMode] - 日历的日期选择模式: single - 单选模式（默认值）</span>&#x000A;</div><div class='line' id='LC35'><span class="cm">   *                                               multiple - 多选模式</span>&#x000A;</div><div class='line' id='LC36'><span class="cm">   *                                               range - 范围选择模式</span>&#x000A;</div><div class='line' id='LC37'><span class="cm">   *                                               week - 星期选择模式</span>&#x000A;</div><div class='line' id='LC38'><span class="cm">   * @param [options.hasSwitcher] - 是否显示上下切换按钮（默认值：true）</span>&#x000A;</div><div class='line' id='LC39'><span class="cm">   * @param [options.hasFooter] - 是否显示日历页脚（默认值：true）</span>&#x000A;</div><div class='line' id='LC40'><span class="cm">   * @param [options.hasClock] - 是否显示当前时间（默认值：true）</span>&#x000A;</div><div class='line' id='LC41'><span class="cm">   * @param [options.onDatePick] - 选择日期后的自定义事件处理器</span>&#x000A;</div><div class='line' id='LC42'><span class="cm">   * @param [options.onMonthPick] - 选择月份后的自定义事件处理器</span>&#x000A;</div><div class='line' id='LC43'><span class="cm">   * @param [options.onYearPick] - 选择年份后的自定义事件处理器</span>&#x000A;</div><div class='line' id='LC44'><span class="cm">   * @param [options.onTodayPick] - 点击当前日期的自定义事件处理器</span>&#x000A;</div><div class='line' id='LC45'><span class="cm">   * @param [options.MONTHS] - 月份常量（格式：去年11/12月 + 今天月份 + 明年1/2月）</span>&#x000A;</div><div class='line' id='LC46'><span class="cm">   * @param [options.DAYS] - 星期常量（周日为一周的第一天，周六为一周的最后一天）</span>&#x000A;</div><div class='line' id='LC47'><span class="cm">   * @param [options.DATES] - 月份天数常量（2月为28天，闰年则 28 + 1）</span>&#x000A;</div><div class='line' id='LC48'><span class="cm">   * @param [options.STYLES] - 日历控件的样式常量</span>&#x000A;</div><div class='line' id='LC49'><span class="cm">   * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC50'><span class="cm">   */</span>&#x000A;</div><div class='line' id='LC51'>  <span class="kd">function</span> <span class="nx">Calendar</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC52'>    <span class="nx">_classCallCheck</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">Calendar</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC53'>&#x000A;</div><div class='line' id='LC54'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC55'><span class="cm">     * Calendar 控件的配置属性</span>&#x000A;</div><div class='line' id='LC56'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC57'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC58'>    <span class="k">this</span><span class="p">.</span><span class="nx">attributes</span> <span class="o">=</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC59'>      <span class="c1">// 日历显示的位置（DOM 节点 ID）</span>&#x000A;</div><div class='line' id='LC60'>      <span class="na">parent</span><span class="p">:</span> <span class="dl">''</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC61'>      <span class="c1">// 日历初始化显示的时间</span>&#x000A;</div><div class='line' id='LC62'>      <span class="na">time</span><span class="p">:</span> <span class="dl">''</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC63'>      <span class="c1">// 日历的试图模式：</span>&#x000A;</div><div class='line' id='LC64'>      <span class="c1">// 0 - 日期试图（默认值）</span>&#x000A;</div><div class='line' id='LC65'>      <span class="c1">// 1 - 月份试图</span>&#x000A;</div><div class='line' id='LC66'>      <span class="c1">// 2 - 年代试图</span>&#x000A;</div><div class='line' id='LC67'>      <span class="na">viewMode</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC68'>      <span class="c1">// 日历的日期选择模式</span>&#x000A;</div><div class='line' id='LC69'>      <span class="c1">// single - 单选模式（默认值）</span>&#x000A;</div><div class='line' id='LC70'>      <span class="c1">// multiple - 多选模式</span>&#x000A;</div><div class='line' id='LC71'>      <span class="c1">// range - 范围选择模式</span>&#x000A;</div><div class='line' id='LC72'>      <span class="c1">// week - 星期选择模式</span>&#x000A;</div><div class='line' id='LC73'>      <span class="na">pickMode</span><span class="p">:</span> <span class="dl">'</span><span class="s1">single</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC74'>      <span class="c1">// 是否显示上下切换按钮（默认值：true）</span>&#x000A;</div><div class='line' id='LC75'>      <span class="na">hasSwitcher</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC76'>      <span class="c1">// 是否显示日历页脚（默认值：true）</span>&#x000A;</div><div class='line' id='LC77'>      <span class="na">hasFooter</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC78'>      <span class="c1">// 是否显示当前时间（默认值：true）</span>&#x000A;</div><div class='line' id='LC79'>      <span class="na">hasClock</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC80'>      <span class="c1">// 选择日期后的自定义事件处理器</span>&#x000A;</div><div class='line' id='LC81'>      <span class="c1">// time - 选中的日期时间范围</span>&#x000A;</div><div class='line' id='LC82'>      <span class="c1">// $el - 点击的 DOM 节点</span>&#x000A;</div><div class='line' id='LC83'>      <span class="c1">// calendar - 日历控件的实例</span>&#x000A;</div><div class='line' id='LC84'>      <span class="c1">// onDatePick: function (time, $el, calendar) {</span>&#x000A;</div><div class='line' id='LC85'>      <span class="c1">//   console.log('选择时间：' + time)</span>&#x000A;</div><div class='line' id='LC86'>      <span class="c1">//   console.log('选择的 DOM 节点：' + $el)</span>&#x000A;</div><div class='line' id='LC87'>      <span class="c1">//   console.log('日历实例：' + calendar)</span>&#x000A;</div><div class='line' id='LC88'>      <span class="c1">// },</span>&#x000A;</div><div class='line' id='LC89'>      <span class="na">onDatePick</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC90'>      <span class="c1">// 选择月份后的自定义事件处理器</span>&#x000A;</div><div class='line' id='LC91'>      <span class="c1">// time - 选中的日期时间</span>&#x000A;</div><div class='line' id='LC92'>      <span class="c1">// $el - 点击的 DOM 节点</span>&#x000A;</div><div class='line' id='LC93'>      <span class="c1">// calendar - 日历控件的实例</span>&#x000A;</div><div class='line' id='LC94'>      <span class="c1">// onMonthPick: function (time, $el, calendar) {</span>&#x000A;</div><div class='line' id='LC95'>      <span class="c1">//   console.log('选择时间：', time)</span>&#x000A;</div><div class='line' id='LC96'>      <span class="c1">//   console.log('选择DOM：', $el)</span>&#x000A;</div><div class='line' id='LC97'>      <span class="c1">//   console.log('日历实例：', calendar)</span>&#x000A;</div><div class='line' id='LC98'>      <span class="c1">// }</span>&#x000A;</div><div class='line' id='LC99'>      <span class="na">onMonthPick</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC100'>      <span class="c1">// 选择年份后的自定义事件处理器</span>&#x000A;</div><div class='line' id='LC101'>      <span class="c1">// time - 选中的日期时间</span>&#x000A;</div><div class='line' id='LC102'>      <span class="c1">// $el - 点击的 DOM 节点</span>&#x000A;</div><div class='line' id='LC103'>      <span class="c1">// calendar - 日历控件的实例</span>&#x000A;</div><div class='line' id='LC104'>      <span class="c1">// onYearPick: function (time, $el, calendar) {</span>&#x000A;</div><div class='line' id='LC105'>      <span class="c1">//   console.log('选择时间：', time)</span>&#x000A;</div><div class='line' id='LC106'>      <span class="c1">//   console.log('选择DOM：', $el)</span>&#x000A;</div><div class='line' id='LC107'>      <span class="c1">//   console.log('日历实例：', calendar)</span>&#x000A;</div><div class='line' id='LC108'>      <span class="c1">// }</span>&#x000A;</div><div class='line' id='LC109'>      <span class="na">onYearPick</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC110'>      <span class="c1">// 点击当前日期的自定义事件处理器</span>&#x000A;</div><div class='line' id='LC111'>      <span class="c1">// time - 选中的日期时间</span>&#x000A;</div><div class='line' id='LC112'>      <span class="c1">// $el - 点击的 DOM 节点</span>&#x000A;</div><div class='line' id='LC113'>      <span class="c1">// calendar - 日历控件的实例</span>&#x000A;</div><div class='line' id='LC114'>      <span class="c1">// onTodayPick: function (time, $el, calendar) {</span>&#x000A;</div><div class='line' id='LC115'>      <span class="c1">//   console.log('选择时间：', time)</span>&#x000A;</div><div class='line' id='LC116'>      <span class="c1">//   console.log('选择的 DOM 节点：', $el)</span>&#x000A;</div><div class='line' id='LC117'>      <span class="c1">//   console.log('日历实例：', calendar)</span>&#x000A;</div><div class='line' id='LC118'>      <span class="c1">// }</span>&#x000A;</div><div class='line' id='LC119'>      <span class="na">onTodayPick</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC120'>      <span class="c1">// 月份常量</span>&#x000A;</div><div class='line' id='LC121'>      <span class="na">MONTHS</span><span class="p">:</span> <span class="p">[],</span>&#x000A;</div><div class='line' id='LC122'>      <span class="c1">// 星期常量</span>&#x000A;</div><div class='line' id='LC123'>      <span class="na">DAYS</span><span class="p">:</span> <span class="p">[],</span>&#x000A;</div><div class='line' id='LC124'>      <span class="c1">// 月份天数常量</span>&#x000A;</div><div class='line' id='LC125'>      <span class="na">DATES</span><span class="p">:</span> <span class="p">[],</span>&#x000A;</div><div class='line' id='LC126'>      <span class="c1">// 日历控件的样式常量</span>&#x000A;</div><div class='line' id='LC127'>      <span class="na">STYLES</span><span class="p">:</span> <span class="p">{}</span>&#x000A;</div><div class='line' id='LC128'>      <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC129'><span class="cm">       * Calendar 控件相关的 DOM 节点属性</span>&#x000A;</div><div class='line' id='LC130'><span class="cm">       * ========================================================================</span>&#x000A;</div><div class='line' id='LC131'><span class="cm">       */</span>&#x000A;</div><div class='line' id='LC132'>&#x000A;</div><div class='line' id='LC133'>    <span class="p">};</span>&#x000A;</div><div class='line' id='LC134'>    <span class="k">this</span><span class="p">.</span><span class="nx">elements</span> <span class="o">=</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC135'>      <span class="c1">// 显示日历控件的父节点</span>&#x000A;</div><div class='line' id='LC136'>      <span class="na">parent</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC137'>      <span class="c1">// 日历控件的根节点</span>&#x000A;</div><div class='line' id='LC138'>      <span class="na">wrap</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC139'>      <span class="c1">// 日历控件的头部节点</span>&#x000A;</div><div class='line' id='LC140'>      <span class="na">header</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC141'>      <span class="c1">// 日历控件的标题节点</span>&#x000A;</div><div class='line' id='LC142'>      <span class="na">title</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC143'>      <span class="c1">// 日历控件的切换器节点</span>&#x000A;</div><div class='line' id='LC144'>      <span class="na">switcher</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC145'>      <span class="c1">// 日历控件向上切换按钮节点</span>&#x000A;</div><div class='line' id='LC146'>      <span class="na">prev</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC147'>      <span class="c1">// 日历控件向下切换按钮节点</span>&#x000A;</div><div class='line' id='LC148'>      <span class="na">next</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC149'>      <span class="c1">// 日历控件的主体内容节点</span>&#x000A;</div><div class='line' id='LC150'>      <span class="na">body</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC151'>      <span class="c1">// 日历控件的星期栏节点</span>&#x000A;</div><div class='line' id='LC152'>      <span class="na">week</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC153'>      <span class="c1">// 日历控件的日期显示节点</span>&#x000A;</div><div class='line' id='LC154'>      <span class="na">dates</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC155'>      <span class="c1">// 日历控件的月份显示节点</span>&#x000A;</div><div class='line' id='LC156'>      <span class="na">months</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC157'>      <span class="c1">// 日历控件的年代显示节点</span>&#x000A;</div><div class='line' id='LC158'>      <span class="na">years</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC159'>      <span class="c1">// 日历控件的页脚节点</span>&#x000A;</div><div class='line' id='LC160'>      <span class="na">footer</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC161'>      <span class="c1">// 日历控件的当前日期显示节点</span>&#x000A;</div><div class='line' id='LC162'>      <span class="na">today</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC163'>      <span class="c1">// 日历控件的当前时间显示节点</span>&#x000A;</div><div class='line' id='LC164'>      <span class="na">time</span><span class="p">:</span> <span class="kc">null</span>&#x000A;</div><div class='line' id='LC165'>      <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC166'><span class="cm">       * Calendar 控件相关的数据属性</span>&#x000A;</div><div class='line' id='LC167'><span class="cm">       * ========================================================================</span>&#x000A;</div><div class='line' id='LC168'><span class="cm">       */</span>&#x000A;</div><div class='line' id='LC169'>&#x000A;</div><div class='line' id='LC170'>    <span class="p">};</span>&#x000A;</div><div class='line' id='LC171'>    <span class="k">this</span><span class="p">.</span><span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC172'>      <span class="c1">// 日历可以显示的最小年份</span>&#x000A;</div><div class='line' id='LC173'>      <span class="na">minYear</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC174'>      <span class="c1">// 日历可以显示的最大年份</span>&#x000A;</div><div class='line' id='LC175'>      <span class="na">maxYear</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC176'>      <span class="c1">// 当前选中日期的年份</span>&#x000A;</div><div class='line' id='LC177'>      <span class="na">year</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC178'>      <span class="c1">// 当前选中日期的月份</span>&#x000A;</div><div class='line' id='LC179'>      <span class="na">month</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC180'>      <span class="c1">// 选中的日期信息</span>&#x000A;</div><div class='line' id='LC181'>      <span class="na">date</span><span class="p">:</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC182'>        <span class="c1">// 年份</span>&#x000A;</div><div class='line' id='LC183'>        <span class="na">year</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC184'>        <span class="c1">// 月份</span>&#x000A;</div><div class='line' id='LC185'>        <span class="na">month</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC186'>        <span class="c1">// 日期</span>&#x000A;</div><div class='line' id='LC187'>        <span class="na">date</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC188'>        <span class="c1">// 星期几</span>&#x000A;</div><div class='line' id='LC189'>        <span class="na">day</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC190'>        <span class="c1">// 日期的英文表示（格式：2019-6-2）</span>&#x000A;</div><div class='line' id='LC191'>        <span class="na">text</span><span class="p">:</span> <span class="dl">''</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC192'>        <span class="c1">// 日期的完整中文表示（格式：2019年6月2日 星期日）</span>&#x000A;</div><div class='line' id='LC193'>        <span class="na">fullText</span><span class="p">:</span> <span class="dl">''</span>&#x000A;</div><div class='line' id='LC194'>      <span class="p">},</span>&#x000A;</div><div class='line' id='LC195'>      <span class="c1">// 多选（multiple/range/week）模式下，选中的日期数据</span>&#x000A;</div><div class='line' id='LC196'>      <span class="na">picked</span><span class="p">:</span> <span class="p">[]</span> <span class="c1">// 执行初始化操作</span>&#x000A;</div><div class='line' id='LC197'>      <span class="c1">// 绘制界面</span>&#x000A;</div><div class='line' id='LC198'>      <span class="c1">// 绑定事件处理器</span>&#x000A;</div><div class='line' id='LC199'>&#x000A;</div><div class='line' id='LC200'>    <span class="p">};</span>&#x000A;</div><div class='line' id='LC201'>    <span class="k">this</span><span class="p">.</span><span class="nx">initialize</span><span class="p">(</span><span class="nx">options</span><span class="p">).</span><span class="nx">render</span><span class="p">().</span><span class="nx">addEventListeners</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC202'>    <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC203'>  <span class="p">}</span>&#x000A;</div><div class='line' id='LC204'>  <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC205'><span class="cm">   * 初始化方法</span>&#x000A;</div><div class='line' id='LC206'><span class="cm">   * ========================================================================</span>&#x000A;</div><div class='line' id='LC207'><span class="cm">   * 1. 初始化配置信息；</span>&#x000A;</div><div class='line' id='LC208'><span class="cm">   * 2. 初始化数据信息；</span>&#x000A;</div><div class='line' id='LC209'><span class="cm">   * 3. 初始化 DOM 信息（创建控件相关的 DOM 节点）；</span>&#x000A;</div><div class='line' id='LC210'><span class="cm">   * ========================================================================</span>&#x000A;</div><div class='line' id='LC211'><span class="cm">   * @param {Object} options - 配置信息</span>&#x000A;</div><div class='line' id='LC212'><span class="cm">   * @see this.attributes</span>&#x000A;</div><div class='line' id='LC213'><span class="cm">   * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC214'><span class="cm">   */</span>&#x000A;</div><div class='line' id='LC215'>&#x000A;</div><div class='line' id='LC216'>&#x000A;</div><div class='line' id='LC217'>  <span class="nx">_createClass</span><span class="p">(</span><span class="nx">Calendar</span><span class="p">,</span> <span class="p">[{</span>&#x000A;</div><div class='line' id='LC218'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">initialize</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC219'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">initialize</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC220'>      <span class="kd">var</span> <span class="nx">year</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">getYear</span><span class="p">().</span><span class="nx">value</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC221'>      <span class="kd">var</span> <span class="nx">pickMode</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC222'>      <span class="kd">var</span> <span class="nx">time</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC223'>      <span class="kd">var</span> <span class="nx">month</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC224'>      <span class="kd">var</span> <span class="nx">monthText</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC225'>      <span class="kd">var</span> <span class="nx">dateRanges</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC226'>      <span class="kd">var</span> <span class="nx">startDate</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC227'>      <span class="kd">var</span> <span class="nx">endDate</span><span class="p">;</span> <span class="c1">// 初始化配置</span>&#x000A;</div><div class='line' id='LC228'>&#x000A;</div><div class='line' id='LC229'>      <span class="k">this</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="nx">Calendar</span><span class="p">.</span><span class="nx">defaults</span><span class="p">).</span><span class="kd">set</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC230'>      <span class="nx">time</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">time</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC231'>      <span class="nx">pickMode</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">pickMode</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC232'>      <span class="nx">month</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">getMonth</span><span class="p">(</span><span class="nx">time</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC233'>      <span class="nx">monthText</span> <span class="o">=</span> <span class="nx">month</span><span class="p">.</span><span class="nx">text</span><span class="p">;</span> <span class="c1">// 初始化数据</span>&#x000A;</div><div class='line' id='LC234'>&#x000A;</div><div class='line' id='LC235'>      <span class="k">this</span><span class="p">.</span><span class="nx">setYear</span><span class="p">(</span><span class="nx">time</span><span class="p">).</span><span class="nx">setMonth</span><span class="p">(</span><span class="nx">time</span><span class="p">).</span><span class="nx">setDate</span><span class="p">(</span><span class="nx">time</span><span class="p">).</span><span class="nx">_setYears</span><span class="p">(</span><span class="nx">time</span><span class="p">);</span> <span class="c1">// 初始化（多选模式）选中的时间</span>&#x000A;</div><div class='line' id='LC236'>&#x000A;</div><div class='line' id='LC237'>&#x000A;</div><div class='line' id='LC238'>      <span class="k">switch</span> <span class="p">(</span><span class="nx">pickMode</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC239'>        <span class="k">case</span> <span class="dl">'</span><span class="s1">multiple</span><span class="dl">'</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC240'>          <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">picked</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">getDate</span><span class="p">().</span><span class="nx">text</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC241'>          <span class="k">break</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC242'>&#x000A;</div><div class='line' id='LC243'>        <span class="k">case</span> <span class="dl">'</span><span class="s1">range</span><span class="dl">'</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC244'>          <span class="nx">startDate</span> <span class="o">=</span> <span class="nx">monthText</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">-</span><span class="dl">'</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC245'>          <span class="nx">endDate</span> <span class="o">=</span> <span class="nx">monthText</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">-</span><span class="dl">'</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">DATES</span><span class="dl">'</span><span class="p">)[</span><span class="nx">month</span><span class="p">.</span><span class="nx">value</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span> <span class="c1">// 默认选中整个月</span>&#x000A;</div><div class='line' id='LC246'>&#x000A;</div><div class='line' id='LC247'>          <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">picked</span> <span class="o">=</span> <span class="p">[</span><span class="nx">startDate</span><span class="p">,</span> <span class="nx">endDate</span><span class="p">];</span>&#x000A;</div><div class='line' id='LC248'>          <span class="k">break</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC249'>&#x000A;</div><div class='line' id='LC250'>        <span class="k">case</span> <span class="dl">'</span><span class="s1">week</span><span class="dl">'</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC251'>          <span class="nx">dateRanges</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">getWeekRanges</span><span class="p">(</span><span class="nx">time</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC252'>          <span class="nx">startDate</span> <span class="o">=</span> <span class="nx">dateRanges</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>&#x000A;</div><div class='line' id='LC253'>          <span class="nx">endDate</span> <span class="o">=</span> <span class="nx">dateRanges</span><span class="p">[</span><span class="nx">dateRanges</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span> <span class="c1">// 默认选中配置日期所在的那个星期</span>&#x000A;</div><div class='line' id='LC254'>&#x000A;</div><div class='line' id='LC255'>          <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">picked</span> <span class="o">=</span> <span class="p">[</span><span class="nx">startDate</span><span class="p">,</span> <span class="nx">endDate</span><span class="p">];</span>&#x000A;</div><div class='line' id='LC256'>          <span class="k">break</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC257'>      <span class="p">}</span> <span class="c1">// 设置日历控件可以显示的年份范围</span>&#x000A;</div><div class='line' id='LC258'>&#x000A;</div><div class='line' id='LC259'>&#x000A;</div><div class='line' id='LC260'>      <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">minYear</span> <span class="o">=</span> <span class="nx">year</span> <span class="o">-</span> <span class="mi">100</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC261'>      <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">maxYear</span> <span class="o">=</span> <span class="nx">year</span> <span class="o">+</span> <span class="mi">100</span><span class="p">;</span> <span class="c1">// 创建控件相关的 DOM 节点</span>&#x000A;</div><div class='line' id='LC262'>&#x000A;</div><div class='line' id='LC263'>      <span class="k">this</span><span class="p">.</span><span class="nx">_createElements</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC264'>&#x000A;</div><div class='line' id='LC265'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC266'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC267'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC268'><span class="cm">     * 绘制日历控件界面的方法</span>&#x000A;</div><div class='line' id='LC269'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC270'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC271'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC272'>&#x000A;</div><div class='line' id='LC273'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC274'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">render</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC275'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC276'>      <span class="kd">var</span> <span class="nx">elements</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getEls</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC277'>      <span class="kd">var</span> <span class="nx">$wrap</span> <span class="o">=</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">wrap</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC278'>      <span class="kd">var</span> <span class="nx">$header</span> <span class="o">=</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">header</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC279'>      <span class="kd">var</span> <span class="nx">$switcher</span> <span class="o">=</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">switcher</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC280'>      <span class="kd">var</span> <span class="nx">$body</span> <span class="o">=</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC281'>      <span class="kd">var</span> <span class="nx">$footer</span> <span class="o">=</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">footer</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC282'>      <span class="kd">var</span> <span class="nx">$fragment</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createDocumentFragment</span><span class="p">();</span> <span class="c1">// 绘制头部</span>&#x000A;</div><div class='line' id='LC283'>&#x000A;</div><div class='line' id='LC284'>      <span class="k">this</span><span class="p">.</span><span class="nx">_renderTitle</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC285'>&#x000A;</div><div class='line' id='LC286'>      <span class="nx">$header</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">elements</span><span class="p">.</span><span class="nx">title</span><span class="p">);</span> <span class="c1">// 配置了显示上下切换按钮</span>&#x000A;</div><div class='line' id='LC287'>&#x000A;</div><div class='line' id='LC288'>      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">hasSwitcher</span><span class="dl">'</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC289'>        <span class="nx">$switcher</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">elements</span><span class="p">.</span><span class="nx">prev</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC290'>        <span class="nx">$switcher</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">elements</span><span class="p">.</span><span class="nx">next</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC291'>        <span class="nx">$header</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">$switcher</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC292'>      <span class="p">}</span> <span class="c1">// 绘制星期栏</span>&#x000A;</div><div class='line' id='LC293'>&#x000A;</div><div class='line' id='LC294'>&#x000A;</div><div class='line' id='LC295'>      <span class="k">this</span><span class="p">.</span><span class="nx">_renderDays</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC296'>&#x000A;</div><div class='line' id='LC297'>      <span class="nx">$body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">elements</span><span class="p">.</span><span class="nx">week</span><span class="p">);</span> <span class="c1">// 绘制日期</span>&#x000A;</div><div class='line' id='LC298'>&#x000A;</div><div class='line' id='LC299'>      <span class="k">this</span><span class="p">.</span><span class="nx">_renderDates</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC300'>&#x000A;</div><div class='line' id='LC301'>      <span class="nx">$body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">elements</span><span class="p">.</span><span class="nx">dates</span><span class="p">);</span> <span class="c1">// 绘制月份</span>&#x000A;</div><div class='line' id='LC302'>&#x000A;</div><div class='line' id='LC303'>      <span class="k">this</span><span class="p">.</span><span class="nx">_renderMonths</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC304'>&#x000A;</div><div class='line' id='LC305'>      <span class="nx">$body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">elements</span><span class="p">.</span><span class="nx">months</span><span class="p">);</span> <span class="c1">// 绘制年代</span>&#x000A;</div><div class='line' id='LC306'>&#x000A;</div><div class='line' id='LC307'>      <span class="k">this</span><span class="p">.</span><span class="nx">_renderYears</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC308'>&#x000A;</div><div class='line' id='LC309'>      <span class="nx">$body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">elements</span><span class="p">.</span><span class="nx">years</span><span class="p">);</span> <span class="c1">// 配置了显示页脚</span>&#x000A;</div><div class='line' id='LC310'>&#x000A;</div><div class='line' id='LC311'>      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">hasFooter</span><span class="dl">'</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC312'>        <span class="c1">// 绘制页脚</span>&#x000A;</div><div class='line' id='LC313'>        <span class="k">this</span><span class="p">.</span><span class="nx">_renderFooter</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC314'>&#x000A;</div><div class='line' id='LC315'>        <span class="nx">$footer</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">elements</span><span class="p">.</span><span class="nx">today</span><span class="p">);</span> <span class="c1">// 配置了显示当前时间</span>&#x000A;</div><div class='line' id='LC316'>&#x000A;</div><div class='line' id='LC317'>        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">hasClock</span><span class="dl">'</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC318'>          <span class="nx">$footer</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">elements</span><span class="p">.</span><span class="nx">time</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC319'>        <span class="p">}</span>&#x000A;</div><div class='line' id='LC320'>      <span class="p">}</span> <span class="c1">// 将主体模块绘制出来</span>&#x000A;</div><div class='line' id='LC321'>&#x000A;</div><div class='line' id='LC322'>&#x000A;</div><div class='line' id='LC323'>      <span class="nx">$wrap</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">$header</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC324'>      <span class="nx">$wrap</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">$body</span><span class="p">);</span> <span class="c1">// 配置了显示页脚</span>&#x000A;</div><div class='line' id='LC325'>&#x000A;</div><div class='line' id='LC326'>      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">hasFooter</span><span class="dl">'</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC327'>        <span class="nx">$wrap</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">$footer</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC328'>      <span class="p">}</span> <span class="c1">// 将控件零时保存在文档碎片中</span>&#x000A;</div><div class='line' id='LC329'>&#x000A;</div><div class='line' id='LC330'>&#x000A;</div><div class='line' id='LC331'>      <span class="nx">$fragment</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">$wrap</span><span class="p">);</span> <span class="c1">// 一次性绘制出整个日历控件</span>&#x000A;</div><div class='line' id='LC332'>&#x000A;</div><div class='line' id='LC333'>      <span class="nx">elements</span><span class="p">.</span><span class="nx">parent</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">$fragment</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC334'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC335'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC336'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC337'><span class="cm">     * 给日历控件相关的 DOM 节点绑定事件处理器</span>&#x000A;</div><div class='line' id='LC338'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC339'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC340'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC341'>&#x000A;</div><div class='line' id='LC342'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC343'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">addEventListeners</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC344'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">addEventListeners</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC345'>      <span class="kd">var</span> <span class="nx">DOT</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">.</span><span class="dl">'</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC346'>      <span class="kd">var</span> <span class="nx">STYLES</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">STYLES</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC347'>      <span class="kd">var</span> <span class="nx">CLICK</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">click</span><span class="dl">'</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC348'>      <span class="kd">var</span> <span class="nx">selectorTitle</span> <span class="o">=</span> <span class="nx">DOT</span> <span class="o">+</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">TITLE</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC349'>      <span class="kd">var</span> <span class="nx">selectorPrev</span> <span class="o">=</span> <span class="nx">DOT</span> <span class="o">+</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">PREV</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC350'>      <span class="kd">var</span> <span class="nx">selectorNext</span> <span class="o">=</span> <span class="nx">DOT</span> <span class="o">+</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">NEXT</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC351'>      <span class="kd">var</span> <span class="nx">selectorDate</span> <span class="o">=</span> <span class="nx">DOT</span> <span class="o">+</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">DATE</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC352'>      <span class="kd">var</span> <span class="nx">selectorMonth</span> <span class="o">=</span> <span class="nx">DOT</span> <span class="o">+</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">MONTH</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC353'>      <span class="kd">var</span> <span class="nx">selectorYear</span> <span class="o">=</span> <span class="nx">DOT</span> <span class="o">+</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">YEAR</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC354'>      <span class="kd">var</span> <span class="nx">selectorToday</span> <span class="o">=</span> <span class="nx">DOT</span> <span class="o">+</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">TODAY</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC355'>      <span class="kd">var</span> <span class="nx">Delegate</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">Delegate</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC356'>      <span class="kd">var</span> <span class="nx">$wrap</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getEls</span><span class="p">().</span><span class="nx">wrap</span><span class="p">;</span> <span class="c1">// 绑定点击标题的事件处理器</span>&#x000A;</div><div class='line' id='LC357'>&#x000A;</div><div class='line' id='LC358'>      <span class="nx">Delegate</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="nx">$wrap</span><span class="p">,</span> <span class="nx">selectorTitle</span><span class="p">,</span> <span class="nx">CLICK</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">_titleClick</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC359'>&#x000A;</div><div class='line' id='LC360'>      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">hasSwitcher</span><span class="dl">'</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC361'>        <span class="c1">// 绑定点击向上按钮的事件处理器</span>&#x000A;</div><div class='line' id='LC362'>        <span class="nx">Delegate</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="nx">$wrap</span><span class="p">,</span> <span class="nx">selectorPrev</span><span class="p">,</span> <span class="nx">CLICK</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">_prevClick</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span> <span class="c1">// 绑定点击向下按钮的事件处理器</span>&#x000A;</div><div class='line' id='LC363'>&#x000A;</div><div class='line' id='LC364'>        <span class="nx">Delegate</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="nx">$wrap</span><span class="p">,</span> <span class="nx">selectorNext</span><span class="p">,</span> <span class="nx">CLICK</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">_nextClick</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC365'>      <span class="p">}</span> <span class="c1">// 绑定点击日期的事件处理器</span>&#x000A;</div><div class='line' id='LC366'>&#x000A;</div><div class='line' id='LC367'>&#x000A;</div><div class='line' id='LC368'>      <span class="nx">Delegate</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="nx">$wrap</span><span class="p">,</span> <span class="nx">selectorDate</span><span class="p">,</span> <span class="nx">CLICK</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">_dateClick</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span> <span class="c1">// 绑定点击月份的事件处理器</span>&#x000A;</div><div class='line' id='LC369'>&#x000A;</div><div class='line' id='LC370'>      <span class="nx">Delegate</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="nx">$wrap</span><span class="p">,</span> <span class="nx">selectorMonth</span><span class="p">,</span> <span class="nx">CLICK</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">_monthClick</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span> <span class="c1">// 绑定点击年份的事件处理器</span>&#x000A;</div><div class='line' id='LC371'>&#x000A;</div><div class='line' id='LC372'>      <span class="nx">Delegate</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="nx">$wrap</span><span class="p">,</span> <span class="nx">selectorYear</span><span class="p">,</span> <span class="nx">CLICK</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">_yearClick</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC373'>&#x000A;</div><div class='line' id='LC374'>      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">hasClock</span><span class="dl">'</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC375'>        <span class="c1">// 绑定点击今天的事件处理器</span>&#x000A;</div><div class='line' id='LC376'>        <span class="nx">Delegate</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="nx">$wrap</span><span class="p">,</span> <span class="nx">selectorToday</span><span class="p">,</span> <span class="nx">CLICK</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">_todayClick</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC377'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC378'>&#x000A;</div><div class='line' id='LC379'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC380'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC381'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC382'><span class="cm">     * 重启日历控件</span>&#x000A;</div><div class='line' id='LC383'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC384'><span class="cm">     * 1. 销毁日历控件：</span>&#x000A;</div><div class='line' id='LC385'><span class="cm">     *    1.1 移除所有的绑定的事件处理器</span>&#x000A;</div><div class='line' id='LC386'><span class="cm">     *    1.2 隐藏控件</span>&#x000A;</div><div class='line' id='LC387'><span class="cm">     *    1.3 移除所有 DOM 节点</span>&#x000A;</div><div class='line' id='LC388'><span class="cm">     *    1.4 重置所有属性</span>&#x000A;</div><div class='line' id='LC389'><span class="cm">     * 2. 初始化控件</span>&#x000A;</div><div class='line' id='LC390'><span class="cm">     * 3. 绘制控件</span>&#x000A;</div><div class='line' id='LC391'><span class="cm">     * 4. 绑定事件处理起</span>&#x000A;</div><div class='line' id='LC392'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC393'><span class="cm">     * @param {Object} options - 配置信息</span>&#x000A;</div><div class='line' id='LC394'><span class="cm">     * @see this.attributes</span>&#x000A;</div><div class='line' id='LC395'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC396'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC397'>&#x000A;</div><div class='line' id='LC398'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC399'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">reload</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC400'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">reload</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC401'>      <span class="k">this</span><span class="p">.</span><span class="nx">destroy</span><span class="p">().</span><span class="nx">initialize</span><span class="p">(</span><span class="nx">options</span><span class="p">).</span><span class="nx">render</span><span class="p">().</span><span class="nx">addEventListeners</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC402'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC403'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC404'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC405'><span class="cm">     * 销毁日历控件</span>&#x000A;</div><div class='line' id='LC406'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC407'><span class="cm">     * 1 移除所有的绑定的事件处理器</span>&#x000A;</div><div class='line' id='LC408'><span class="cm">     * 2 隐藏控件</span>&#x000A;</div><div class='line' id='LC409'><span class="cm">     * 3 移除所有 DOM 节点</span>&#x000A;</div><div class='line' id='LC410'><span class="cm">     * 4 重置所有属性</span>&#x000A;</div><div class='line' id='LC411'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC412'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC413'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC414'>&#x000A;</div><div class='line' id='LC415'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC416'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">destroy</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC417'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">destroy</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC418'>      <span class="k">this</span><span class="p">.</span><span class="nx">removeEventListeners</span><span class="p">().</span><span class="nx">hide</span><span class="p">().</span><span class="nx">remove</span><span class="p">().</span><span class="nx">reset</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC419'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC420'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC421'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC422'><span class="cm">     * 移除所有绑定的事件处理器</span>&#x000A;</div><div class='line' id='LC423'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC424'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC425'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC426'>&#x000A;</div><div class='line' id='LC427'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC428'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">removeEventListeners</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC429'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">removeEventListeners</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC430'>      <span class="kd">var</span> <span class="nx">CLICK</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">click</span><span class="dl">'</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC431'>      <span class="kd">var</span> <span class="nx">Delegate</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">Delegate</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC432'>      <span class="kd">var</span> <span class="nx">$wrap</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getEls</span><span class="p">().</span><span class="nx">wrap</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC433'>      <span class="nx">Delegate</span><span class="p">.</span><span class="nx">off</span><span class="p">(</span><span class="nx">$wrap</span><span class="p">,</span> <span class="nx">CLICK</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">_titleClick</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC434'>&#x000A;</div><div class='line' id='LC435'>      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">hasSwitcher</span><span class="dl">'</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC436'>        <span class="nx">Delegate</span><span class="p">.</span><span class="nx">off</span><span class="p">(</span><span class="nx">$wrap</span><span class="p">,</span> <span class="nx">CLICK</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">_prevClick</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC437'>        <span class="nx">Delegate</span><span class="p">.</span><span class="nx">off</span><span class="p">(</span><span class="nx">$wrap</span><span class="p">,</span> <span class="nx">CLICK</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">_nextClick</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC438'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC439'>&#x000A;</div><div class='line' id='LC440'>      <span class="nx">Delegate</span><span class="p">.</span><span class="nx">off</span><span class="p">(</span><span class="nx">$wrap</span><span class="p">,</span> <span class="nx">CLICK</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">_dateClick</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC441'>      <span class="nx">Delegate</span><span class="p">.</span><span class="nx">off</span><span class="p">(</span><span class="nx">$wrap</span><span class="p">,</span> <span class="nx">CLICK</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">_monthClick</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC442'>      <span class="nx">Delegate</span><span class="p">.</span><span class="nx">off</span><span class="p">(</span><span class="nx">$wrap</span><span class="p">,</span> <span class="nx">CLICK</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">_yearClick</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC443'>&#x000A;</div><div class='line' id='LC444'>      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">hasClock</span><span class="dl">'</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC445'>        <span class="nx">Delegate</span><span class="p">.</span><span class="nx">off</span><span class="p">(</span><span class="nx">$wrap</span><span class="p">,</span> <span class="nx">CLICK</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">_todayClick</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC446'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC447'>&#x000A;</div><div class='line' id='LC448'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC449'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC450'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC451'><span class="cm">     * 移除所有 DOM 节点</span>&#x000A;</div><div class='line' id='LC452'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC453'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC454'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC455'>&#x000A;</div><div class='line' id='LC456'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC457'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">remove</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC458'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">remove</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC459'>      <span class="kd">var</span> <span class="nx">elements</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getEls</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC460'>      <span class="nx">elements</span><span class="p">.</span><span class="nx">parent</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">elements</span><span class="p">.</span><span class="nx">wrap</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC461'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC462'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC463'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC464'><span class="cm">     * 重置所有属性</span>&#x000A;</div><div class='line' id='LC465'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC466'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC467'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC468'>&#x000A;</div><div class='line' id='LC469'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC470'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">reset</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC471'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">reset</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC472'>      <span class="k">this</span><span class="p">.</span><span class="nx">attributes</span> <span class="o">=</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC473'>        <span class="na">parent</span><span class="p">:</span> <span class="dl">''</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC474'>        <span class="na">time</span><span class="p">:</span> <span class="dl">''</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC475'>        <span class="na">viewMode</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC476'>        <span class="na">pickMode</span><span class="p">:</span> <span class="dl">'</span><span class="s1">single</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC477'>        <span class="na">hasSwitcher</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC478'>        <span class="na">hasFooter</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC479'>        <span class="na">hasClock</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC480'>        <span class="na">MONTHS</span><span class="p">:</span> <span class="p">[],</span>&#x000A;</div><div class='line' id='LC481'>        <span class="na">DAYS</span><span class="p">:</span> <span class="p">[],</span>&#x000A;</div><div class='line' id='LC482'>        <span class="na">DATES</span><span class="p">:</span> <span class="p">[],</span>&#x000A;</div><div class='line' id='LC483'>        <span class="na">STYLES</span><span class="p">:</span> <span class="p">{}</span>&#x000A;</div><div class='line' id='LC484'>      <span class="p">};</span>&#x000A;</div><div class='line' id='LC485'>      <span class="k">this</span><span class="p">.</span><span class="nx">elements</span> <span class="o">=</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC486'>        <span class="na">parent</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC487'>        <span class="na">wrap</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC488'>        <span class="na">header</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC489'>        <span class="na">title</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC490'>        <span class="na">switcher</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC491'>        <span class="na">prev</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC492'>        <span class="na">next</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC493'>        <span class="na">body</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC494'>        <span class="na">week</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC495'>        <span class="na">dates</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC496'>        <span class="na">months</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC497'>        <span class="na">years</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC498'>        <span class="na">footer</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC499'>        <span class="na">today</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC500'>        <span class="na">time</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC501'>        <span class="na">year</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC502'>        <span class="na">month</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC503'>        <span class="na">date</span><span class="p">:</span> <span class="kc">null</span>&#x000A;</div><div class='line' id='LC504'>      <span class="p">};</span>&#x000A;</div><div class='line' id='LC505'>      <span class="k">this</span><span class="p">.</span><span class="nx">data</span> <span class="o">=</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC506'>        <span class="na">minYear</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC507'>        <span class="na">maxYear</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC508'>        <span class="na">years</span><span class="p">:</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC509'>          <span class="na">start</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC510'>          <span class="na">end</span><span class="p">:</span> <span class="mi">0</span>&#x000A;</div><div class='line' id='LC511'>        <span class="p">},</span>&#x000A;</div><div class='line' id='LC512'>        <span class="na">year</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC513'>        <span class="na">month</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC514'>        <span class="na">date</span><span class="p">:</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC515'>          <span class="na">year</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC516'>          <span class="na">month</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC517'>          <span class="na">date</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC518'>          <span class="na">day</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC519'>          <span class="na">text</span><span class="p">:</span> <span class="dl">''</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC520'>          <span class="na">fullText</span><span class="p">:</span> <span class="dl">''</span>&#x000A;</div><div class='line' id='LC521'>        <span class="p">},</span>&#x000A;</div><div class='line' id='LC522'>        <span class="na">picked</span><span class="p">:</span> <span class="p">[]</span>&#x000A;</div><div class='line' id='LC523'>      <span class="p">};</span>&#x000A;</div><div class='line' id='LC524'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC525'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC526'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC527'><span class="cm">     * 获取配置信息</span>&#x000A;</div><div class='line' id='LC528'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC529'><span class="cm">     * @param {String} attr - 配置属性名称</span>&#x000A;</div><div class='line' id='LC530'><span class="cm">     * @returns {*} - 返回对应属性的值</span>&#x000A;</div><div class='line' id='LC531'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC532'>&#x000A;</div><div class='line' id='LC533'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC534'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">get</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC535'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="kd">get</span><span class="p">(</span><span class="nx">attr</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC536'>      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">attributes</span><span class="p">[</span><span class="nx">attr</span><span class="p">];</span>&#x000A;</div><div class='line' id='LC537'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC538'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC539'><span class="cm">     * 设置配置信息</span>&#x000A;</div><div class='line' id='LC540'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC541'><span class="cm">     * @param {Object} [options] - 配置信息对象</span>&#x000A;</div><div class='line' id='LC542'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC543'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC544'>&#x000A;</div><div class='line' id='LC545'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC546'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">set</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC547'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="kd">set</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC548'>      <span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="p">?</span> <span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">:</span> <span class="p">{};</span>&#x000A;</div><div class='line' id='LC549'>      <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">attributes</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC550'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC551'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC552'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC553'><span class="cm">     * 获取日历控件所有相关的 DOM 节点的对象</span>&#x000A;</div><div class='line' id='LC554'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC555'><span class="cm">     * @see Calendar.elements</span>&#x000A;</div><div class='line' id='LC556'><span class="cm">     * @returns {Object}</span>&#x000A;</div><div class='line' id='LC557'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC558'>&#x000A;</div><div class='line' id='LC559'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC560'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">getEls</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC561'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">getEls</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC562'>      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">elements</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC563'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC564'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC565'><span class="cm">     * 获取日历控件当前显示的年份信息</span>&#x000A;</div><div class='line' id='LC566'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC567'><span class="cm">     * @returns {Number} - 返回日历控件当前显示的年份</span>&#x000A;</div><div class='line' id='LC568'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC569'>&#x000A;</div><div class='line' id='LC570'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC571'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">getYear</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC572'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">getYear</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC573'>      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">year</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC574'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC575'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC576'><span class="cm">     * 设置日历控件当前的年份</span>&#x000A;</div><div class='line' id='LC577'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC578'><span class="cm">     * @param {String|Number} [time] - 表示年份的字符串或数字（默认值：今年）</span>&#x000A;</div><div class='line' id='LC579'><span class="cm">     *                                 字符串格式：'2019'、'2019-2' 或 '2019-2-2'</span>&#x000A;</div><div class='line' id='LC580'><span class="cm">     *                                 数字格式：  1546300800000</span>&#x000A;</div><div class='line' id='LC581'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC582'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC583'>&#x000A;</div><div class='line' id='LC584'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC585'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">setYear</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC586'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">setYear</span><span class="p">(</span><span class="nx">time</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC587'>      <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">year</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">getYear</span><span class="p">(</span><span class="nx">time</span><span class="p">).</span><span class="nx">value</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC588'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC589'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC590'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC591'><span class="cm">     * 获得日历控件当前显示的月份信息</span>&#x000A;</div><div class='line' id='LC592'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC593'><span class="cm">     * @returns {Number} - 返回日历控件当前显示的月份</span>&#x000A;</div><div class='line' id='LC594'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC595'>&#x000A;</div><div class='line' id='LC596'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC597'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">getMonth</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC598'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">getMonth</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC599'>      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">month</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC600'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC601'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC602'><span class="cm">     * 设置日历控件当前显示的月份</span>&#x000A;</div><div class='line' id='LC603'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC604'><span class="cm">     * @param {String|Number} [time] - 表示月份的字符串或数字（默认值：本月）</span>&#x000A;</div><div class='line' id='LC605'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC606'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC607'>&#x000A;</div><div class='line' id='LC608'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC609'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">setMonth</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC610'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">setMonth</span><span class="p">(</span><span class="nx">time</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC611'>      <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">month</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">getMonth</span><span class="p">(</span><span class="nx">time</span><span class="p">).</span><span class="nx">value</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC612'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC613'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC614'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC615'><span class="cm">     * 获取日历控件当前选中的日期</span>&#x000A;</div><div class='line' id='LC616'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC617'><span class="cm">     * @returns {Object} - 返回日历控件当前选中的日期</span>&#x000A;</div><div class='line' id='LC618'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC619'>&#x000A;</div><div class='line' id='LC620'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC621'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">getDate</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC622'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">getDate</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC623'>      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">date</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC624'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC625'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC626'><span class="cm">     * 设置日历控件当前选中的日期</span>&#x000A;</div><div class='line' id='LC627'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC628'><span class="cm">     * @param {String|Number} [time] - 表示日期的字符串或者数字（默认值：今天）</span>&#x000A;</div><div class='line' id='LC629'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC630'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC631'>&#x000A;</div><div class='line' id='LC632'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC633'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">setDate</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC634'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">setDate</span><span class="p">(</span><span class="nx">time</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC635'>      <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">date</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">getDate</span><span class="p">(</span><span class="nx">time</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC636'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC637'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC638'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC639'><span class="cm">     * 获取日历控件当前显示的年份所在的年代信息</span>&#x000A;</div><div class='line' id='LC640'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC641'><span class="cm">     * @returns {Object} - 返回当前所在年代信息</span>&#x000A;</div><div class='line' id='LC642'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC643'>&#x000A;</div><div class='line' id='LC644'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC645'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">getYears</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC646'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">getYears</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC647'>      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">years</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC648'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC649'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC650'><span class="cm">     * 获取日历控件在多选（multiple/range/week）模式下选中的日期信息</span>&#x000A;</div><div class='line' id='LC651'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC652'><span class="cm">     * @returns {Array} - 返回选中的日期信息</span>&#x000A;</div><div class='line' id='LC653'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC654'>&#x000A;</div><div class='line' id='LC655'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC656'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">getPicked</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC657'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">getPicked</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC658'>      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">picked</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC659'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC660'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC661'><span class="cm">     * 根据试图显示模式</span>&#x000A;</div><div class='line' id='LC662'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC663'><span class="cm">     * 1. 切换日历控件的显示模式</span>&#x000A;</div><div class='line' id='LC664'><span class="cm">     * 2. 更新显示内容</span>&#x000A;</div><div class='line' id='LC665'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC666'><span class="cm">     * @param {Number} viewMode - 显示模式的值：</span>&#x000A;</div><div class='line' id='LC667'><span class="cm">     *                            0 - 日期显示模式（默认值）</span>&#x000A;</div><div class='line' id='LC668'><span class="cm">     *                            1 - 月份显示模式</span>&#x000A;</div><div class='line' id='LC669'><span class="cm">     *                            2 - 年代显示模式</span>&#x000A;</div><div class='line' id='LC670'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC671'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC672'>&#x000A;</div><div class='line' id='LC673'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC674'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">update</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC675'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">update</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC676'>      <span class="kd">var</span> <span class="nx">viewMode</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="p">?</span> <span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">:</span> <span class="mi">0</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC677'>      <span class="k">this</span><span class="p">.</span><span class="nx">updateViewMode</span><span class="p">(</span><span class="nx">viewMode</span><span class="p">).</span><span class="nx">updateView</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC678'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC679'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC680'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC681'><span class="cm">     * 更新试图显示模式的配置信息</span>&#x000A;</div><div class='line' id='LC682'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC683'><span class="cm">     * @param {Number} viewMode - 显示模式的值（默认值：0）</span>&#x000A;</div><div class='line' id='LC684'><span class="cm">     * @see this.update</span>&#x000A;</div><div class='line' id='LC685'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC686'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC687'>&#x000A;</div><div class='line' id='LC688'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC689'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">updateViewMode</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC690'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">updateViewMode</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC691'>      <span class="kd">var</span> <span class="nx">viewMode</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="p">?</span> <span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">:</span> <span class="mi">0</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC692'>      <span class="kd">var</span> <span class="nx">mode</span> <span class="o">=</span> <span class="nx">viewMode</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC693'>&#x000A;</div><div class='line' id='LC694'>      <span class="k">if</span> <span class="p">(</span><span class="nx">mode</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC695'>        <span class="nx">mode</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC696'>      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC697'>        <span class="k">if</span> <span class="p">(</span><span class="nx">mode</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC698'>          <span class="nx">mode</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC699'>        <span class="p">}</span>&#x000A;</div><div class='line' id='LC700'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC701'>&#x000A;</div><div class='line' id='LC702'>      <span class="k">this</span><span class="p">.</span><span class="kd">set</span><span class="p">({</span>&#x000A;</div><div class='line' id='LC703'>        <span class="na">viewMode</span><span class="p">:</span> <span class="nx">mode</span>&#x000A;</div><div class='line' id='LC704'>      <span class="p">});</span>&#x000A;</div><div class='line' id='LC705'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC706'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC707'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC708'><span class="cm">     * 更新日历控件的显示内容</span>&#x000A;</div><div class='line' id='LC709'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC710'><span class="cm">     * 1. 更新标题内容</span>&#x000A;</div><div class='line' id='LC711'><span class="cm">     *    1.1 日期显示模式：显示年份和月份</span>&#x000A;</div><div class='line' id='LC712'><span class="cm">     *    1.2 月份显示模式：显示年份</span>&#x000A;</div><div class='line' id='LC713'><span class="cm">     *    1.3 年份显示模式：显示年代区间信息</span>&#x000A;</div><div class='line' id='LC714'><span class="cm">     * 2. 更细主体内容</span>&#x000A;</div><div class='line' id='LC715'><span class="cm">     *    2.1 日期显示模式：隐藏年份和月份的 DOM 节点，显示星期栏和日期信息</span>&#x000A;</div><div class='line' id='LC716'><span class="cm">     *    2.2 月份显示模式：隐藏年份、星期栏以及日期信息</span>&#x000A;</div><div class='line' id='LC717'><span class="cm">     *    2.3 年份显示模式：隐藏月份 DOM 节点、星期栏以及日期信息</span>&#x000A;</div><div class='line' id='LC718'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC719'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC720'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC721'>&#x000A;</div><div class='line' id='LC722'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC723'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">updateView</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC724'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">updateView</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC725'>      <span class="kd">var</span> <span class="nx">STYLES</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">STYLES</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC726'>      <span class="kd">var</span> <span class="nx">CLS_HIDDEN</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">HIDDEN</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC727'>      <span class="kd">var</span> <span class="nx">DOM</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">DOM</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC728'>      <span class="kd">var</span> <span class="nx">addClass</span> <span class="o">=</span> <span class="nx">DOM</span><span class="p">.</span><span class="nx">addClass</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC729'>      <span class="kd">var</span> <span class="nx">removeClass</span> <span class="o">=</span> <span class="nx">DOM</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC730'>      <span class="kd">var</span> <span class="nx">elements</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getEls</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC731'>      <span class="kd">var</span> <span class="nx">$week</span> <span class="o">=</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">week</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC732'>      <span class="kd">var</span> <span class="nx">$dates</span> <span class="o">=</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">dates</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC733'>      <span class="kd">var</span> <span class="nx">$months</span> <span class="o">=</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">months</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC734'>      <span class="kd">var</span> <span class="nx">$years</span> <span class="o">=</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">years</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC735'>&#x000A;</div><div class='line' id='LC736'>      <span class="k">this</span><span class="p">.</span><span class="nx">_renderTitle</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC737'>&#x000A;</div><div class='line' id='LC738'>      <span class="k">switch</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">viewMode</span><span class="dl">'</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC739'>        <span class="c1">// 日期显示模式</span>&#x000A;</div><div class='line' id='LC740'>        <span class="k">case</span> <span class="mi">0</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC741'>          <span class="nx">addClass</span><span class="p">(</span><span class="nx">$months</span><span class="p">,</span> <span class="nx">CLS_HIDDEN</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC742'>          <span class="nx">addClass</span><span class="p">(</span><span class="nx">$years</span><span class="p">,</span> <span class="nx">CLS_HIDDEN</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC743'>          <span class="nx">removeClass</span><span class="p">(</span><span class="nx">$week</span><span class="p">,</span> <span class="nx">CLS_HIDDEN</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC744'>          <span class="nx">removeClass</span><span class="p">(</span><span class="nx">$dates</span><span class="p">,</span> <span class="nx">CLS_HIDDEN</span><span class="p">);</span> <span class="c1">// 重新绘制日期</span>&#x000A;</div><div class='line' id='LC745'>&#x000A;</div><div class='line' id='LC746'>          <span class="k">this</span><span class="p">.</span><span class="nx">_repaintDates</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC747'>&#x000A;</div><div class='line' id='LC748'>          <span class="k">break</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC749'>        <span class="c1">// 月份显示模式</span>&#x000A;</div><div class='line' id='LC750'>&#x000A;</div><div class='line' id='LC751'>        <span class="k">case</span> <span class="mi">1</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC752'>          <span class="nx">addClass</span><span class="p">(</span><span class="nx">$week</span><span class="p">,</span> <span class="nx">CLS_HIDDEN</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC753'>          <span class="nx">addClass</span><span class="p">(</span><span class="nx">$dates</span><span class="p">,</span> <span class="nx">CLS_HIDDEN</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC754'>          <span class="nx">addClass</span><span class="p">(</span><span class="nx">$years</span><span class="p">,</span> <span class="nx">CLS_HIDDEN</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC755'>          <span class="nx">removeClass</span><span class="p">(</span><span class="nx">$months</span><span class="p">,</span> <span class="nx">CLS_HIDDEN</span><span class="p">);</span> <span class="c1">// 重新绘制月份</span>&#x000A;</div><div class='line' id='LC756'>&#x000A;</div><div class='line' id='LC757'>          <span class="k">this</span><span class="p">.</span><span class="nx">_repaintMonths</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC758'>&#x000A;</div><div class='line' id='LC759'>          <span class="k">break</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC760'>        <span class="c1">// 年份显示模式</span>&#x000A;</div><div class='line' id='LC761'>&#x000A;</div><div class='line' id='LC762'>        <span class="k">case</span> <span class="mi">2</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC763'>          <span class="nx">addClass</span><span class="p">(</span><span class="nx">$week</span><span class="p">,</span> <span class="nx">CLS_HIDDEN</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC764'>          <span class="nx">addClass</span><span class="p">(</span><span class="nx">$dates</span><span class="p">,</span> <span class="nx">CLS_HIDDEN</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC765'>          <span class="nx">addClass</span><span class="p">(</span><span class="nx">$months</span><span class="p">,</span> <span class="nx">CLS_HIDDEN</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC766'>          <span class="nx">removeClass</span><span class="p">(</span><span class="nx">$years</span><span class="p">,</span> <span class="nx">CLS_HIDDEN</span><span class="p">);</span> <span class="c1">// 重新绘制年份</span>&#x000A;</div><div class='line' id='LC767'>&#x000A;</div><div class='line' id='LC768'>          <span class="k">this</span><span class="p">.</span><span class="nx">_repaintYears</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC769'>&#x000A;</div><div class='line' id='LC770'>          <span class="k">break</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC771'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC772'>&#x000A;</div><div class='line' id='LC773'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC774'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC775'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC776'><span class="cm">     * 向上翻页</span>&#x000A;</div><div class='line' id='LC777'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC778'><span class="cm">     * 1. 日期显示模式：向上翻页，显示上一个月份的日期信息</span>&#x000A;</div><div class='line' id='LC779'><span class="cm">     * 2. 月份显示模式：向上翻页，显示上一年的月份信息</span>&#x000A;</div><div class='line' id='LC780'><span class="cm">     * 3. 年份显示模式：向上翻页，显示上一个年代（10前）的年份信息</span>&#x000A;</div><div class='line' id='LC781'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC782'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC783'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC784'>&#x000A;</div><div class='line' id='LC785'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC786'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">prev</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC787'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">prev</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC788'>      <span class="kd">var</span> <span class="nx">years</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getYears</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC789'>      <span class="kd">var</span> <span class="nx">startYear</span> <span class="o">=</span> <span class="nx">years</span><span class="p">.</span><span class="nx">start</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC790'>      <span class="kd">var</span> <span class="nx">year</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getYear</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC791'>      <span class="kd">var</span> <span class="nx">month</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getMonth</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC792'>      <span class="kd">var</span> <span class="nx">minYear</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">minYear</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC793'>      <span class="kd">var</span> <span class="nx">time</span><span class="p">;</span> <span class="c1">// 针对显示模式，处理相应的翻页逻辑</span>&#x000A;</div><div class='line' id='LC794'>&#x000A;</div><div class='line' id='LC795'>      <span class="k">switch</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">viewMode</span><span class="dl">'</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC796'>        <span class="c1">// 日期显示模式</span>&#x000A;</div><div class='line' id='LC797'>        <span class="k">case</span> <span class="mi">0</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC798'>          <span class="c1">// 切换月份</span>&#x000A;</div><div class='line' id='LC799'>          <span class="nx">month</span> <span class="o">-=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// 到了上一年，切换年份</span>&#x000A;</div><div class='line' id='LC800'>&#x000A;</div><div class='line' id='LC801'>          <span class="k">if</span> <span class="p">(</span><span class="nx">month</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC802'>            <span class="nx">month</span> <span class="o">=</span> <span class="mi">12</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC803'>            <span class="nx">year</span> <span class="o">-=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// 确保不小于最小可以显示的年份</span>&#x000A;</div><div class='line' id='LC804'>&#x000A;</div><div class='line' id='LC805'>            <span class="k">if</span> <span class="p">(</span><span class="nx">year</span> <span class="o">&lt;</span> <span class="nx">minYear</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC806'>              <span class="nx">year</span> <span class="o">=</span> <span class="nx">minYear</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC807'>            <span class="p">}</span>&#x000A;</div><div class='line' id='LC808'>          <span class="p">}</span>&#x000A;</div><div class='line' id='LC809'>&#x000A;</div><div class='line' id='LC810'>          <span class="nx">time</span> <span class="o">=</span> <span class="nx">year</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">-</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">month</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">-1</span><span class="dl">'</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC811'>          <span class="k">this</span><span class="p">.</span><span class="nx">setYear</span><span class="p">(</span><span class="nx">time</span><span class="p">).</span><span class="nx">setMonth</span><span class="p">(</span><span class="nx">time</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC812'>          <span class="k">break</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC813'>&#x000A;</div><div class='line' id='LC814'>        <span class="k">case</span> <span class="mi">1</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC815'>          <span class="c1">// 切换年份</span>&#x000A;</div><div class='line' id='LC816'>          <span class="nx">year</span> <span class="o">-=</span> <span class="mi">1</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC817'>&#x000A;</div><div class='line' id='LC818'>          <span class="k">if</span> <span class="p">(</span><span class="nx">year</span> <span class="o">&lt;</span> <span class="nx">minYear</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC819'>            <span class="nx">year</span> <span class="o">=</span> <span class="nx">minYear</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC820'>          <span class="p">}</span>&#x000A;</div><div class='line' id='LC821'>&#x000A;</div><div class='line' id='LC822'>          <span class="k">this</span><span class="p">.</span><span class="nx">setYear</span><span class="p">(</span><span class="nx">year</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">-1-1</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC823'>          <span class="k">break</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC824'>&#x000A;</div><div class='line' id='LC825'>        <span class="k">case</span> <span class="mi">2</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC826'>          <span class="c1">// 切换年代</span>&#x000A;</div><div class='line' id='LC827'>          <span class="nx">startYear</span> <span class="o">-=</span> <span class="mi">10</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC828'>&#x000A;</div><div class='line' id='LC829'>          <span class="k">if</span> <span class="p">(</span><span class="nx">startYear</span> <span class="o">&lt;</span> <span class="nx">minYear</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC830'>            <span class="nx">startYear</span> <span class="o">=</span> <span class="nx">minYear</span> <span class="o">+</span> <span class="mi">9</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC831'>          <span class="p">}</span>&#x000A;</div><div class='line' id='LC832'>&#x000A;</div><div class='line' id='LC833'>          <span class="k">this</span><span class="p">.</span><span class="nx">_setYears</span><span class="p">(</span><span class="nx">startYear</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>&#x000A;</div><div class='line' id='LC834'>&#x000A;</div><div class='line' id='LC835'>          <span class="k">break</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC836'>      <span class="p">}</span> <span class="c1">// 更新显示内容</span>&#x000A;</div><div class='line' id='LC837'>&#x000A;</div><div class='line' id='LC838'>&#x000A;</div><div class='line' id='LC839'>      <span class="k">this</span><span class="p">.</span><span class="nx">updateView</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC840'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC841'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC842'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC843'><span class="cm">     * 向下翻页</span>&#x000A;</div><div class='line' id='LC844'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC845'><span class="cm">     * 1. 日期显示模式：向下翻页，显示下一个月份的日期信息</span>&#x000A;</div><div class='line' id='LC846'><span class="cm">     * 2. 月份显示模式：向下翻页，显示下一年的月份信息</span>&#x000A;</div><div class='line' id='LC847'><span class="cm">     * 3. 年份显示模式：向下翻页，显示下一个年代（10后）的年份信息</span>&#x000A;</div><div class='line' id='LC848'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC849'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC850'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC851'>&#x000A;</div><div class='line' id='LC852'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC853'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">next</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC854'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">next</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC855'>      <span class="kd">var</span> <span class="nx">years</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getYears</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC856'>      <span class="kd">var</span> <span class="nx">startYear</span> <span class="o">=</span> <span class="nx">years</span><span class="p">.</span><span class="nx">start</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC857'>      <span class="kd">var</span> <span class="nx">year</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getYear</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC858'>      <span class="kd">var</span> <span class="nx">month</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getMonth</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC859'>      <span class="kd">var</span> <span class="nx">maxYear</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">maxYear</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC860'>      <span class="kd">var</span> <span class="nx">time</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC861'>&#x000A;</div><div class='line' id='LC862'>      <span class="k">switch</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">viewMode</span><span class="dl">'</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC863'>        <span class="k">case</span> <span class="mi">0</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC864'>          <span class="nx">month</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC865'>&#x000A;</div><div class='line' id='LC866'>          <span class="k">if</span> <span class="p">(</span><span class="nx">month</span> <span class="o">&gt;</span> <span class="mi">12</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC867'>            <span class="nx">month</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC868'>            <span class="nx">year</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC869'>&#x000A;</div><div class='line' id='LC870'>            <span class="k">if</span> <span class="p">(</span><span class="nx">year</span> <span class="o">&gt;</span> <span class="nx">maxYear</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC871'>              <span class="nx">year</span> <span class="o">=</span> <span class="nx">maxYear</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC872'>            <span class="p">}</span>&#x000A;</div><div class='line' id='LC873'>          <span class="p">}</span>&#x000A;</div><div class='line' id='LC874'>&#x000A;</div><div class='line' id='LC875'>          <span class="nx">time</span> <span class="o">=</span> <span class="nx">year</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">-</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">month</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">-1</span><span class="dl">'</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC876'>          <span class="k">this</span><span class="p">.</span><span class="nx">setYear</span><span class="p">(</span><span class="nx">time</span><span class="p">).</span><span class="nx">setMonth</span><span class="p">(</span><span class="nx">time</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC877'>          <span class="k">break</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC878'>&#x000A;</div><div class='line' id='LC879'>        <span class="k">case</span> <span class="mi">1</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC880'>          <span class="nx">year</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC881'>&#x000A;</div><div class='line' id='LC882'>          <span class="k">if</span> <span class="p">(</span><span class="nx">year</span> <span class="o">&gt;</span> <span class="nx">maxYear</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC883'>            <span class="nx">year</span> <span class="o">=</span> <span class="nx">maxYear</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC884'>          <span class="p">}</span>&#x000A;</div><div class='line' id='LC885'>&#x000A;</div><div class='line' id='LC886'>          <span class="k">this</span><span class="p">.</span><span class="nx">setYear</span><span class="p">(</span><span class="nx">year</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">-1-1</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC887'>          <span class="k">break</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC888'>&#x000A;</div><div class='line' id='LC889'>        <span class="k">case</span> <span class="mi">2</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC890'>          <span class="nx">startYear</span> <span class="o">+=</span> <span class="mi">10</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC891'>&#x000A;</div><div class='line' id='LC892'>          <span class="k">if</span> <span class="p">(</span><span class="nx">startYear</span> <span class="o">&gt;</span> <span class="nx">maxYear</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC893'>            <span class="nx">startYear</span> <span class="o">=</span> <span class="nx">maxYear</span> <span class="o">-</span> <span class="mi">9</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC894'>          <span class="p">}</span>&#x000A;</div><div class='line' id='LC895'>&#x000A;</div><div class='line' id='LC896'>          <span class="k">this</span><span class="p">.</span><span class="nx">_setYears</span><span class="p">(</span><span class="nx">startYear</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>&#x000A;</div><div class='line' id='LC897'>&#x000A;</div><div class='line' id='LC898'>          <span class="k">break</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC899'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC900'>&#x000A;</div><div class='line' id='LC901'>      <span class="k">this</span><span class="p">.</span><span class="nx">updateView</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC902'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC903'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC904'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC905'><span class="cm">     * 选择日期</span>&#x000A;</div><div class='line' id='LC906'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC907'><span class="cm">     * 1. 选择了选中状态的日期：</span>&#x000A;</div><div class='line' id='LC908'><span class="cm">     *    1.1 星期区间和单选模式：不做任何处理</span>&#x000A;</div><div class='line' id='LC909'><span class="cm">     *    1.2 多选模式：取消选中 DOM 节点的选中状态，并且将选中的日期在选中信息移除</span>&#x000A;</div><div class='line' id='LC910'><span class="cm">     *    1.3 日期区间选择模式下：取消之前选中区间的选中样式，将当前选中的日期 DOM 节点</span>&#x000A;</div><div class='line' id='LC911'><span class="cm">     *        设置为选中状态。移除之前选中日期信息，并将选中日期信息保存起来</span>&#x000A;</div><div class='line' id='LC912'><span class="cm">     * 2. 选择了未选中状态的日期：</span>&#x000A;</div><div class='line' id='LC913'><span class="cm">     *    2.1 单选模式：获取选中日期信息，并用这个信息替换之前选中的信息。移除之前选中样</span>&#x000A;</div><div class='line' id='LC914'><span class="cm">     *        式，并设置当前选中日期的选中样式</span>&#x000A;</div><div class='line' id='LC915'><span class="cm">     *    2.2 多选模式：获取选中的日期信息，然后保存到选中信息中，最后设置选中日期的样式</span>&#x000A;</div><div class='line' id='LC916'><span class="cm">     *    2.3 日期区间选择模式下：</span>&#x000A;</div><div class='line' id='LC917'><span class="cm">     *    2.4 星期区间选择模式：获取当前选择日期的星期区间信息，移除之前保存的区间信息将</span>&#x000A;</div><div class='line' id='LC918'><span class="cm">     *        新的区间信息保存起来，移除之前的区间选中样式，并设置当前选中区间的选中样式</span>&#x000A;</div><div class='line' id='LC919'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC920'><span class="cm">     * @param {HTMLElement} $date - 选中的日期 DOM 节点</span>&#x000A;</div><div class='line' id='LC921'><span class="cm">     * @returns {*}</span>&#x000A;</div><div class='line' id='LC922'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC923'>&#x000A;</div><div class='line' id='LC924'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC925'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">pickDate</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC926'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">pickDate</span><span class="p">(</span><span class="nx">$date</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC927'>      <span class="kd">var</span> <span class="nx">STYLES</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">STYLES</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC928'>      <span class="kd">var</span> <span class="nx">CLS_PICKED</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">PICKED</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC929'>      <span class="kd">var</span> <span class="nx">DOM</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">DOM</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC930'>      <span class="kd">var</span> <span class="nx">hasClass</span> <span class="o">=</span> <span class="nx">DOM</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC931'>      <span class="kd">var</span> <span class="nx">addClass</span> <span class="o">=</span> <span class="nx">DOM</span><span class="p">.</span><span class="nx">addClass</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC932'>      <span class="kd">var</span> <span class="nx">removeClass</span> <span class="o">=</span> <span class="nx">DOM</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC933'>      <span class="kd">var</span> <span class="nx">isFunction</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC934'>      <span class="kd">var</span> <span class="nx">pickMode</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">pickMode</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC935'>      <span class="kd">var</span> <span class="nx">elements</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getEls</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC936'>      <span class="kd">var</span> <span class="nx">time</span> <span class="o">=</span> <span class="nx">$date</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">data-date</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC937'>      <span class="kd">var</span> <span class="nx">callback</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">onDatePick</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC938'>      <span class="kd">var</span> <span class="nx">$picked</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC939'>      <span class="kd">var</span> <span class="nx">pickedDates</span><span class="p">;</span> <span class="c1">// 选择了选中状态的日期</span>&#x000A;</div><div class='line' id='LC940'>&#x000A;</div><div class='line' id='LC941'>      <span class="k">if</span> <span class="p">(</span><span class="nx">hasClass</span><span class="p">(</span><span class="nx">$date</span><span class="p">,</span> <span class="nx">CLS_PICKED</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC942'>        <span class="k">switch</span> <span class="p">(</span><span class="nx">pickMode</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC943'>          <span class="c1">// 单选/星期选择模式</span>&#x000A;</div><div class='line' id='LC944'>          <span class="k">case</span> <span class="dl">'</span><span class="s1">single</span><span class="dl">'</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC945'>          <span class="k">case</span> <span class="dl">'</span><span class="s1">week</span><span class="dl">'</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC946'>            <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC947'>          <span class="c1">// 多选模式</span>&#x000A;</div><div class='line' id='LC948'>&#x000A;</div><div class='line' id='LC949'>          <span class="k">case</span> <span class="dl">'</span><span class="s1">multiple</span><span class="dl">'</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC950'>            <span class="c1">// 取消选中样式</span>&#x000A;</div><div class='line' id='LC951'>            <span class="nx">removeClass</span><span class="p">(</span><span class="nx">$date</span><span class="p">,</span> <span class="nx">CLS_PICKED</span><span class="p">);</span> <span class="c1">// 移除选中的日期信息</span>&#x000A;</div><div class='line' id='LC952'>&#x000A;</div><div class='line' id='LC953'>            <span class="k">this</span><span class="p">.</span><span class="nx">_removePicked</span><span class="p">(</span><span class="nx">time</span><span class="p">);</span> <span class="c1">// 设置最后一个选中的时间为当前选中日期</span>&#x000A;</div><div class='line' id='LC954'>&#x000A;</div><div class='line' id='LC955'>&#x000A;</div><div class='line' id='LC956'>            <span class="nx">pickedDates</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getPicked</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC957'>            <span class="k">this</span><span class="p">.</span><span class="nx">setDate</span><span class="p">(</span><span class="nx">pickedDates</span><span class="p">[</span><span class="nx">pickedDates</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]);</span>&#x000A;</div><div class='line' id='LC958'>&#x000A;</div><div class='line' id='LC959'>            <span class="k">if</span> <span class="p">(</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">callback</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC960'>              <span class="nx">callback</span><span class="p">(</span><span class="nx">pickedDates</span><span class="p">,</span> <span class="nx">$date</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC961'>            <span class="p">}</span>&#x000A;</div><div class='line' id='LC962'>&#x000A;</div><div class='line' id='LC963'>            <span class="k">break</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC964'>&#x000A;</div><div class='line' id='LC965'>          <span class="k">case</span> <span class="dl">'</span><span class="s1">range</span><span class="dl">'</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC966'>            <span class="c1">// 清除之前选中的数据</span>&#x000A;</div><div class='line' id='LC967'>            <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">picked</span> <span class="o">=</span> <span class="p">[];</span> <span class="c1">// 将当前选中的日期数据保存起来</span>&#x000A;</div><div class='line' id='LC968'>&#x000A;</div><div class='line' id='LC969'>            <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">picked</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">time</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC970'>            <span class="k">this</span><span class="p">.</span><span class="nx">setDate</span><span class="p">(</span><span class="nx">time</span><span class="p">);</span> <span class="c1">// 绘制选中样式</span>&#x000A;</div><div class='line' id='LC971'>&#x000A;</div><div class='line' id='LC972'>            <span class="nx">elements</span><span class="p">.</span><span class="nx">date</span> <span class="o">=</span> <span class="nx">$date</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC973'>&#x000A;</div><div class='line' id='LC974'>            <span class="k">this</span><span class="p">.</span><span class="nx">_updateDateRanges</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC975'>&#x000A;</div><div class='line' id='LC976'>            <span class="k">if</span> <span class="p">(</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">callback</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC977'>              <span class="nx">callback</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">getPicked</span><span class="p">(),</span> <span class="nx">$date</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC978'>            <span class="p">}</span>&#x000A;</div><div class='line' id='LC979'>&#x000A;</div><div class='line' id='LC980'>            <span class="k">break</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC981'>        <span class="p">}</span>&#x000A;</div><div class='line' id='LC982'>      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC983'>        <span class="k">this</span><span class="p">.</span><span class="nx">setYear</span><span class="p">(</span><span class="nx">time</span><span class="p">).</span><span class="nx">setMonth</span><span class="p">(</span><span class="nx">time</span><span class="p">);</span> <span class="c1">// 选择了未选中状态的日期</span>&#x000A;</div><div class='line' id='LC984'>&#x000A;</div><div class='line' id='LC985'>        <span class="k">switch</span> <span class="p">(</span><span class="nx">pickMode</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC986'>          <span class="k">case</span> <span class="dl">'</span><span class="s1">single</span><span class="dl">'</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC987'>            <span class="nx">$picked</span> <span class="o">=</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">date</span><span class="p">;</span> <span class="c1">// 移除之前选中日期的选中样式</span>&#x000A;</div><div class='line' id='LC988'>&#x000A;</div><div class='line' id='LC989'>            <span class="k">if</span> <span class="p">(</span><span class="nx">$picked</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC990'>              <span class="nx">removeClass</span><span class="p">(</span><span class="nx">$picked</span><span class="p">,</span> <span class="nx">CLS_PICKED</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC991'>            <span class="p">}</span> <span class="c1">// 设置当前选中日期的选中样式</span>&#x000A;</div><div class='line' id='LC992'>&#x000A;</div><div class='line' id='LC993'>&#x000A;</div><div class='line' id='LC994'>            <span class="nx">addClass</span><span class="p">(</span><span class="nx">$date</span><span class="p">,</span> <span class="nx">CLS_PICKED</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC995'>            <span class="nx">elements</span><span class="p">.</span><span class="nx">date</span> <span class="o">=</span> <span class="nx">$date</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC996'>            <span class="k">this</span><span class="p">.</span><span class="nx">setDate</span><span class="p">(</span><span class="nx">time</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC997'>&#x000A;</div><div class='line' id='LC998'>            <span class="k">if</span> <span class="p">(</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">callback</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC999'>              <span class="nx">callback</span><span class="p">(</span><span class="nx">time</span><span class="p">,</span> <span class="nx">$date</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1000'>            <span class="p">}</span>&#x000A;</div><div class='line' id='LC1001'>&#x000A;</div><div class='line' id='LC1002'>            <span class="k">break</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1003'>&#x000A;</div><div class='line' id='LC1004'>          <span class="k">case</span> <span class="dl">'</span><span class="s1">multiple</span><span class="dl">'</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC1005'>            <span class="c1">// 保存选中的日期，并对选中时间排序</span>&#x000A;</div><div class='line' id='LC1006'>            <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">picked</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">time</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1007'>            <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">picked</span><span class="p">.</span><span class="nx">sort</span><span class="p">();</span> <span class="c1">// 设置最晚的那个日期为当前选中日期</span>&#x000A;</div><div class='line' id='LC1008'>&#x000A;</div><div class='line' id='LC1009'>            <span class="nx">pickedDates</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getPicked</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1010'>            <span class="k">this</span><span class="p">.</span><span class="nx">setDate</span><span class="p">(</span><span class="nx">pickedDates</span><span class="p">[</span><span class="nx">pickedDates</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]);</span>&#x000A;</div><div class='line' id='LC1011'>            <span class="nx">addClass</span><span class="p">(</span><span class="nx">$date</span><span class="p">,</span> <span class="nx">CLS_PICKED</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1012'>&#x000A;</div><div class='line' id='LC1013'>            <span class="k">if</span> <span class="p">(</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">callback</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1014'>              <span class="nx">callback</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">getPicked</span><span class="p">(),</span> <span class="nx">$date</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1015'>            <span class="p">}</span>&#x000A;</div><div class='line' id='LC1016'>&#x000A;</div><div class='line' id='LC1017'>            <span class="k">break</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1018'>&#x000A;</div><div class='line' id='LC1019'>          <span class="k">case</span> <span class="dl">'</span><span class="s1">range</span><span class="dl">'</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC1020'>            <span class="c1">// 根据已经选中的日期长度，处理数据的保存</span>&#x000A;</div><div class='line' id='LC1021'>            <span class="k">switch</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">picked</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1022'>              <span class="k">case</span> <span class="mi">0</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC1023'>              <span class="k">case</span> <span class="mi">1</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC1024'>                <span class="c1">// 保存选中的日期</span>&#x000A;</div><div class='line' id='LC1025'>                <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">picked</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">time</span><span class="p">);</span> <span class="c1">// 如果选择两个不同的日期，则完成了范围选择，需要对日期排序</span>&#x000A;</div><div class='line' id='LC1026'>&#x000A;</div><div class='line' id='LC1027'>                <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">picked</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1028'>                  <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">picked</span><span class="p">.</span><span class="nx">sort</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1029'>                <span class="p">}</span> <span class="c1">// 设置选中日期范围的最后一天为当前选中日期</span>&#x000A;</div><div class='line' id='LC1030'>&#x000A;</div><div class='line' id='LC1031'>&#x000A;</div><div class='line' id='LC1032'>                <span class="nx">pickedDates</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getPicked</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1033'>                <span class="k">this</span><span class="p">.</span><span class="nx">setDate</span><span class="p">(</span><span class="nx">pickedDates</span><span class="p">[</span><span class="nx">pickedDates</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]);</span>&#x000A;</div><div class='line' id='LC1034'>                <span class="nx">elements</span><span class="p">.</span><span class="nx">date</span> <span class="o">=</span> <span class="nx">$date</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1035'>&#x000A;</div><div class='line' id='LC1036'>                <span class="k">this</span><span class="p">.</span><span class="nx">_updateDateRanges</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1037'>&#x000A;</div><div class='line' id='LC1038'>                <span class="k">if</span> <span class="p">(</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">callback</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1039'>                  <span class="nx">callback</span><span class="p">(</span><span class="nx">pickedDates</span><span class="p">,</span> <span class="nx">$date</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1040'>                <span class="p">}</span>&#x000A;</div><div class='line' id='LC1041'>&#x000A;</div><div class='line' id='LC1042'>                <span class="k">break</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1043'>&#x000A;</div><div class='line' id='LC1044'>              <span class="k">case</span> <span class="mi">2</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC1045'>                <span class="c1">// 之前已经选中了一个日期范围，现在需要清除之前的数据</span>&#x000A;</div><div class='line' id='LC1046'>                <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">picked</span> <span class="o">=</span> <span class="p">[];</span> <span class="c1">// 保存第一个日期点</span>&#x000A;</div><div class='line' id='LC1047'>&#x000A;</div><div class='line' id='LC1048'>                <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">picked</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">time</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1049'>                <span class="nx">elements</span><span class="p">.</span><span class="nx">date</span> <span class="o">=</span> <span class="nx">$date</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1050'>&#x000A;</div><div class='line' id='LC1051'>                <span class="k">this</span><span class="p">.</span><span class="nx">_updateDateRanges</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1052'>&#x000A;</div><div class='line' id='LC1053'>                <span class="k">break</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1054'>            <span class="p">}</span>&#x000A;</div><div class='line' id='LC1055'>&#x000A;</div><div class='line' id='LC1056'>            <span class="k">break</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1057'>&#x000A;</div><div class='line' id='LC1058'>          <span class="k">case</span> <span class="dl">'</span><span class="s1">week</span><span class="dl">'</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC1059'>            <span class="c1">// 获得当前选中日期的星期范围</span>&#x000A;</div><div class='line' id='LC1060'>            <span class="kd">var</span> <span class="nx">ranges</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">getWeekRanges</span><span class="p">(</span><span class="nx">time</span><span class="p">);</span> <span class="c1">// 清除之前的数据，保存现在的星期日期范围</span>&#x000A;</div><div class='line' id='LC1061'>&#x000A;</div><div class='line' id='LC1062'>            <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">picked</span> <span class="o">=</span> <span class="p">[</span><span class="nx">ranges</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nx">ranges</span><span class="p">[</span><span class="nx">ranges</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]];</span>&#x000A;</div><div class='line' id='LC1063'>            <span class="k">this</span><span class="p">.</span><span class="nx">setDate</span><span class="p">(</span><span class="nx">ranges</span><span class="p">[</span><span class="nx">ranges</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]);</span>&#x000A;</div><div class='line' id='LC1064'>            <span class="nx">elements</span><span class="p">.</span><span class="nx">date</span> <span class="o">=</span> <span class="nx">$date</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1065'>&#x000A;</div><div class='line' id='LC1066'>            <span class="k">this</span><span class="p">.</span><span class="nx">_updateWeekRanges</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1067'>&#x000A;</div><div class='line' id='LC1068'>            <span class="k">if</span> <span class="p">(</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">callback</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1069'>              <span class="nx">callback</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">getPicked</span><span class="p">(),</span> <span class="nx">$date</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1070'>            <span class="p">}</span>&#x000A;</div><div class='line' id='LC1071'>&#x000A;</div><div class='line' id='LC1072'>            <span class="k">break</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1073'>        <span class="p">}</span>&#x000A;</div><div class='line' id='LC1074'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC1075'>&#x000A;</div><div class='line' id='LC1076'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1077'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC1078'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC1079'><span class="cm">     * 选择月份</span>&#x000A;</div><div class='line' id='LC1080'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC1081'><span class="cm">     * 1. 选择了已选中状态的月份：直接切换试图模式到日期试图模式</span>&#x000A;</div><div class='line' id='LC1082'><span class="cm">     * 2. 选择了未选中状态的月份：移除之前选中的月份的选中样式，并当前选中的月份的选中</span>&#x000A;</div><div class='line' id='LC1083'><span class="cm">     *    样式。然后更新选中年份和月份的数据，并切换到日期试图模式</span>&#x000A;</div><div class='line' id='LC1084'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC1085'><span class="cm">     * @param {HTMLElement} $month - 选中的月份 DOM 节点</span>&#x000A;</div><div class='line' id='LC1086'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC1087'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC1088'>&#x000A;</div><div class='line' id='LC1089'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1090'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">pickMonth</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1091'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">pickMonth</span><span class="p">(</span><span class="nx">$month</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1092'>      <span class="kd">var</span> <span class="nx">CLS_PICKED</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">STYLES</span><span class="dl">'</span><span class="p">).</span><span class="nx">PICKED</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1093'>      <span class="kd">var</span> <span class="nx">DOM</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">DOM</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1094'>      <span class="kd">var</span> <span class="nx">elements</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getEls</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1095'>      <span class="kd">var</span> <span class="nx">$picked</span> <span class="o">=</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">month</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1096'>      <span class="kd">var</span> <span class="nx">time</span> <span class="o">=</span> <span class="nx">$month</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">data-month</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1097'>      <span class="kd">var</span> <span class="nx">callback</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">onMonthPick</span><span class="dl">'</span><span class="p">);</span> <span class="c1">// 点击已经选中的年份</span>&#x000A;</div><div class='line' id='LC1098'>&#x000A;</div><div class='line' id='LC1099'>      <span class="k">if</span> <span class="p">(</span><span class="nx">DOM</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="nx">$month</span><span class="p">,</span> <span class="nx">CLS_PICKED</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1100'>        <span class="c1">// 切换到月份试图模式</span>&#x000A;</div><div class='line' id='LC1101'>        <span class="k">this</span><span class="p">.</span><span class="nx">update</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1102'>      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1103'>        <span class="c1">// 移除之前选中的年份选中样式</span>&#x000A;</div><div class='line' id='LC1104'>        <span class="k">if</span> <span class="p">(</span><span class="nx">$picked</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1105'>          <span class="nx">DOM</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">$picked</span><span class="p">,</span> <span class="nx">CLS_PICKED</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1106'>        <span class="p">}</span> <span class="c1">// 设置选中样式</span>&#x000A;</div><div class='line' id='LC1107'>&#x000A;</div><div class='line' id='LC1108'>&#x000A;</div><div class='line' id='LC1109'>        <span class="nx">DOM</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">$month</span><span class="p">,</span> <span class="nx">CLS_PICKED</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1110'>        <span class="nx">elements</span><span class="p">.</span><span class="nx">month</span> <span class="o">=</span> <span class="nx">$month</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1111'>&#x000A;</div><div class='line' id='LC1112'>        <span class="k">this</span><span class="p">.</span><span class="nx">setYear</span><span class="p">(</span><span class="nx">time</span><span class="p">).</span><span class="nx">setMonth</span><span class="p">(</span><span class="nx">time</span><span class="p">).</span><span class="nx">_setYears</span><span class="p">(</span><span class="nx">time</span><span class="p">).</span><span class="nx">update</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1113'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC1114'>&#x000A;</div><div class='line' id='LC1115'>      <span class="k">if</span> <span class="p">(</span><span class="nx">Calendar</span><span class="p">.</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">callback</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1116'>        <span class="nx">callback</span><span class="p">(</span><span class="nx">time</span><span class="p">,</span> <span class="nx">$month</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1117'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC1118'>&#x000A;</div><div class='line' id='LC1119'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1120'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC1121'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC1122'><span class="cm">     * 选择年份</span>&#x000A;</div><div class='line' id='LC1123'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC1124'><span class="cm">     * 1. 选择了已选中状态的年份：更新选中的年份信息，并切换到月份试图模式</span>&#x000A;</div><div class='line' id='LC1125'><span class="cm">     * 2. 选择了未选中状态的年份：移除之前选中的年份的选中样式，将当前选中的年份设为选中</span>&#x000A;</div><div class='line' id='LC1126'><span class="cm">     *    样式，并切换到月份试图模式</span>&#x000A;</div><div class='line' id='LC1127'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC1128'><span class="cm">     * @param {HTMLElement} $year - 选中的年份 DOM 节点</span>&#x000A;</div><div class='line' id='LC1129'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC1130'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC1131'>&#x000A;</div><div class='line' id='LC1132'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1133'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">pickYear</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1134'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">pickYear</span><span class="p">(</span><span class="nx">$year</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1135'>      <span class="kd">var</span> <span class="nx">CLS_PICKED</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">STYLES</span><span class="dl">'</span><span class="p">).</span><span class="nx">PICKED</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1136'>      <span class="kd">var</span> <span class="nx">DOM</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">DOM</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1137'>      <span class="kd">var</span> <span class="nx">elements</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getEls</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1138'>      <span class="kd">var</span> <span class="nx">$picked</span> <span class="o">=</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">year</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1139'>      <span class="kd">var</span> <span class="nx">time</span> <span class="o">=</span> <span class="nx">$year</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">data-year</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1140'>      <span class="kd">var</span> <span class="nx">callback</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">onYearPick</span><span class="dl">'</span><span class="p">);</span> <span class="c1">// 点击已经选中的月份</span>&#x000A;</div><div class='line' id='LC1141'>&#x000A;</div><div class='line' id='LC1142'>      <span class="k">if</span> <span class="p">(</span><span class="nx">DOM</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="nx">$year</span><span class="p">,</span> <span class="nx">CLS_PICKED</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1143'>        <span class="c1">// 切换到日期试图模式</span>&#x000A;</div><div class='line' id='LC1144'>        <span class="k">this</span><span class="p">.</span><span class="nx">setYear</span><span class="p">(</span><span class="nx">time</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1145'>      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1146'>        <span class="c1">// 移除之前选中的年份选中样式</span>&#x000A;</div><div class='line' id='LC1147'>        <span class="k">if</span> <span class="p">(</span><span class="nx">$picked</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1148'>          <span class="nx">DOM</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">$picked</span><span class="p">,</span> <span class="nx">CLS_PICKED</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1149'>        <span class="p">}</span> <span class="c1">// 设置选中样式</span>&#x000A;</div><div class='line' id='LC1150'>&#x000A;</div><div class='line' id='LC1151'>&#x000A;</div><div class='line' id='LC1152'>        <span class="nx">DOM</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">$year</span><span class="p">,</span> <span class="nx">CLS_PICKED</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1153'>        <span class="nx">elements</span><span class="p">.</span><span class="nx">year</span> <span class="o">=</span> <span class="nx">$year</span><span class="p">;</span> <span class="c1">// 更新年份并切换到月份试图</span>&#x000A;</div><div class='line' id='LC1154'>&#x000A;</div><div class='line' id='LC1155'>        <span class="k">this</span><span class="p">.</span><span class="nx">setYear</span><span class="p">(</span><span class="nx">time</span><span class="p">).</span><span class="nx">_setYears</span><span class="p">(</span><span class="nx">time</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1156'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC1157'>&#x000A;</div><div class='line' id='LC1158'>      <span class="k">if</span> <span class="p">(</span><span class="nx">Calendar</span><span class="p">.</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">callback</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1159'>        <span class="nx">callback</span><span class="p">(</span><span class="nx">time</span><span class="p">,</span> <span class="nx">$year</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1160'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC1161'>&#x000A;</div><div class='line' id='LC1162'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1163'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC1164'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC1165'><span class="cm">     * 选择今天</span>&#x000A;</div><div class='line' id='LC1166'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC1167'><span class="cm">     * 将今天的年份、月份以及日期信息设置为当前选中日期，并切换到日期试图模式</span>&#x000A;</div><div class='line' id='LC1168'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC1169'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC1170'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC1171'>&#x000A;</div><div class='line' id='LC1172'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1173'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">pickToday</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1174'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">pickToday</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1175'>      <span class="kd">var</span> <span class="nx">time</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">getToday</span><span class="p">().</span><span class="nx">value</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1176'>      <span class="kd">var</span> <span class="nx">callback</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">onTodayPick</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1177'>&#x000A;</div><div class='line' id='LC1178'>      <span class="k">this</span><span class="p">.</span><span class="nx">setYear</span><span class="p">(</span><span class="nx">time</span><span class="p">).</span><span class="nx">setMonth</span><span class="p">(</span><span class="nx">time</span><span class="p">).</span><span class="nx">setDate</span><span class="p">(</span><span class="nx">time</span><span class="p">).</span><span class="nx">_setYears</span><span class="p">(</span><span class="nx">time</span><span class="p">).</span><span class="nx">update</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1179'>&#x000A;</div><div class='line' id='LC1180'>      <span class="k">if</span> <span class="p">(</span><span class="nx">Calendar</span><span class="p">.</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">callback</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1181'>        <span class="nx">callback</span><span class="p">(</span><span class="nx">time</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">getEls</span><span class="p">().</span><span class="nx">dates</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">[data-date=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">time</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">]</span><span class="dl">'</span><span class="p">),</span> <span class="k">this</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1182'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC1183'>&#x000A;</div><div class='line' id='LC1184'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1185'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC1186'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC1187'><span class="cm">     * 隐藏日历控件</span>&#x000A;</div><div class='line' id='LC1188'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC1189'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC1190'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC1191'>&#x000A;</div><div class='line' id='LC1192'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1193'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">hide</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1194'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">hide</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1195'>      <span class="kd">var</span> <span class="nx">CLS_HIDDEN</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">STYLES</span><span class="dl">'</span><span class="p">).</span><span class="nx">HIDDEN</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1196'>      <span class="kd">var</span> <span class="nx">$wrap</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getEls</span><span class="p">().</span><span class="nx">wrap</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1197'>      <span class="nx">Calendar</span><span class="p">.</span><span class="nx">DOM</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">$wrap</span><span class="p">,</span> <span class="nx">CLS_HIDDEN</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1198'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1199'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC1200'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC1201'><span class="cm">     * 显示日历控件</span>&#x000A;</div><div class='line' id='LC1202'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC1203'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC1204'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC1205'>&#x000A;</div><div class='line' id='LC1206'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1207'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">show</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1208'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">show</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1209'>      <span class="kd">var</span> <span class="nx">CLS_HIDDEN</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">STYLES</span><span class="dl">'</span><span class="p">).</span><span class="nx">HIDDEN</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1210'>      <span class="kd">var</span> <span class="nx">$wrap</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getEls</span><span class="p">().</span><span class="nx">wrap</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1211'>      <span class="nx">Calendar</span><span class="p">.</span><span class="nx">DOM</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">$wrap</span><span class="p">,</span> <span class="nx">CLS_HIDDEN</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1212'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1213'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC1214'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC1215'><span class="cm">     * 隐藏/显示之间切换</span>&#x000A;</div><div class='line' id='LC1216'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC1217'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC1218'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC1219'>&#x000A;</div><div class='line' id='LC1220'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1221'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">toggle</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1222'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">toggle</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1223'>      <span class="kd">var</span> <span class="nx">CLS_HIDDEN</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">STYLES</span><span class="dl">'</span><span class="p">).</span><span class="nx">HIDDEN</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1224'>      <span class="kd">var</span> <span class="nx">$wrap</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getEls</span><span class="p">().</span><span class="nx">wrap</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1225'>&#x000A;</div><div class='line' id='LC1226'>      <span class="k">if</span> <span class="p">(</span><span class="nx">Calendar</span><span class="p">.</span><span class="nx">DOM</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="nx">$wrap</span><span class="p">,</span> <span class="nx">CLS_HIDDEN</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1227'>        <span class="k">this</span><span class="p">.</span><span class="nx">show</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1228'>      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1229'>        <span class="k">this</span><span class="p">.</span><span class="nx">hide</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1230'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC1231'>&#x000A;</div><div class='line' id='LC1232'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1233'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC1234'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC1235'><span class="cm">     * 设置当前的年代信息</span>&#x000A;</div><div class='line' id='LC1236'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC1237'><span class="cm">     * @param {String|Number} [time] - 表示年份的字符串或者数字（默认值：今年）</span>&#x000A;</div><div class='line' id='LC1238'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC1239'><span class="cm">     * @private</span>&#x000A;</div><div class='line' id='LC1240'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC1241'>&#x000A;</div><div class='line' id='LC1242'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1243'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">_setYears</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1244'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">_setYears</span><span class="p">(</span><span class="nx">time</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1245'>      <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">years</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">getYears</span><span class="p">(</span><span class="nx">time</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1246'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1247'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC1248'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC1249'><span class="cm">     * （多选模式）移除选中的日期</span>&#x000A;</div><div class='line' id='LC1250'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC1251'><span class="cm">     * @param {String|Number} time - 表示日期的字符串或者数字</span>&#x000A;</div><div class='line' id='LC1252'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC1253'><span class="cm">     * @private</span>&#x000A;</div><div class='line' id='LC1254'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC1255'>&#x000A;</div><div class='line' id='LC1256'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1257'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">_removePicked</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1258'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">_removePicked</span><span class="p">(</span><span class="nx">time</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1259'>      <span class="kd">var</span> <span class="nx">pickedDates</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getPicked</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1260'>      <span class="kd">var</span> <span class="nx">index</span> <span class="o">=</span> <span class="nx">pickedDates</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">time</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1261'>&#x000A;</div><div class='line' id='LC1262'>      <span class="k">if</span> <span class="p">(</span><span class="nx">index</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1263'>        <span class="nx">pickedDates</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">index</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1264'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC1265'>&#x000A;</div><div class='line' id='LC1266'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1267'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC1268'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC1269'><span class="cm">     * 绘制日历控件的各个主要 DOM 节点</span>&#x000A;</div><div class='line' id='LC1270'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC1271'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC1272'><span class="cm">     * @private</span>&#x000A;</div><div class='line' id='LC1273'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC1274'>&#x000A;</div><div class='line' id='LC1275'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1276'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">_createElements</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1277'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">_createElements</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1278'>      <span class="kd">var</span> <span class="nx">STYLES</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">STYLES</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1279'>      <span class="kd">var</span> <span class="nx">CLS_WRAP</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">WRAP</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1280'>      <span class="kd">var</span> <span class="nx">CLS_WRAP_WITHOUT_FOOTER</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">WRAP_WITHOUT_FOOTER</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1281'>      <span class="kd">var</span> <span class="nx">CLS_HEADER</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">HEADER</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1282'>      <span class="kd">var</span> <span class="nx">CLS_TITLE</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">TITLE</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1283'>      <span class="kd">var</span> <span class="nx">CLS_SWITCHER</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">SWITCHER</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1284'>      <span class="kd">var</span> <span class="nx">CLS_PREV</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">PREV</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1285'>      <span class="kd">var</span> <span class="nx">CLS_ICON_PREV</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">ICON_PREV</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1286'>      <span class="kd">var</span> <span class="nx">CLS_NEXT</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">NEXT</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1287'>      <span class="kd">var</span> <span class="nx">CLS_ICON_NEXT</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">ICON_NEXT</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1288'>      <span class="kd">var</span> <span class="nx">CLS_BODY</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">BODY</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1289'>      <span class="kd">var</span> <span class="nx">CLS_WEEK</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">WEEK</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1290'>      <span class="kd">var</span> <span class="nx">CLS_DATES</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">DATES</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1291'>      <span class="kd">var</span> <span class="nx">CLS_MONTHS</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">MONTHS</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1292'>      <span class="kd">var</span> <span class="nx">CLS_YEARS</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">YEARS</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1293'>      <span class="kd">var</span> <span class="nx">CLS_FOOTER</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">FOOTER</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1294'>      <span class="kd">var</span> <span class="nx">CLS_FOOTER_DATE</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">FOOTER_DATE</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1295'>      <span class="kd">var</span> <span class="nx">CLS_TODAY</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">TODAY</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1296'>      <span class="kd">var</span> <span class="nx">CLS_FOOTER_TIME</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">FOOTER_TIME</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1297'>      <span class="kd">var</span> <span class="nx">CLS_TIME</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">TIME</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1298'>      <span class="kd">var</span> <span class="nx">CLS_TEXT</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">TEXT</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1299'>      <span class="kd">var</span> <span class="nx">CLS_HIDDEN</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">HIDDEN</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1300'>      <span class="kd">var</span> <span class="nx">SPACE</span> <span class="o">=</span> <span class="dl">'</span><span class="s1"> </span><span class="dl">'</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1301'>      <span class="kd">var</span> <span class="nx">hasFooter</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">hasFooter</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1302'>      <span class="kd">var</span> <span class="nx">elements</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getEls</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1303'>      <span class="kd">var</span> <span class="nx">createElement</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">DOM</span><span class="p">.</span><span class="nx">createElement</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1304'>      <span class="kd">var</span> <span class="nx">wrapClassName</span> <span class="o">=</span> <span class="nx">CLS_WRAP</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1305'>      <span class="kd">var</span> <span class="nx">weekClassName</span> <span class="o">=</span> <span class="nx">CLS_WEEK</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1306'>      <span class="kd">var</span> <span class="nx">datesClassName</span> <span class="o">=</span> <span class="nx">CLS_DATES</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1307'>      <span class="kd">var</span> <span class="nx">monthsClassName</span> <span class="o">=</span> <span class="nx">CLS_MONTHS</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1308'>      <span class="kd">var</span> <span class="nx">yearsClassName</span> <span class="o">=</span> <span class="nx">CLS_YEARS</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1309'>&#x000A;</div><div class='line' id='LC1310'>      <span class="k">switch</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">viewMode</span><span class="dl">'</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1311'>        <span class="k">case</span> <span class="mi">0</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC1312'>          <span class="nx">monthsClassName</span> <span class="o">+=</span> <span class="nx">SPACE</span> <span class="o">+</span> <span class="nx">CLS_HIDDEN</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1313'>          <span class="nx">yearsClassName</span> <span class="o">+=</span> <span class="nx">SPACE</span> <span class="o">+</span> <span class="nx">CLS_HIDDEN</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1314'>          <span class="k">break</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1315'>&#x000A;</div><div class='line' id='LC1316'>        <span class="k">case</span> <span class="mi">1</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC1317'>          <span class="nx">weekClassName</span> <span class="o">+=</span> <span class="nx">SPACE</span> <span class="o">+</span> <span class="nx">CLS_HIDDEN</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1318'>          <span class="nx">datesClassName</span> <span class="o">+=</span> <span class="nx">SPACE</span> <span class="o">+</span> <span class="nx">CLS_HIDDEN</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1319'>          <span class="nx">yearsClassName</span> <span class="o">+=</span> <span class="nx">SPACE</span> <span class="o">+</span> <span class="nx">CLS_HIDDEN</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1320'>          <span class="k">break</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1321'>&#x000A;</div><div class='line' id='LC1322'>        <span class="k">case</span> <span class="mi">2</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC1323'>          <span class="nx">weekClassName</span> <span class="o">+=</span> <span class="nx">SPACE</span> <span class="o">+</span> <span class="nx">CLS_HIDDEN</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1324'>          <span class="nx">datesClassName</span> <span class="o">+=</span> <span class="nx">SPACE</span> <span class="o">+</span> <span class="nx">CLS_HIDDEN</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1325'>          <span class="nx">monthsClassName</span> <span class="o">+=</span> <span class="nx">SPACE</span> <span class="o">+</span> <span class="nx">CLS_HIDDEN</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1326'>          <span class="k">break</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1327'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC1328'>&#x000A;</div><div class='line' id='LC1329'>      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">hasFooter</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1330'>        <span class="nx">wrapClassName</span> <span class="o">+=</span> <span class="nx">SPACE</span> <span class="o">+</span> <span class="nx">CLS_WRAP_WITHOUT_FOOTER</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1331'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC1332'>&#x000A;</div><div class='line' id='LC1333'>      <span class="nx">elements</span><span class="p">.</span><span class="nx">parent</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">parent</span><span class="dl">'</span><span class="p">));</span> <span class="c1">// wrap</span>&#x000A;</div><div class='line' id='LC1334'>&#x000A;</div><div class='line' id='LC1335'>      <span class="nx">elements</span><span class="p">.</span><span class="nx">wrap</span> <span class="o">=</span> <span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1336'>        <span class="na">id</span><span class="p">:</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">guid</span><span class="p">(</span><span class="dl">'</span><span class="s1">calendar</span><span class="dl">'</span><span class="p">),</span>&#x000A;</div><div class='line' id='LC1337'>        <span class="na">className</span><span class="p">:</span> <span class="nx">wrapClassName</span>&#x000A;</div><div class='line' id='LC1338'>      <span class="p">});</span> <span class="c1">// header</span>&#x000A;</div><div class='line' id='LC1339'>&#x000A;</div><div class='line' id='LC1340'>      <span class="nx">elements</span><span class="p">.</span><span class="nx">header</span> <span class="o">=</span> <span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1341'>        <span class="na">className</span><span class="p">:</span> <span class="nx">CLS_HEADER</span>&#x000A;</div><div class='line' id='LC1342'>      <span class="p">});</span>&#x000A;</div><div class='line' id='LC1343'>      <span class="nx">elements</span><span class="p">.</span><span class="nx">title</span> <span class="o">=</span> <span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">h4</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1344'>        <span class="na">className</span><span class="p">:</span> <span class="nx">CLS_TITLE</span>&#x000A;</div><div class='line' id='LC1345'>      <span class="p">},</span> <span class="p">[</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">span</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1346'>        <span class="na">className</span><span class="p">:</span> <span class="nx">CLS_TEXT</span>&#x000A;</div><div class='line' id='LC1347'>      <span class="p">})]);</span> <span class="c1">// 配置了显示上下切换按钮</span>&#x000A;</div><div class='line' id='LC1348'>&#x000A;</div><div class='line' id='LC1349'>      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">hasSwitcher</span><span class="dl">'</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1350'>        <span class="nx">elements</span><span class="p">.</span><span class="nx">switcher</span> <span class="o">=</span> <span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1351'>          <span class="na">className</span><span class="p">:</span> <span class="nx">CLS_SWITCHER</span>&#x000A;</div><div class='line' id='LC1352'>        <span class="p">});</span>&#x000A;</div><div class='line' id='LC1353'>        <span class="nx">elements</span><span class="p">.</span><span class="nx">prev</span> <span class="o">=</span> <span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1354'>          <span class="na">className</span><span class="p">:</span> <span class="nx">CLS_PREV</span>&#x000A;</div><div class='line' id='LC1355'>        <span class="p">},</span> <span class="p">[</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">span</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1356'>          <span class="na">className</span><span class="p">:</span> <span class="nx">CLS_TEXT</span>&#x000A;</div><div class='line' id='LC1357'>        <span class="p">},</span> <span class="p">[</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">i</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1358'>          <span class="na">className</span><span class="p">:</span> <span class="nx">CLS_ICON_PREV</span>&#x000A;</div><div class='line' id='LC1359'>        <span class="p">})])]);</span>&#x000A;</div><div class='line' id='LC1360'>        <span class="nx">elements</span><span class="p">.</span><span class="nx">next</span> <span class="o">=</span> <span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1361'>          <span class="na">className</span><span class="p">:</span> <span class="nx">CLS_NEXT</span>&#x000A;</div><div class='line' id='LC1362'>        <span class="p">},</span> <span class="p">[</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">span</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1363'>          <span class="na">className</span><span class="p">:</span> <span class="nx">CLS_TEXT</span>&#x000A;</div><div class='line' id='LC1364'>        <span class="p">},</span> <span class="p">[</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">i</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1365'>          <span class="na">className</span><span class="p">:</span> <span class="nx">CLS_ICON_NEXT</span>&#x000A;</div><div class='line' id='LC1366'>        <span class="p">})])]);</span>&#x000A;</div><div class='line' id='LC1367'>      <span class="p">}</span> <span class="c1">// body</span>&#x000A;</div><div class='line' id='LC1368'>&#x000A;</div><div class='line' id='LC1369'>&#x000A;</div><div class='line' id='LC1370'>      <span class="nx">elements</span><span class="p">.</span><span class="nx">body</span> <span class="o">=</span> <span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1371'>        <span class="na">className</span><span class="p">:</span> <span class="nx">CLS_BODY</span>&#x000A;</div><div class='line' id='LC1372'>      <span class="p">});</span>&#x000A;</div><div class='line' id='LC1373'>      <span class="nx">elements</span><span class="p">.</span><span class="nx">week</span> <span class="o">=</span> <span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1374'>        <span class="na">className</span><span class="p">:</span> <span class="nx">weekClassName</span>&#x000A;</div><div class='line' id='LC1375'>      <span class="p">});</span>&#x000A;</div><div class='line' id='LC1376'>      <span class="nx">elements</span><span class="p">.</span><span class="nx">dates</span> <span class="o">=</span> <span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1377'>        <span class="na">className</span><span class="p">:</span> <span class="nx">datesClassName</span>&#x000A;</div><div class='line' id='LC1378'>      <span class="p">});</span>&#x000A;</div><div class='line' id='LC1379'>      <span class="nx">elements</span><span class="p">.</span><span class="nx">months</span> <span class="o">=</span> <span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1380'>        <span class="na">className</span><span class="p">:</span> <span class="nx">monthsClassName</span>&#x000A;</div><div class='line' id='LC1381'>      <span class="p">});</span>&#x000A;</div><div class='line' id='LC1382'>      <span class="nx">elements</span><span class="p">.</span><span class="nx">years</span> <span class="o">=</span> <span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1383'>        <span class="na">className</span><span class="p">:</span> <span class="nx">yearsClassName</span>&#x000A;</div><div class='line' id='LC1384'>      <span class="p">});</span> <span class="c1">// 配置了显示页脚</span>&#x000A;</div><div class='line' id='LC1385'>&#x000A;</div><div class='line' id='LC1386'>      <span class="k">if</span> <span class="p">(</span><span class="nx">hasFooter</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1387'>        <span class="c1">// footer</span>&#x000A;</div><div class='line' id='LC1388'>        <span class="nx">elements</span><span class="p">.</span><span class="nx">footer</span> <span class="o">=</span> <span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1389'>          <span class="na">className</span><span class="p">:</span> <span class="nx">CLS_FOOTER</span>&#x000A;</div><div class='line' id='LC1390'>        <span class="p">});</span>&#x000A;</div><div class='line' id='LC1391'>        <span class="nx">elements</span><span class="p">.</span><span class="nx">today</span> <span class="o">=</span> <span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1392'>          <span class="na">className</span><span class="p">:</span> <span class="nx">CLS_FOOTER_DATE</span>&#x000A;</div><div class='line' id='LC1393'>        <span class="p">},</span> <span class="p">[</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">p</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1394'>          <span class="na">className</span><span class="p">:</span> <span class="nx">CLS_TODAY</span>&#x000A;</div><div class='line' id='LC1395'>        <span class="p">},</span> <span class="p">[</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">span</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1396'>          <span class="na">className</span><span class="p">:</span> <span class="nx">CLS_TEXT</span>&#x000A;</div><div class='line' id='LC1397'>        <span class="p">})])]);</span> <span class="c1">// 配置了显示当前时间</span>&#x000A;</div><div class='line' id='LC1398'>&#x000A;</div><div class='line' id='LC1399'>        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">hasClock</span><span class="dl">'</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1400'>          <span class="nx">elements</span><span class="p">.</span><span class="nx">time</span> <span class="o">=</span> <span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1401'>            <span class="na">className</span><span class="p">:</span> <span class="nx">CLS_FOOTER_TIME</span>&#x000A;</div><div class='line' id='LC1402'>          <span class="p">},</span> <span class="p">[</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">p</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1403'>            <span class="na">className</span><span class="p">:</span> <span class="nx">CLS_TIME</span>&#x000A;</div><div class='line' id='LC1404'>          <span class="p">},</span> <span class="p">[</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">span</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1405'>            <span class="na">className</span><span class="p">:</span> <span class="nx">CLS_TEXT</span>&#x000A;</div><div class='line' id='LC1406'>          <span class="p">})])]);</span>&#x000A;</div><div class='line' id='LC1407'>        <span class="p">}</span>&#x000A;</div><div class='line' id='LC1408'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC1409'>&#x000A;</div><div class='line' id='LC1410'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1411'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC1412'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC1413'><span class="cm">     * 绘制日历控件的标题</span>&#x000A;</div><div class='line' id='LC1414'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC1415'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC1416'><span class="cm">     * @private</span>&#x000A;</div><div class='line' id='LC1417'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC1418'>&#x000A;</div><div class='line' id='LC1419'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1420'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">_renderTitle</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1421'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">_renderTitle</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1422'>      <span class="kd">var</span> <span class="nx">$title</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getEls</span><span class="p">().</span><span class="nx">title</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">.</span><span class="dl">'</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">STYLES</span><span class="dl">'</span><span class="p">).</span><span class="nx">TEXT</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1423'>      <span class="kd">var</span> <span class="nx">years</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getYears</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1424'>      <span class="kd">var</span> <span class="nx">year</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getYear</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1425'>      <span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="dl">''</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1426'>&#x000A;</div><div class='line' id='LC1427'>      <span class="k">switch</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">viewMode</span><span class="dl">'</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1428'>        <span class="k">case</span> <span class="mi">0</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC1429'>          <span class="c1">// 显示完整的年月时间</span>&#x000A;</div><div class='line' id='LC1430'>          <span class="nx">value</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">getMonth</span><span class="p">(</span><span class="nx">year</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">-</span><span class="dl">'</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">getMonth</span><span class="p">()</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">-1</span><span class="dl">'</span><span class="p">).</span><span class="nx">fullText</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1431'>          <span class="k">break</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1432'>&#x000A;</div><div class='line' id='LC1433'>        <span class="k">case</span> <span class="mi">1</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC1434'>          <span class="c1">// 显示年份时间</span>&#x000A;</div><div class='line' id='LC1435'>          <span class="nx">value</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">getYear</span><span class="p">(</span><span class="nx">year</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">-1-1</span><span class="dl">'</span><span class="p">).</span><span class="nx">fullText</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1436'>          <span class="k">break</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1437'>&#x000A;</div><div class='line' id='LC1438'>        <span class="k">case</span> <span class="mi">2</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC1439'>          <span class="c1">// 显示年代范围格式时间</span>&#x000A;</div><div class='line' id='LC1440'>          <span class="nx">value</span> <span class="o">=</span> <span class="nx">years</span><span class="p">.</span><span class="nx">start</span> <span class="o">+</span> <span class="dl">'</span><span class="s1"> - </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">years</span><span class="p">.</span><span class="nx">end</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1441'>          <span class="k">break</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1442'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC1443'>&#x000A;</div><div class='line' id='LC1444'>      <span class="nx">$title</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1445'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1446'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC1447'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC1448'><span class="cm">     * 绘制日历控件的星期栏</span>&#x000A;</div><div class='line' id='LC1449'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC1450'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC1451'><span class="cm">     * @private</span>&#x000A;</div><div class='line' id='LC1452'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC1453'>&#x000A;</div><div class='line' id='LC1454'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1455'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">_renderDays</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1456'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">_renderDays</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1457'>      <span class="kd">var</span> <span class="nx">STYLES</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">STYLES</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1458'>      <span class="kd">var</span> <span class="nx">CLS_DAY</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">DAY</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1459'>      <span class="kd">var</span> <span class="nx">CLS_WEEKEND</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">WEEKEND</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1460'>      <span class="kd">var</span> <span class="nx">CLS_TEXT</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">TEXT</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1461'>      <span class="kd">var</span> <span class="nx">DAYS</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">DAYS</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1462'>      <span class="kd">var</span> <span class="nx">createElement</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">DOM</span><span class="p">.</span><span class="nx">createElement</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1463'>      <span class="kd">var</span> <span class="nx">fragment</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createDocumentFragment</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1464'>      <span class="nx">DAYS</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">day</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1465'>        <span class="kd">var</span> <span class="nx">className</span> <span class="o">=</span> <span class="nx">i</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">i</span> <span class="o">===</span> <span class="nx">DAYS</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">?</span> <span class="nx">CLS_DAY</span> <span class="o">+</span> <span class="dl">'</span><span class="s1"> </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">CLS_WEEKEND</span> <span class="p">:</span> <span class="nx">CLS_DAY</span><span class="p">;</span> <span class="c1">// 先将创建的星期几的 DOM 节点保存到文档碎片</span>&#x000A;</div><div class='line' id='LC1466'>&#x000A;</div><div class='line' id='LC1467'>        <span class="nx">fragment</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1468'>          <span class="na">className</span><span class="p">:</span> <span class="nx">className</span>&#x000A;</div><div class='line' id='LC1469'>        <span class="p">},</span> <span class="p">[</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">span</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1470'>          <span class="na">className</span><span class="p">:</span> <span class="nx">CLS_TEXT</span>&#x000A;</div><div class='line' id='LC1471'>        <span class="p">},</span> <span class="p">[</span><span class="nx">day</span><span class="p">])]));</span>&#x000A;</div><div class='line' id='LC1472'>      <span class="p">});</span> <span class="c1">// 然后一次性添加到页面，性能会更好</span>&#x000A;</div><div class='line' id='LC1473'>&#x000A;</div><div class='line' id='LC1474'>      <span class="k">this</span><span class="p">.</span><span class="nx">getEls</span><span class="p">().</span><span class="nx">week</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">fragment</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1475'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1476'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC1477'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC1478'><span class="cm">     * 绘制日历控件的日期信息</span>&#x000A;</div><div class='line' id='LC1479'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC1480'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC1481'><span class="cm">     * @private</span>&#x000A;</div><div class='line' id='LC1482'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC1483'>&#x000A;</div><div class='line' id='LC1484'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1485'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">_renderDates</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1486'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">_renderDates</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1487'>      <span class="kd">var</span> <span class="nx">DATES</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">DATES</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1488'>      <span class="kd">var</span> <span class="nx">isLeapYear</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">isLeapYear</span><span class="p">;</span> <span class="c1">// fragments</span>&#x000A;</div><div class='line' id='LC1489'>&#x000A;</div><div class='line' id='LC1490'>      <span class="kd">var</span> <span class="nx">fragment</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createDocumentFragment</span><span class="p">();</span> <span class="c1">// current month</span>&#x000A;</div><div class='line' id='LC1491'>&#x000A;</div><div class='line' id='LC1492'>      <span class="kd">var</span> <span class="nx">year</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getYear</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1493'>      <span class="kd">var</span> <span class="nx">month</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getMonth</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1494'>      <span class="kd">var</span> <span class="nx">days</span> <span class="o">=</span> <span class="nx">DATES</span><span class="p">[</span><span class="nx">month</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>&#x000A;</div><div class='line' id='LC1495'>      <span class="kd">var</span> <span class="nx">firstDateDay</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">getDay</span><span class="p">(</span><span class="nx">year</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">-</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">month</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">-</span><span class="dl">'</span> <span class="o">+</span> <span class="mi">1</span><span class="p">).</span><span class="nx">value</span><span class="p">;</span> <span class="c1">// prev month</span>&#x000A;</div><div class='line' id='LC1496'>&#x000A;</div><div class='line' id='LC1497'>      <span class="kd">var</span> <span class="nx">prevYear</span> <span class="o">=</span> <span class="nx">month</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="p">?</span> <span class="nx">year</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">:</span> <span class="nx">year</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1498'>      <span class="kd">var</span> <span class="nx">prevMonth</span> <span class="o">=</span> <span class="nx">month</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="p">?</span> <span class="mi">12</span> <span class="p">:</span> <span class="nx">month</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1499'>      <span class="kd">var</span> <span class="nx">prevDays</span> <span class="o">=</span> <span class="nx">DATES</span><span class="p">[</span><span class="nx">prevMonth</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span> <span class="c1">// next month</span>&#x000A;</div><div class='line' id='LC1500'>&#x000A;</div><div class='line' id='LC1501'>      <span class="kd">var</span> <span class="nx">nextYear</span> <span class="o">=</span> <span class="nx">month</span> <span class="o">===</span> <span class="mi">12</span> <span class="p">?</span> <span class="nx">year</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:</span> <span class="nx">year</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1502'>      <span class="kd">var</span> <span class="nx">nextMonth</span> <span class="o">=</span> <span class="nx">month</span> <span class="o">===</span> <span class="mi">12</span> <span class="p">?</span> <span class="mi">1</span> <span class="p">:</span> <span class="nx">month</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1503'>      <span class="kd">var</span> <span class="nx">nextDays</span><span class="p">;</span> <span class="c1">// 如果当前是闰年，上个月是二月份，则闰年二月为29天</span>&#x000A;</div><div class='line' id='LC1504'>&#x000A;</div><div class='line' id='LC1505'>      <span class="k">if</span> <span class="p">(</span><span class="nx">isLeapYear</span><span class="p">(</span><span class="nx">year</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">prevMonth</span> <span class="o">===</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1506'>        <span class="nx">prevDays</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1507'>      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1508'>        <span class="c1">// 如果当前是闰年，当前月份是二月，则本月有29天</span>&#x000A;</div><div class='line' id='LC1509'>        <span class="k">if</span> <span class="p">(</span><span class="nx">isLeapYear</span><span class="p">(</span><span class="nx">year</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">month</span> <span class="o">===</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1510'>          <span class="nx">days</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1511'>        <span class="p">}</span>&#x000A;</div><div class='line' id='LC1512'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC1513'>&#x000A;</div><div class='line' id='LC1514'>      <span class="nx">nextDays</span> <span class="o">=</span> <span class="mi">42</span> <span class="o">-</span> <span class="p">(</span><span class="nx">firstDateDay</span> <span class="o">+</span> <span class="nx">days</span><span class="p">);</span> <span class="c1">// 绘制上个月月底的最后几天</span>&#x000A;</div><div class='line' id='LC1515'>&#x000A;</div><div class='line' id='LC1516'>      <span class="k">if</span> <span class="p">(</span><span class="nx">firstDateDay</span> <span class="o">!==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1517'>        <span class="nx">fragment</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_getDatesFragment</span><span class="p">({</span>&#x000A;</div><div class='line' id='LC1518'>          <span class="na">year</span><span class="p">:</span> <span class="nx">prevYear</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1519'>          <span class="na">month</span><span class="p">:</span> <span class="nx">prevMonth</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1520'>          <span class="na">start</span><span class="p">:</span> <span class="nx">prevDays</span> <span class="o">-</span> <span class="p">(</span><span class="nx">firstDateDay</span> <span class="o">-</span> <span class="mi">1</span><span class="p">),</span>&#x000A;</div><div class='line' id='LC1521'>          <span class="na">end</span><span class="p">:</span> <span class="nx">prevDays</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1522'>          <span class="na">isPrev</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1523'>          <span class="na">isNext</span><span class="p">:</span> <span class="kc">false</span>&#x000A;</div><div class='line' id='LC1524'>        <span class="p">}));</span>&#x000A;</div><div class='line' id='LC1525'>      <span class="p">}</span> <span class="c1">// 绘制本月的日期</span>&#x000A;</div><div class='line' id='LC1526'>&#x000A;</div><div class='line' id='LC1527'>&#x000A;</div><div class='line' id='LC1528'>      <span class="nx">fragment</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_getDatesFragment</span><span class="p">({</span>&#x000A;</div><div class='line' id='LC1529'>        <span class="na">year</span><span class="p">:</span> <span class="nx">year</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1530'>        <span class="na">month</span><span class="p">:</span> <span class="nx">month</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1531'>        <span class="na">start</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1532'>        <span class="na">end</span><span class="p">:</span> <span class="nx">days</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1533'>        <span class="na">isPrev</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1534'>        <span class="na">isNext</span><span class="p">:</span> <span class="kc">false</span>&#x000A;</div><div class='line' id='LC1535'>      <span class="p">}));</span> <span class="c1">// 绘制下个月月头的几天</span>&#x000A;</div><div class='line' id='LC1536'>&#x000A;</div><div class='line' id='LC1537'>      <span class="k">if</span> <span class="p">(</span><span class="nx">nextDays</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1538'>        <span class="nx">fragment</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_getDatesFragment</span><span class="p">({</span>&#x000A;</div><div class='line' id='LC1539'>          <span class="na">year</span><span class="p">:</span> <span class="nx">nextYear</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1540'>          <span class="na">month</span><span class="p">:</span> <span class="nx">nextMonth</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1541'>          <span class="na">start</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1542'>          <span class="na">end</span><span class="p">:</span> <span class="nx">nextDays</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1543'>          <span class="na">isPrev</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1544'>          <span class="na">isNext</span><span class="p">:</span> <span class="kc">true</span>&#x000A;</div><div class='line' id='LC1545'>        <span class="p">}));</span>&#x000A;</div><div class='line' id='LC1546'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC1547'>&#x000A;</div><div class='line' id='LC1548'>      <span class="k">this</span><span class="p">.</span><span class="nx">getEls</span><span class="p">().</span><span class="nx">dates</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">fragment</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1549'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1550'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC1551'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC1552'><span class="cm">     * 重绘日历控件的日期信息</span>&#x000A;</div><div class='line' id='LC1553'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC1554'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC1555'><span class="cm">     * @private</span>&#x000A;</div><div class='line' id='LC1556'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC1557'>&#x000A;</div><div class='line' id='LC1558'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1559'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">_repaintDates</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1560'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">_repaintDates</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1561'>      <span class="kd">var</span> <span class="nx">CLS_HIDDEN</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">STYLES</span><span class="dl">'</span><span class="p">).</span><span class="nx">HIDDEN</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1562'>      <span class="kd">var</span> <span class="nx">DOM</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">DOM</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1563'>      <span class="kd">var</span> <span class="nx">$dates</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getEls</span><span class="p">().</span><span class="nx">dates</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1564'>      <span class="nx">DOM</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">$dates</span><span class="p">,</span> <span class="nx">CLS_HIDDEN</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1565'>      <span class="nx">$dates</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="dl">''</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1566'>      <span class="nx">DOM</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">$dates</span><span class="p">,</span> <span class="nx">CLS_HIDDEN</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1567'>&#x000A;</div><div class='line' id='LC1568'>      <span class="k">this</span><span class="p">.</span><span class="nx">_renderDates</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1569'>&#x000A;</div><div class='line' id='LC1570'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1571'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC1572'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC1573'><span class="cm">     * 获得绘制日期信息时的文档碎片</span>&#x000A;</div><div class='line' id='LC1574'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC1575'><span class="cm">     * @param {Object} options - 参数对象</span>&#x000A;</div><div class='line' id='LC1576'><span class="cm">     * @param {Number} options.year - 年份</span>&#x000A;</div><div class='line' id='LC1577'><span class="cm">     * @param {Number} options.month - 月份</span>&#x000A;</div><div class='line' id='LC1578'><span class="cm">     * @param {Number} options.start - 开始的日期</span>&#x000A;</div><div class='line' id='LC1579'><span class="cm">     * @param {Number} options.end - 结束的日期</span>&#x000A;</div><div class='line' id='LC1580'><span class="cm">     * @param {Boolean} options.isPrev - 是否为上个月的日期</span>&#x000A;</div><div class='line' id='LC1581'><span class="cm">     * @param {Boolean} options.isNext - 是否为下个月的日期</span>&#x000A;</div><div class='line' id='LC1582'><span class="cm">     * @returns {DocumentFragment}</span>&#x000A;</div><div class='line' id='LC1583'><span class="cm">     * @private</span>&#x000A;</div><div class='line' id='LC1584'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC1585'>&#x000A;</div><div class='line' id='LC1586'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1587'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">_getDatesFragment</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1588'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">_getDatesFragment</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1589'>      <span class="kd">var</span> <span class="nx">_this</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1590'>&#x000A;</div><div class='line' id='LC1591'>      <span class="kd">var</span> <span class="nx">year</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">year</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1592'>          <span class="nx">month</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">month</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1593'>          <span class="nx">start</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">start</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1594'>          <span class="nx">end</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">end</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1595'>          <span class="nx">isPrev</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">isPrev</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1596'>          <span class="nx">isNext</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">isNext</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1597'>      <span class="kd">var</span> <span class="nx">SPACE</span> <span class="o">=</span> <span class="dl">'</span><span class="s1"> </span><span class="dl">'</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1598'>      <span class="kd">var</span> <span class="nx">STYLES</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">STYLES</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1599'>      <span class="kd">var</span> <span class="nx">CLS_DATE</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">DATE</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1600'>      <span class="kd">var</span> <span class="nx">CLS_DATE_PREV</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">DATE_PREV</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1601'>      <span class="kd">var</span> <span class="nx">CLS_DATE_NEXT</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">DATE_NEXT</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1602'>      <span class="kd">var</span> <span class="nx">CLS_CURRENT</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">CURRENT</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1603'>      <span class="kd">var</span> <span class="nx">CLS_PICKED</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">PICKED</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1604'>      <span class="kd">var</span> <span class="nx">CLS_PICKED_RANGE</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">PICKED_RANGE</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1605'>      <span class="kd">var</span> <span class="nx">CLS_WEEKEND</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">WEEKEND</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1606'>      <span class="kd">var</span> <span class="nx">CLS_TEXT</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">TEXT</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1607'>      <span class="kd">var</span> <span class="nx">createElement</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">DOM</span><span class="p">.</span><span class="nx">createElement</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1608'>      <span class="kd">var</span> <span class="nx">isDatesEqual</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">isDatesEqual</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1609'>      <span class="kd">var</span> <span class="nx">fragment</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createDocumentFragment</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1610'>      <span class="kd">var</span> <span class="nx">elements</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getEls</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1611'>      <span class="kd">var</span> <span class="nx">date</span> <span class="o">=</span> <span class="nx">start</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1612'>      <span class="kd">var</span> <span class="nx">pickMode</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">pickMode</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1613'>      <span class="kd">var</span> <span class="nx">pickedDates</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getPicked</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1614'>&#x000A;</div><div class='line' id='LC1615'>      <span class="kd">var</span> <span class="nx">_loop</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">_loop</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1616'>        <span class="kd">var</span> <span class="nx">fullDate</span> <span class="o">=</span> <span class="nx">year</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">-</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">month</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">-</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">date</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1617'>        <span class="kd">var</span> <span class="nx">isCurrent</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">isToday</span><span class="p">(</span><span class="nx">fullDate</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1618'>        <span class="kd">var</span> <span class="nx">day</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">getDay</span><span class="p">(</span><span class="nx">fullDate</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1619'>        <span class="kd">var</span> <span class="nx">$children</span> <span class="o">=</span> <span class="p">[</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">span</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1620'>          <span class="na">className</span><span class="p">:</span> <span class="nx">CLS_TEXT</span>&#x000A;</div><div class='line' id='LC1621'>        <span class="p">},</span> <span class="p">[</span><span class="nx">date</span><span class="p">])];</span>&#x000A;</div><div class='line' id='LC1622'>        <span class="kd">var</span> <span class="nx">className</span> <span class="o">=</span> <span class="dl">''</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1623'>        <span class="kd">var</span> <span class="nx">$date</span> <span class="o">=</span> <span class="k">void</span> <span class="mi">0</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1624'>        <span class="nx">$date</span> <span class="o">=</span> <span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1625'>          <span class="dl">'</span><span class="s1">data-date</span><span class="dl">'</span><span class="p">:</span> <span class="nx">fullDate</span>&#x000A;</div><div class='line' id='LC1626'>        <span class="p">},</span> <span class="nx">$children</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1627'>        <span class="nx">className</span> <span class="o">+=</span> <span class="nx">CLS_DATE</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1628'>&#x000A;</div><div class='line' id='LC1629'>        <span class="k">if</span> <span class="p">(</span><span class="nx">isPrev</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1630'>          <span class="nx">className</span> <span class="o">+=</span> <span class="nx">SPACE</span> <span class="o">+</span> <span class="nx">CLS_DATE_PREV</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1631'>        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1632'>          <span class="k">if</span> <span class="p">(</span><span class="nx">isNext</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1633'>            <span class="nx">className</span> <span class="o">+=</span> <span class="nx">SPACE</span> <span class="o">+</span> <span class="nx">CLS_DATE_NEXT</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1634'>          <span class="p">}</span>&#x000A;</div><div class='line' id='LC1635'>        <span class="p">}</span> <span class="c1">// 当前（今天）的日期</span>&#x000A;</div><div class='line' id='LC1636'>&#x000A;</div><div class='line' id='LC1637'>&#x000A;</div><div class='line' id='LC1638'>        <span class="k">if</span> <span class="p">(</span><span class="nx">isCurrent</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1639'>          <span class="nx">className</span> <span class="o">+=</span> <span class="nx">SPACE</span> <span class="o">+</span> <span class="nx">CLS_CURRENT</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1640'>        <span class="p">}</span> <span class="c1">// 周末</span>&#x000A;</div><div class='line' id='LC1641'>&#x000A;</div><div class='line' id='LC1642'>&#x000A;</div><div class='line' id='LC1643'>        <span class="k">if</span> <span class="p">(</span><span class="nx">day</span><span class="p">.</span><span class="nx">value</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">day</span><span class="p">.</span><span class="nx">value</span> <span class="o">===</span> <span class="mi">6</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1644'>          <span class="nx">className</span> <span class="o">+=</span> <span class="nx">SPACE</span> <span class="o">+</span> <span class="nx">CLS_WEEKEND</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1645'>        <span class="p">}</span>&#x000A;</div><div class='line' id='LC1646'>&#x000A;</div><div class='line' id='LC1647'>        <span class="k">switch</span> <span class="p">(</span><span class="nx">pickMode</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1648'>          <span class="c1">// 单选模式</span>&#x000A;</div><div class='line' id='LC1649'>          <span class="k">case</span> <span class="dl">'</span><span class="s1">single</span><span class="dl">'</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC1650'>            <span class="kd">var</span> <span class="nx">pickedDate</span> <span class="o">=</span> <span class="nx">_this</span><span class="p">.</span><span class="nx">getDate</span><span class="p">().</span><span class="nx">text</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1651'>&#x000A;</div><div class='line' id='LC1652'>            <span class="kd">var</span> <span class="nx">isPickedDate</span> <span class="o">=</span> <span class="nx">isDatesEqual</span><span class="p">(</span><span class="nx">fullDate</span><span class="p">,</span> <span class="nx">pickedDate</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1653'>&#x000A;</div><div class='line' id='LC1654'>            <span class="k">if</span> <span class="p">(</span><span class="nx">isPickedDate</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1655'>              <span class="nx">className</span> <span class="o">+=</span> <span class="nx">SPACE</span> <span class="o">+</span> <span class="nx">CLS_PICKED</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1656'>              <span class="nx">elements</span><span class="p">.</span><span class="nx">date</span> <span class="o">=</span> <span class="nx">$date</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1657'>            <span class="p">}</span>&#x000A;</div><div class='line' id='LC1658'>&#x000A;</div><div class='line' id='LC1659'>            <span class="k">break</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1660'>          <span class="c1">// 多选模式</span>&#x000A;</div><div class='line' id='LC1661'>&#x000A;</div><div class='line' id='LC1662'>          <span class="k">case</span> <span class="dl">'</span><span class="s1">multiple</span><span class="dl">'</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC1663'>            <span class="nx">pickedDates</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">picked</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1664'>              <span class="kd">var</span> <span class="nx">isPicked</span> <span class="o">=</span> <span class="nx">isDatesEqual</span><span class="p">(</span><span class="nx">fullDate</span><span class="p">,</span> <span class="nx">picked</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1665'>&#x000A;</div><div class='line' id='LC1666'>              <span class="k">if</span> <span class="p">(</span><span class="nx">isPicked</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1667'>                <span class="nx">className</span> <span class="o">+=</span> <span class="nx">SPACE</span> <span class="o">+</span> <span class="nx">CLS_PICKED</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1668'>              <span class="p">}</span>&#x000A;</div><div class='line' id='LC1669'>            <span class="p">});</span>&#x000A;</div><div class='line' id='LC1670'>            <span class="k">break</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1671'>          <span class="c1">// 区间模式</span>&#x000A;</div><div class='line' id='LC1672'>&#x000A;</div><div class='line' id='LC1673'>          <span class="k">case</span> <span class="dl">'</span><span class="s1">range</span><span class="dl">'</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC1674'>          <span class="k">case</span> <span class="dl">'</span><span class="s1">week</span><span class="dl">'</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC1675'>            <span class="kd">var</span> <span class="nx">dateRanges</span> <span class="o">=</span> <span class="p">[];</span> <span class="c1">// 只有选中了两个节点，才绘制选中日期区间的样式</span>&#x000A;</div><div class='line' id='LC1676'>&#x000A;</div><div class='line' id='LC1677'>            <span class="k">if</span> <span class="p">(</span><span class="nx">pickedDates</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1678'>              <span class="nx">dateRanges</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">getRanges</span><span class="p">(</span><span class="nx">pickedDates</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nx">pickedDates</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>&#x000A;</div><div class='line' id='LC1679'>              <span class="nx">dateRanges</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">picked</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1680'>                <span class="kd">var</span> <span class="nx">isPicked</span> <span class="o">=</span> <span class="nx">isDatesEqual</span><span class="p">(</span><span class="nx">fullDate</span><span class="p">,</span> <span class="nx">picked</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1681'>&#x000A;</div><div class='line' id='LC1682'>                <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">isPicked</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1683'>                  <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1684'>                <span class="p">}</span> <span class="c1">// 设置中间日期的样式</span>&#x000A;</div><div class='line' id='LC1685'>&#x000A;</div><div class='line' id='LC1686'>&#x000A;</div><div class='line' id='LC1687'>                <span class="k">if</span> <span class="p">(</span><span class="nx">i</span> <span class="o">!==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">i</span> <span class="o">!==</span> <span class="nx">dateRanges</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1688'>                  <span class="nx">className</span> <span class="o">+=</span> <span class="nx">SPACE</span> <span class="o">+</span> <span class="nx">CLS_PICKED</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1689'>                  <span class="nx">className</span> <span class="o">+=</span> <span class="nx">SPACE</span> <span class="o">+</span> <span class="nx">CLS_PICKED_RANGE</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1690'>                <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1691'>                  <span class="k">if</span> <span class="p">(</span><span class="nx">i</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">i</span> <span class="o">===</span> <span class="nx">dateRanges</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1692'>                    <span class="nx">className</span> <span class="o">+=</span> <span class="nx">SPACE</span> <span class="o">+</span> <span class="nx">CLS_PICKED</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1693'>                  <span class="p">}</span>&#x000A;</div><div class='line' id='LC1694'>                <span class="p">}</span>&#x000A;</div><div class='line' id='LC1695'>              <span class="p">});</span>&#x000A;</div><div class='line' id='LC1696'>            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1697'>              <span class="k">if</span> <span class="p">(</span><span class="nx">pickedDates</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1698'>                <span class="nx">className</span> <span class="o">+=</span> <span class="nx">SPACE</span> <span class="o">+</span> <span class="nx">CLS_PICKED</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1699'>              <span class="p">}</span>&#x000A;</div><div class='line' id='LC1700'>            <span class="p">}</span>&#x000A;</div><div class='line' id='LC1701'>&#x000A;</div><div class='line' id='LC1702'>            <span class="k">break</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1703'>        <span class="p">}</span>&#x000A;</div><div class='line' id='LC1704'>&#x000A;</div><div class='line' id='LC1705'>        <span class="nx">$date</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="nx">className</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1706'>        <span class="nx">fragment</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">$date</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1707'>      <span class="p">};</span>&#x000A;</div><div class='line' id='LC1708'>&#x000A;</div><div class='line' id='LC1709'>      <span class="k">for</span> <span class="p">(;</span> <span class="nx">date</span> <span class="o">&lt;=</span> <span class="nx">end</span><span class="p">;</span> <span class="nx">date</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1710'>        <span class="nx">_loop</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1711'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC1712'>&#x000A;</div><div class='line' id='LC1713'>      <span class="k">return</span> <span class="nx">fragment</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1714'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC1715'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC1716'><span class="cm">     * 绘制选中的日期区间选中样式</span>&#x000A;</div><div class='line' id='LC1717'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC1718'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC1719'><span class="cm">     * @private</span>&#x000A;</div><div class='line' id='LC1720'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC1721'>&#x000A;</div><div class='line' id='LC1722'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1723'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">_updateDateRanges</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1724'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">_updateDateRanges</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1725'>      <span class="kd">var</span> <span class="nx">STYLES</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">STYLES</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1726'>      <span class="kd">var</span> <span class="nx">CLS_PICKED</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">PICKED</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1727'>      <span class="kd">var</span> <span class="nx">CLS_PICKED_RANGE</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">PICKED_RANGE</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1728'>      <span class="kd">var</span> <span class="nx">DOM</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">DOM</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1729'>      <span class="kd">var</span> <span class="nx">hasClass</span> <span class="o">=</span> <span class="nx">DOM</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1730'>      <span class="kd">var</span> <span class="nx">removeClass</span> <span class="o">=</span> <span class="nx">DOM</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1731'>      <span class="kd">var</span> <span class="nx">addClass</span> <span class="o">=</span> <span class="nx">DOM</span><span class="p">.</span><span class="nx">addClass</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1732'>      <span class="kd">var</span> <span class="nx">elements</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getEls</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1733'>      <span class="kd">var</span> <span class="nx">$date</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">elements</span><span class="p">.</span><span class="nx">date</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1734'>      <span class="kd">var</span> <span class="nx">$dates</span> <span class="o">=</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">dates</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1735'>      <span class="kd">var</span> <span class="nx">$pickedDates</span> <span class="o">=</span> <span class="nx">$dates</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="dl">'</span><span class="s1">.</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">CLS_PICKED</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1736'>&#x000A;</div><div class='line' id='LC1737'>      <span class="k">switch</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">picked</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1738'>        <span class="k">case</span> <span class="mi">1</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC1739'>          <span class="c1">// 移除之前的选中样式</span>&#x000A;</div><div class='line' id='LC1740'>          <span class="nx">$pickedDates</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">$picked</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1741'>            <span class="nx">removeClass</span><span class="p">(</span><span class="nx">$picked</span><span class="p">,</span> <span class="nx">CLS_PICKED</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1742'>&#x000A;</div><div class='line' id='LC1743'>            <span class="k">if</span> <span class="p">(</span><span class="nx">hasClass</span><span class="p">(</span><span class="nx">$picked</span><span class="p">,</span> <span class="nx">CLS_PICKED_RANGE</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1744'>              <span class="nx">removeClass</span><span class="p">(</span><span class="nx">$picked</span><span class="p">,</span> <span class="nx">CLS_PICKED_RANGE</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1745'>            <span class="p">}</span>&#x000A;</div><div class='line' id='LC1746'>          <span class="p">});</span> <span class="c1">// 绘制选中的第一个端点的选中样式</span>&#x000A;</div><div class='line' id='LC1747'>&#x000A;</div><div class='line' id='LC1748'>          <span class="nx">addClass</span><span class="p">(</span><span class="nx">$date</span><span class="p">,</span> <span class="nx">CLS_PICKED</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1749'>          <span class="k">break</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1750'>&#x000A;</div><div class='line' id='LC1751'>        <span class="k">case</span> <span class="mi">2</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC1752'>          <span class="kd">var</span> <span class="nx">ranges</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">getRanges</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">picked</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">picked</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>&#x000A;</div><div class='line' id='LC1753'>          <span class="nx">ranges</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">picked</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1754'>            <span class="kd">var</span> <span class="nx">$picked</span> <span class="o">=</span> <span class="nx">$dates</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">[data-date="</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">picked</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">"]</span><span class="dl">'</span><span class="p">);</span> <span class="c1">// 绘制中间区域的选中样式</span>&#x000A;</div><div class='line' id='LC1755'>&#x000A;</div><div class='line' id='LC1756'>            <span class="k">if</span> <span class="p">(</span><span class="nx">i</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">ranges</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1757'>              <span class="nx">addClass</span><span class="p">(</span><span class="nx">$picked</span><span class="p">,</span> <span class="nx">CLS_PICKED</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1758'>              <span class="nx">addClass</span><span class="p">(</span><span class="nx">$picked</span><span class="p">,</span> <span class="nx">CLS_PICKED_RANGE</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1759'>            <span class="p">}</span>&#x000A;</div><div class='line' id='LC1760'>          <span class="p">});</span> <span class="c1">// 绘制选中的第二个端点的选中样式</span>&#x000A;</div><div class='line' id='LC1761'>&#x000A;</div><div class='line' id='LC1762'>          <span class="nx">addClass</span><span class="p">(</span><span class="nx">$date</span><span class="p">,</span> <span class="nx">CLS_PICKED</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1763'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC1764'>&#x000A;</div><div class='line' id='LC1765'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1766'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC1767'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC1768'><span class="cm">     * 绘制选中的星期区间</span>&#x000A;</div><div class='line' id='LC1769'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC1770'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC1771'><span class="cm">     * @private</span>&#x000A;</div><div class='line' id='LC1772'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC1773'>&#x000A;</div><div class='line' id='LC1774'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1775'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">_updateWeekRanges</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1776'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">_updateWeekRanges</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1777'>      <span class="kd">var</span> <span class="nx">STYLES</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">STYLES</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1778'>      <span class="kd">var</span> <span class="nx">CLS_PICKED</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">PICKED</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1779'>      <span class="kd">var</span> <span class="nx">CLS_PICKED_RANGE</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">PICKED_RANGE</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1780'>      <span class="kd">var</span> <span class="nx">DOM</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">DOM</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1781'>      <span class="kd">var</span> <span class="nx">removeClass</span> <span class="o">=</span> <span class="nx">DOM</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1782'>      <span class="kd">var</span> <span class="nx">addClass</span> <span class="o">=</span> <span class="nx">DOM</span><span class="p">.</span><span class="nx">addClass</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1783'>      <span class="kd">var</span> <span class="nx">elements</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getEls</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1784'>      <span class="kd">var</span> <span class="nx">$dates</span> <span class="o">=</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">dates</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1785'>      <span class="kd">var</span> <span class="nx">$pickedDates</span> <span class="o">=</span> <span class="nx">$dates</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="dl">'</span><span class="s1">.</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">CLS_PICKED</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1786'>      <span class="kd">var</span> <span class="nx">picked</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getPicked</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1787'>      <span class="kd">var</span> <span class="nx">ranges</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">getWeekRanges</span><span class="p">(</span><span class="nx">picked</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span> <span class="c1">// 移除之前选中区域的样式</span>&#x000A;</div><div class='line' id='LC1788'>&#x000A;</div><div class='line' id='LC1789'>      <span class="nx">$pickedDates</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">$picked</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1790'>        <span class="nx">removeClass</span><span class="p">(</span><span class="nx">$picked</span><span class="p">,</span> <span class="nx">CLS_PICKED_RANGE</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1791'>        <span class="nx">removeClass</span><span class="p">(</span><span class="nx">$picked</span><span class="p">,</span> <span class="nx">CLS_PICKED</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1792'>      <span class="p">});</span> <span class="c1">// 设置新的选中区域的样式</span>&#x000A;</div><div class='line' id='LC1793'>&#x000A;</div><div class='line' id='LC1794'>      <span class="nx">ranges</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">picked</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1795'>        <span class="kd">var</span> <span class="nx">$picked</span> <span class="o">=</span> <span class="nx">$dates</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">[data-date="</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">picked</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">"]</span><span class="dl">'</span><span class="p">);</span> <span class="c1">// 绘制中间区域</span>&#x000A;</div><div class='line' id='LC1796'>&#x000A;</div><div class='line' id='LC1797'>        <span class="k">if</span> <span class="p">(</span><span class="nx">i</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">ranges</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1798'>          <span class="nx">addClass</span><span class="p">(</span><span class="nx">$picked</span><span class="p">,</span> <span class="nx">CLS_PICKED</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1799'>          <span class="nx">addClass</span><span class="p">(</span><span class="nx">$picked</span><span class="p">,</span> <span class="nx">CLS_PICKED_RANGE</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1800'>        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1801'>          <span class="c1">// 绘制两头的节点</span>&#x000A;</div><div class='line' id='LC1802'>          <span class="k">if</span> <span class="p">(</span><span class="nx">i</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">i</span> <span class="o">===</span> <span class="nx">ranges</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1803'>            <span class="nx">addClass</span><span class="p">(</span><span class="nx">$picked</span><span class="p">,</span> <span class="nx">CLS_PICKED</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1804'>          <span class="p">}</span>&#x000A;</div><div class='line' id='LC1805'>        <span class="p">}</span>&#x000A;</div><div class='line' id='LC1806'>      <span class="p">});</span>&#x000A;</div><div class='line' id='LC1807'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1808'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC1809'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC1810'><span class="cm">     * 绘制日历控件的月份信息</span>&#x000A;</div><div class='line' id='LC1811'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC1812'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC1813'><span class="cm">     * @private</span>&#x000A;</div><div class='line' id='LC1814'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC1815'>&#x000A;</div><div class='line' id='LC1816'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1817'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">_renderMonths</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1818'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">_renderMonths</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1819'>      <span class="kd">var</span> <span class="nx">_this2</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1820'>&#x000A;</div><div class='line' id='LC1821'>      <span class="kd">var</span> <span class="nx">SPACE</span> <span class="o">=</span> <span class="dl">'</span><span class="s1"> </span><span class="dl">'</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1822'>      <span class="kd">var</span> <span class="nx">STYLES</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">STYLES</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1823'>      <span class="kd">var</span> <span class="nx">CLS_CURRENT</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">CURRENT</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1824'>      <span class="kd">var</span> <span class="nx">CLS_PICKED</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">PICKED</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1825'>      <span class="kd">var</span> <span class="nx">CLS_MONTH</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">MONTH</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1826'>      <span class="kd">var</span> <span class="nx">CLS_MONTH_PREV</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">MONTH_PREV</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1827'>      <span class="kd">var</span> <span class="nx">CLS_MONTH_NEXT</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">MONTH_NEXT</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1828'>      <span class="kd">var</span> <span class="nx">CLS_TEXT</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">TEXT</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1829'>      <span class="kd">var</span> <span class="nx">MONTHS</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">MONTHS</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1830'>      <span class="kd">var</span> <span class="nx">DOM</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">DOM</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1831'>      <span class="kd">var</span> <span class="nx">createElement</span> <span class="o">=</span> <span class="nx">DOM</span><span class="p">.</span><span class="nx">createElement</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1832'>      <span class="kd">var</span> <span class="nx">fragment</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createDocumentFragment</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1833'>      <span class="kd">var</span> <span class="nx">elements</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getEls</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1834'>      <span class="kd">var</span> <span class="nx">year</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getYear</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1835'>      <span class="kd">var</span> <span class="nx">today</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">getToday</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1836'>      <span class="nx">MONTHS</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">MONTH</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1837'>        <span class="kd">var</span> <span class="nx">pickedDate</span> <span class="o">=</span> <span class="nx">_this2</span><span class="p">.</span><span class="nx">getDate</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1838'>&#x000A;</div><div class='line' id='LC1839'>        <span class="kd">var</span> <span class="nx">className</span> <span class="o">=</span> <span class="nx">CLS_MONTH</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1840'>        <span class="kd">var</span> <span class="nx">$month</span><span class="p">;</span> <span class="c1">// 去年的月份</span>&#x000A;</div><div class='line' id='LC1841'>&#x000A;</div><div class='line' id='LC1842'>        <span class="k">if</span> <span class="p">(</span><span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1843'>          <span class="nx">className</span> <span class="o">+=</span> <span class="nx">SPACE</span> <span class="o">+</span> <span class="nx">CLS_MONTH_PREV</span><span class="p">;</span> <span class="c1">// 判断是否被选中了</span>&#x000A;</div><div class='line' id='LC1844'>&#x000A;</div><div class='line' id='LC1845'>          <span class="k">if</span> <span class="p">(</span><span class="nx">year</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">===</span> <span class="nx">pickedDate</span><span class="p">.</span><span class="nx">year</span> <span class="o">&amp;&amp;</span> <span class="nx">MONTH</span> <span class="o">===</span> <span class="nx">pickedDate</span><span class="p">.</span><span class="nx">month</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1846'>            <span class="nx">className</span> <span class="o">+=</span> <span class="nx">SPACE</span> <span class="o">+</span> <span class="nx">CLS_PICKED</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1847'>          <span class="p">}</span> <span class="c1">// 创建月份的 DOM 节点</span>&#x000A;</div><div class='line' id='LC1848'>&#x000A;</div><div class='line' id='LC1849'>&#x000A;</div><div class='line' id='LC1850'>          <span class="nx">$month</span> <span class="o">=</span> <span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1851'>            <span class="na">className</span><span class="p">:</span> <span class="nx">className</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1852'>            <span class="dl">'</span><span class="s1">data-month</span><span class="dl">'</span><span class="p">:</span> <span class="nx">year</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">-</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">MONTH</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">-1</span><span class="dl">'</span>&#x000A;</div><div class='line' id='LC1853'>          <span class="p">},</span> <span class="p">[</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">span</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1854'>            <span class="na">className</span><span class="p">:</span> <span class="nx">CLS_TEXT</span>&#x000A;</div><div class='line' id='LC1855'>          <span class="p">},</span> <span class="p">[</span><span class="nx">MONTH</span><span class="p">])]);</span>&#x000A;</div><div class='line' id='LC1856'>        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1857'>          <span class="c1">// 今年的月份</span>&#x000A;</div><div class='line' id='LC1858'>          <span class="k">if</span> <span class="p">(</span><span class="nx">i</span> <span class="o">&gt;=</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="mi">13</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1859'>            <span class="c1">// 判断是否为今天</span>&#x000A;</div><div class='line' id='LC1860'>            <span class="k">if</span> <span class="p">(</span><span class="nx">year</span> <span class="o">===</span> <span class="nx">today</span><span class="p">.</span><span class="nx">year</span> <span class="o">&amp;&amp;</span> <span class="nx">MONTH</span> <span class="o">===</span> <span class="nx">today</span><span class="p">.</span><span class="nx">month</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1861'>              <span class="nx">className</span> <span class="o">+=</span> <span class="dl">'</span><span class="s1"> </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">CLS_CURRENT</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1862'>            <span class="p">}</span> <span class="c1">// 判断是否被选中了</span>&#x000A;</div><div class='line' id='LC1863'>&#x000A;</div><div class='line' id='LC1864'>&#x000A;</div><div class='line' id='LC1865'>            <span class="k">if</span> <span class="p">(</span><span class="nx">year</span> <span class="o">===</span> <span class="nx">pickedDate</span><span class="p">.</span><span class="nx">year</span> <span class="o">&amp;&amp;</span> <span class="nx">MONTH</span> <span class="o">===</span> <span class="nx">pickedDate</span><span class="p">.</span><span class="nx">month</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1866'>              <span class="nx">className</span> <span class="o">+=</span> <span class="nx">SPACE</span> <span class="o">+</span> <span class="nx">CLS_PICKED</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1867'>            <span class="p">}</span> <span class="c1">// 创建月份的 DOM 节点</span>&#x000A;</div><div class='line' id='LC1868'>&#x000A;</div><div class='line' id='LC1869'>&#x000A;</div><div class='line' id='LC1870'>            <span class="nx">$month</span> <span class="o">=</span> <span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1871'>              <span class="na">className</span><span class="p">:</span> <span class="nx">className</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1872'>              <span class="dl">'</span><span class="s1">data-month</span><span class="dl">'</span><span class="p">:</span> <span class="nx">year</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">-</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">MONTH</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">-1</span><span class="dl">'</span>&#x000A;</div><div class='line' id='LC1873'>            <span class="p">},</span> <span class="p">[</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">span</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1874'>              <span class="na">className</span><span class="p">:</span> <span class="nx">CLS_TEXT</span>&#x000A;</div><div class='line' id='LC1875'>            <span class="p">},</span> <span class="p">[</span><span class="nx">year</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">-</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">MONTH</span><span class="p">])]);</span>&#x000A;</div><div class='line' id='LC1876'>          <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1877'>            <span class="c1">// 明年的月份</span>&#x000A;</div><div class='line' id='LC1878'>            <span class="k">if</span> <span class="p">(</span><span class="nx">i</span> <span class="o">&gt;</span> <span class="mi">13</span> <span class="o">&amp;&amp;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="mi">15</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1879'>              <span class="nx">className</span> <span class="o">+=</span> <span class="nx">SPACE</span> <span class="o">+</span> <span class="nx">CLS_MONTH_NEXT</span><span class="p">;</span> <span class="c1">// 判断是否被选中了</span>&#x000A;</div><div class='line' id='LC1880'>&#x000A;</div><div class='line' id='LC1881'>              <span class="k">if</span> <span class="p">(</span><span class="nx">year</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">===</span> <span class="nx">pickedDate</span><span class="p">.</span><span class="nx">year</span> <span class="o">&amp;&amp;</span> <span class="nx">MONTH</span> <span class="o">===</span> <span class="nx">pickedDate</span><span class="p">.</span><span class="nx">month</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1882'>                <span class="nx">className</span> <span class="o">+=</span> <span class="nx">SPACE</span> <span class="o">+</span> <span class="nx">CLS_PICKED</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1883'>              <span class="p">}</span> <span class="c1">// 创建月份的 DOM 节点</span>&#x000A;</div><div class='line' id='LC1884'>&#x000A;</div><div class='line' id='LC1885'>&#x000A;</div><div class='line' id='LC1886'>              <span class="nx">$month</span> <span class="o">=</span> <span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1887'>                <span class="na">className</span><span class="p">:</span> <span class="nx">className</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1888'>                <span class="dl">'</span><span class="s1">data-month</span><span class="dl">'</span><span class="p">:</span> <span class="nx">year</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">-</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">MONTH</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">-1</span><span class="dl">'</span>&#x000A;</div><div class='line' id='LC1889'>              <span class="p">},</span> <span class="p">[</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">span</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1890'>                <span class="na">className</span><span class="p">:</span> <span class="nx">CLS_TEXT</span>&#x000A;</div><div class='line' id='LC1891'>              <span class="p">},</span> <span class="p">[</span><span class="nx">MONTH</span><span class="p">])]);</span>&#x000A;</div><div class='line' id='LC1892'>            <span class="p">}</span>&#x000A;</div><div class='line' id='LC1893'>          <span class="p">}</span>&#x000A;</div><div class='line' id='LC1894'>        <span class="p">}</span> <span class="c1">// 将所有月份 DOM 节点缓存到文档碎片中</span>&#x000A;</div><div class='line' id='LC1895'>&#x000A;</div><div class='line' id='LC1896'>&#x000A;</div><div class='line' id='LC1897'>        <span class="nx">fragment</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">$month</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1898'>      <span class="p">});</span>&#x000A;</div><div class='line' id='LC1899'>      <span class="nx">elements</span><span class="p">.</span><span class="nx">months</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">fragment</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1900'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1901'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC1902'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC1903'><span class="cm">     * 重绘日历控件的月份信息</span>&#x000A;</div><div class='line' id='LC1904'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC1905'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC1906'><span class="cm">     * @private</span>&#x000A;</div><div class='line' id='LC1907'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC1908'>&#x000A;</div><div class='line' id='LC1909'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1910'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">_repaintMonths</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1911'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">_repaintMonths</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1912'>      <span class="kd">var</span> <span class="nx">CLS_HIDDEN</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">STYLES</span><span class="dl">'</span><span class="p">).</span><span class="nx">HIDDEN</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1913'>      <span class="kd">var</span> <span class="nx">DOM</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">DOM</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1914'>      <span class="kd">var</span> <span class="nx">$months</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getEls</span><span class="p">().</span><span class="nx">months</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1915'>      <span class="nx">DOM</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">$months</span><span class="p">,</span> <span class="nx">CLS_HIDDEN</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1916'>      <span class="nx">$months</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="dl">''</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1917'>      <span class="nx">DOM</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">$months</span><span class="p">,</span> <span class="nx">CLS_HIDDEN</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1918'>&#x000A;</div><div class='line' id='LC1919'>      <span class="k">this</span><span class="p">.</span><span class="nx">_renderMonths</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1920'>&#x000A;</div><div class='line' id='LC1921'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1922'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC1923'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC1924'><span class="cm">     * 绘制日历控件的年份信息</span>&#x000A;</div><div class='line' id='LC1925'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC1926'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC1927'><span class="cm">     * @private</span>&#x000A;</div><div class='line' id='LC1928'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC1929'>&#x000A;</div><div class='line' id='LC1930'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1931'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">_renderYears</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1932'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">_renderYears</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1933'>      <span class="kd">var</span> <span class="nx">years</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getYears</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1934'>      <span class="kd">var</span> <span class="nx">yearsStart</span> <span class="o">=</span> <span class="nx">years</span><span class="p">.</span><span class="nx">start</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1935'>      <span class="kd">var</span> <span class="nx">yearsEnd</span> <span class="o">=</span> <span class="nx">years</span><span class="p">.</span><span class="nx">end</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1936'>      <span class="kd">var</span> <span class="nx">prevStartYear</span> <span class="o">=</span> <span class="nx">yearsStart</span> <span class="o">-</span> <span class="mi">3</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1937'>      <span class="kd">var</span> <span class="nx">prevEndYear</span> <span class="o">=</span> <span class="nx">yearsStart</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1938'>      <span class="kd">var</span> <span class="nx">nextStartYear</span> <span class="o">=</span> <span class="nx">yearsEnd</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1939'>      <span class="kd">var</span> <span class="nx">nextEndYear</span> <span class="o">=</span> <span class="nx">yearsEnd</span> <span class="o">+</span> <span class="mi">3</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1940'>      <span class="kd">var</span> <span class="nx">fragment</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createDocumentFragment</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1941'>      <span class="nx">fragment</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_getYearsFragment</span><span class="p">({</span>&#x000A;</div><div class='line' id='LC1942'>        <span class="na">start</span><span class="p">:</span> <span class="nx">prevStartYear</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1943'>        <span class="na">end</span><span class="p">:</span> <span class="nx">prevEndYear</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1944'>        <span class="na">isPrev</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1945'>        <span class="na">isNext</span><span class="p">:</span> <span class="kc">false</span>&#x000A;</div><div class='line' id='LC1946'>      <span class="p">}));</span>&#x000A;</div><div class='line' id='LC1947'>      <span class="nx">fragment</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_getYearsFragment</span><span class="p">({</span>&#x000A;</div><div class='line' id='LC1948'>        <span class="na">start</span><span class="p">:</span> <span class="nx">yearsStart</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1949'>        <span class="na">end</span><span class="p">:</span> <span class="nx">yearsEnd</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1950'>        <span class="na">isPrev</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1951'>        <span class="na">isNext</span><span class="p">:</span> <span class="kc">false</span>&#x000A;</div><div class='line' id='LC1952'>      <span class="p">}));</span>&#x000A;</div><div class='line' id='LC1953'>      <span class="nx">fragment</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_getYearsFragment</span><span class="p">({</span>&#x000A;</div><div class='line' id='LC1954'>        <span class="na">start</span><span class="p">:</span> <span class="nx">nextStartYear</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1955'>        <span class="na">end</span><span class="p">:</span> <span class="nx">nextEndYear</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1956'>        <span class="na">isPrev</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1957'>        <span class="na">isNext</span><span class="p">:</span> <span class="kc">true</span>&#x000A;</div><div class='line' id='LC1958'>      <span class="p">}));</span>&#x000A;</div><div class='line' id='LC1959'>      <span class="k">this</span><span class="p">.</span><span class="nx">getEls</span><span class="p">().</span><span class="nx">years</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">fragment</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1960'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1961'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC1962'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC1963'><span class="cm">     * 重绘日历控件的年份信息</span>&#x000A;</div><div class='line' id='LC1964'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC1965'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC1966'><span class="cm">     * @private</span>&#x000A;</div><div class='line' id='LC1967'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC1968'>&#x000A;</div><div class='line' id='LC1969'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1970'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">_repaintYears</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1971'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">_repaintYears</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1972'>      <span class="kd">var</span> <span class="nx">CLS_HIDDEN</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">STYLES</span><span class="dl">'</span><span class="p">).</span><span class="nx">HIDDEN</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1973'>      <span class="kd">var</span> <span class="nx">DOM</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">DOM</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1974'>      <span class="kd">var</span> <span class="nx">$years</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getEls</span><span class="p">().</span><span class="nx">years</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1975'>      <span class="nx">DOM</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">$years</span><span class="p">,</span> <span class="nx">CLS_HIDDEN</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1976'>      <span class="nx">$years</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="dl">''</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1977'>      <span class="nx">DOM</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">$years</span><span class="p">,</span> <span class="nx">CLS_HIDDEN</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC1978'>&#x000A;</div><div class='line' id='LC1979'>      <span class="k">this</span><span class="p">.</span><span class="nx">_renderYears</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC1980'>&#x000A;</div><div class='line' id='LC1981'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC1982'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC1983'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC1984'><span class="cm">     * 获取绘制年份信息的文档碎片</span>&#x000A;</div><div class='line' id='LC1985'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC1986'><span class="cm">     * @param {Object} options - 参数对象</span>&#x000A;</div><div class='line' id='LC1987'><span class="cm">     * @param {Number} options.start - 开始年份</span>&#x000A;</div><div class='line' id='LC1988'><span class="cm">     * @param {Number} options.end - 结束年份</span>&#x000A;</div><div class='line' id='LC1989'><span class="cm">     * @param {Boolean} options.isPrev - 是否为上个年代的年份</span>&#x000A;</div><div class='line' id='LC1990'><span class="cm">     * @param {Boolean} options.isNext - 是否为下个年带的年份</span>&#x000A;</div><div class='line' id='LC1991'><span class="cm">     * @returns {DocumentFragment}</span>&#x000A;</div><div class='line' id='LC1992'><span class="cm">     * @private</span>&#x000A;</div><div class='line' id='LC1993'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC1994'>&#x000A;</div><div class='line' id='LC1995'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1996'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">_getYearsFragment</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1997'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">_getYearsFragment</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC1998'>      <span class="kd">var</span> <span class="nx">start</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">start</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC1999'>          <span class="nx">end</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">end</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2000'>          <span class="nx">isPrev</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">isPrev</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2001'>          <span class="nx">isNext</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">isNext</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2002'>      <span class="kd">var</span> <span class="nx">STYLES</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">STYLES</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2003'>      <span class="kd">var</span> <span class="nx">CLS_YEAR</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">YEAR</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2004'>      <span class="kd">var</span> <span class="nx">CLS_YEAR_PREV</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">YEAR_PREV</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2005'>      <span class="kd">var</span> <span class="nx">CLS_YEAR_NEXT</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">YEAR_NEXT</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2006'>      <span class="kd">var</span> <span class="nx">CLS_CURRENT</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">CURRENT</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2007'>      <span class="kd">var</span> <span class="nx">CLS_PICKED</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">PICKED</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2008'>      <span class="kd">var</span> <span class="nx">CLS_DISABLED</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">DISABLED</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2009'>      <span class="kd">var</span> <span class="nx">CLS_TEXT</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">TEXT</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2010'>      <span class="kd">var</span> <span class="nx">DOM</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">DOM</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2011'>      <span class="kd">var</span> <span class="nx">createElement</span> <span class="o">=</span> <span class="nx">DOM</span><span class="p">.</span><span class="nx">createElement</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2012'>      <span class="kd">var</span> <span class="nx">fragment</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createDocumentFragment</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC2013'>      <span class="kd">var</span> <span class="nx">elements</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getEls</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC2014'>      <span class="kd">var</span> <span class="nx">minYear</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">minYear</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2015'>      <span class="kd">var</span> <span class="nx">maxYear</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">maxYear</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2016'>      <span class="kd">var</span> <span class="nx">year</span> <span class="o">=</span> <span class="nx">start</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2017'>&#x000A;</div><div class='line' id='LC2018'>      <span class="k">for</span> <span class="p">(;</span> <span class="nx">year</span> <span class="o">&lt;=</span> <span class="nx">end</span><span class="p">;</span> <span class="nx">year</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2019'>        <span class="kd">var</span> <span class="nx">pickedDate</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getDate</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC2020'>        <span class="kd">var</span> <span class="nx">isCurrent</span> <span class="o">=</span> <span class="nx">year</span> <span class="o">===</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">getToday</span><span class="p">().</span><span class="nx">year</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2021'>        <span class="kd">var</span> <span class="nx">isPicked</span> <span class="o">=</span> <span class="nx">year</span> <span class="o">===</span> <span class="nx">pickedDate</span><span class="p">.</span><span class="nx">year</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2022'>        <span class="kd">var</span> <span class="nx">className</span> <span class="o">=</span> <span class="nx">CLS_YEAR</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2023'>        <span class="kd">var</span> <span class="nx">$year</span> <span class="o">=</span> <span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2024'>          <span class="dl">'</span><span class="s1">data-year</span><span class="dl">'</span><span class="p">:</span> <span class="nx">year</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">-1-1</span><span class="dl">'</span>&#x000A;</div><div class='line' id='LC2025'>        <span class="p">},</span> <span class="p">[</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">span</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2026'>          <span class="na">className</span><span class="p">:</span> <span class="nx">CLS_TEXT</span>&#x000A;</div><div class='line' id='LC2027'>        <span class="p">},</span> <span class="p">[</span><span class="nx">year</span><span class="p">])]);</span>&#x000A;</div><div class='line' id='LC2028'>&#x000A;</div><div class='line' id='LC2029'>        <span class="k">if</span> <span class="p">(</span><span class="nx">isPrev</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2030'>          <span class="nx">className</span> <span class="o">+=</span> <span class="dl">'</span><span class="s1"> </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">CLS_YEAR_PREV</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2031'>        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2032'>          <span class="k">if</span> <span class="p">(</span><span class="nx">isNext</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2033'>            <span class="nx">className</span> <span class="o">+=</span> <span class="dl">'</span><span class="s1"> </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">CLS_YEAR_NEXT</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2034'>          <span class="p">}</span>&#x000A;</div><div class='line' id='LC2035'>        <span class="p">}</span>&#x000A;</div><div class='line' id='LC2036'>&#x000A;</div><div class='line' id='LC2037'>        <span class="k">if</span> <span class="p">(</span><span class="nx">isCurrent</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2038'>          <span class="nx">className</span> <span class="o">+=</span> <span class="dl">'</span><span class="s1"> </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">CLS_CURRENT</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2039'>        <span class="p">}</span>&#x000A;</div><div class='line' id='LC2040'>&#x000A;</div><div class='line' id='LC2041'>        <span class="k">if</span> <span class="p">(</span><span class="nx">isPicked</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2042'>          <span class="nx">className</span> <span class="o">+=</span> <span class="dl">'</span><span class="s1"> </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">CLS_PICKED</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2043'>          <span class="nx">elements</span><span class="p">.</span><span class="nx">year</span> <span class="o">=</span> <span class="nx">$year</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2044'>        <span class="p">}</span>&#x000A;</div><div class='line' id='LC2045'>&#x000A;</div><div class='line' id='LC2046'>        <span class="k">if</span> <span class="p">(</span><span class="nx">year</span> <span class="o">&lt;</span> <span class="nx">minYear</span> <span class="o">||</span> <span class="nx">year</span> <span class="o">&gt;</span> <span class="nx">maxYear</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2047'>          <span class="nx">className</span> <span class="o">+=</span> <span class="dl">'</span><span class="s1"> </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">CLS_DISABLED</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2048'>        <span class="p">}</span>&#x000A;</div><div class='line' id='LC2049'>&#x000A;</div><div class='line' id='LC2050'>        <span class="nx">$year</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="nx">className</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2051'>        <span class="nx">fragment</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">$year</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2052'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC2053'>&#x000A;</div><div class='line' id='LC2054'>      <span class="k">return</span> <span class="nx">fragment</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2055'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC2056'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2057'><span class="cm">     * 绘制日历控件的页脚</span>&#x000A;</div><div class='line' id='LC2058'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC2059'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC2060'><span class="cm">     * @private</span>&#x000A;</div><div class='line' id='LC2061'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC2062'>&#x000A;</div><div class='line' id='LC2063'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2064'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">_renderFooter</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2065'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">_renderFooter</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2066'>      <span class="kd">var</span> <span class="nx">STYLES</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">STYLES</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2067'>      <span class="kd">var</span> <span class="nx">CLS_TEXT</span> <span class="o">=</span> <span class="nx">STYLES</span><span class="p">.</span><span class="nx">TEXT</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2068'>      <span class="kd">var</span> <span class="nx">elements</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getEls</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC2069'>      <span class="kd">var</span> <span class="nx">$today</span> <span class="o">=</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">today</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">.</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">CLS_TEXT</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2070'>      <span class="kd">var</span> <span class="nx">today</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">getToday</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC2071'>      <span class="kd">var</span> <span class="nx">timer</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2072'>&#x000A;</div><div class='line' id='LC2073'>      <span class="kd">var</span> <span class="nx">renderTime</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">renderTime</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2074'>        <span class="kd">var</span> <span class="nx">$time</span> <span class="o">=</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">time</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">.</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">CLS_TEXT</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2075'>        <span class="kd">var</span> <span class="nx">time</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC2076'>        <span class="kd">var</span> <span class="nx">hours</span> <span class="o">=</span> <span class="nx">time</span><span class="p">.</span><span class="nx">getHours</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC2077'>        <span class="kd">var</span> <span class="nx">minutes</span> <span class="o">=</span> <span class="nx">time</span><span class="p">.</span><span class="nx">getMinutes</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC2078'>        <span class="kd">var</span> <span class="nx">seconds</span> <span class="o">=</span> <span class="nx">time</span><span class="p">.</span><span class="nx">getSeconds</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC2079'>&#x000A;</div><div class='line' id='LC2080'>        <span class="k">if</span> <span class="p">(</span><span class="nx">timer</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2081'>          <span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">timer</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2082'>        <span class="p">}</span>&#x000A;</div><div class='line' id='LC2083'>&#x000A;</div><div class='line' id='LC2084'>        <span class="k">if</span> <span class="p">(</span><span class="nx">hours</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2085'>          <span class="nx">hours</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">0</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">hours</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2086'>        <span class="p">}</span>&#x000A;</div><div class='line' id='LC2087'>&#x000A;</div><div class='line' id='LC2088'>        <span class="k">if</span> <span class="p">(</span><span class="nx">minutes</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2089'>          <span class="nx">minutes</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">0</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">minutes</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2090'>        <span class="p">}</span>&#x000A;</div><div class='line' id='LC2091'>&#x000A;</div><div class='line' id='LC2092'>        <span class="k">if</span> <span class="p">(</span><span class="nx">seconds</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2093'>          <span class="nx">seconds</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">0</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">seconds</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2094'>        <span class="p">}</span>&#x000A;</div><div class='line' id='LC2095'>&#x000A;</div><div class='line' id='LC2096'>        <span class="nx">$time</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">hours</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">:</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">minutes</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">:</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">seconds</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2097'>        <span class="nx">timer</span> <span class="o">=</span> <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">renderTime</span><span class="p">,</span> <span class="mi">1000</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2098'>      <span class="p">};</span>&#x000A;</div><div class='line' id='LC2099'>&#x000A;</div><div class='line' id='LC2100'>      <span class="nx">$today</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">今天：</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">today</span><span class="p">.</span><span class="nx">text</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2101'>      <span class="nx">Calendar</span><span class="p">.</span><span class="nx">DOM</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="nx">$today</span><span class="p">,</span> <span class="dl">'</span><span class="s1">data-date</span><span class="dl">'</span><span class="p">,</span> <span class="nx">today</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2102'>&#x000A;</div><div class='line' id='LC2103'>      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">hasClock</span><span class="dl">'</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2104'>        <span class="nx">renderTime</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC2105'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC2106'>&#x000A;</div><div class='line' id='LC2107'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2108'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC2109'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2110'><span class="cm">     * 点击标题的事件处理器</span>&#x000A;</div><div class='line' id='LC2111'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC2112'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC2113'><span class="cm">     * @private</span>&#x000A;</div><div class='line' id='LC2114'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC2115'>&#x000A;</div><div class='line' id='LC2116'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2117'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">_titleClick</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2118'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">_titleClick</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2119'>      <span class="kd">var</span> <span class="nx">viewMode</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">viewMode</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2120'>      <span class="nx">viewMode</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2121'>&#x000A;</div><div class='line' id='LC2122'>      <span class="k">if</span> <span class="p">(</span><span class="nx">viewMode</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2123'>        <span class="nx">viewMode</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2124'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC2125'>&#x000A;</div><div class='line' id='LC2126'>      <span class="k">this</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="nx">viewMode</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2127'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2128'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC2129'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2130'><span class="cm">     * 点击向上翻页的事件处理器</span>&#x000A;</div><div class='line' id='LC2131'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC2132'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC2133'><span class="cm">     * @private</span>&#x000A;</div><div class='line' id='LC2134'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC2135'>&#x000A;</div><div class='line' id='LC2136'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2137'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">_prevClick</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2138'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">_prevClick</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2139'>      <span class="k">this</span><span class="p">.</span><span class="nx">prev</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC2140'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2141'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC2142'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2143'><span class="cm">     * 点击向下翻页的事件处理起</span>&#x000A;</div><div class='line' id='LC2144'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC2145'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC2146'><span class="cm">     * @private</span>&#x000A;</div><div class='line' id='LC2147'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC2148'>&#x000A;</div><div class='line' id='LC2149'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2150'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">_nextClick</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2151'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">_nextClick</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2152'>      <span class="k">this</span><span class="p">.</span><span class="nx">next</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC2153'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2154'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC2155'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2156'><span class="cm">     * 点击日期的事件处理器</span>&#x000A;</div><div class='line' id='LC2157'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC2158'><span class="cm">     * @param {Event} evt - 事件对象</span>&#x000A;</div><div class='line' id='LC2159'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC2160'><span class="cm">     * @private</span>&#x000A;</div><div class='line' id='LC2161'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC2162'>&#x000A;</div><div class='line' id='LC2163'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2164'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">_dateClick</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2165'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">_dateClick</span><span class="p">(</span><span class="nx">evt</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2166'>      <span class="kd">var</span> <span class="nx">$el</span> <span class="o">=</span> <span class="nx">evt</span><span class="p">.</span><span class="nx">delegateTarget</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2167'>      <span class="kd">var</span> <span class="nx">time</span> <span class="o">=</span> <span class="nx">$el</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">data-date</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2168'>      <span class="kd">var</span> <span class="nx">picked</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2169'>      <span class="k">this</span><span class="p">.</span><span class="nx">pickDate</span><span class="p">(</span><span class="nx">$el</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2170'>      <span class="nx">picked</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getPicked</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC2171'>      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">------------- _dateClick -------------</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2172'>&#x000A;</div><div class='line' id='LC2173'>      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">pickMode</span><span class="dl">'</span><span class="p">)</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">single</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2174'>        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">time</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2175'>      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2176'>        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">picked</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2177'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC2178'>&#x000A;</div><div class='line' id='LC2179'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2180'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC2181'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2182'><span class="cm">     * 点击月份的事件处理器</span>&#x000A;</div><div class='line' id='LC2183'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC2184'><span class="cm">     * @param {Event} evt - 事件对象</span>&#x000A;</div><div class='line' id='LC2185'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC2186'><span class="cm">     * @private</span>&#x000A;</div><div class='line' id='LC2187'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC2188'>&#x000A;</div><div class='line' id='LC2189'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2190'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">_monthClick</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2191'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">_monthClick</span><span class="p">(</span><span class="nx">evt</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2192'>      <span class="kd">var</span> <span class="nx">$month</span> <span class="o">=</span> <span class="nx">evt</span><span class="p">.</span><span class="nx">delegateTarget</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2193'>      <span class="kd">var</span> <span class="nx">time</span> <span class="o">=</span> <span class="nx">$month</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">data-month</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2194'>      <span class="k">this</span><span class="p">.</span><span class="nx">pickMonth</span><span class="p">(</span><span class="nx">$month</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2195'>      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">------------- _monthClick -------------</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2196'>      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">time</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2197'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2198'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC2199'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2200'><span class="cm">     * 点击年份的事件处理器</span>&#x000A;</div><div class='line' id='LC2201'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC2202'><span class="cm">     * @param {Event} evt - 事件对象</span>&#x000A;</div><div class='line' id='LC2203'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC2204'><span class="cm">     * @private</span>&#x000A;</div><div class='line' id='LC2205'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC2206'>&#x000A;</div><div class='line' id='LC2207'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2208'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">_yearClick</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2209'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">_yearClick</span><span class="p">(</span><span class="nx">evt</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2210'>      <span class="kd">var</span> <span class="nx">$el</span> <span class="o">=</span> <span class="nx">evt</span><span class="p">.</span><span class="nx">delegateTarget</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2211'>      <span class="kd">var</span> <span class="nx">time</span> <span class="o">=</span> <span class="nx">$el</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">data-year</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2212'>      <span class="k">this</span><span class="p">.</span><span class="nx">pickYear</span><span class="p">(</span><span class="nx">$el</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2213'>      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">------------- _yearClick -------------</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2214'>      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">time</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2215'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2216'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC2217'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2218'><span class="cm">     * 点击今天的事件处理器</span>&#x000A;</div><div class='line' id='LC2219'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC2220'><span class="cm">     * @returns {Calendar}</span>&#x000A;</div><div class='line' id='LC2221'><span class="cm">     * @private</span>&#x000A;</div><div class='line' id='LC2222'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC2223'>&#x000A;</div><div class='line' id='LC2224'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2225'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">_todayClick</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2226'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">_todayClick</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2227'>      <span class="kd">var</span> <span class="nx">elements</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getEls</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC2228'>      <span class="kd">var</span> <span class="nx">time</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">getToday</span><span class="p">().</span><span class="nx">text</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2229'>      <span class="k">this</span><span class="p">.</span><span class="nx">pickToday</span><span class="p">();</span> <span class="c1">// 触发日期选择逻辑</span>&#x000A;</div><div class='line' id='LC2230'>&#x000A;</div><div class='line' id='LC2231'>      <span class="k">this</span><span class="p">.</span><span class="nx">pickDate</span><span class="p">(</span><span class="nx">elements</span><span class="p">.</span><span class="nx">dates</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">[data-date="</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">time</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">"]</span><span class="dl">'</span><span class="p">));</span>&#x000A;</div><div class='line' id='LC2232'>      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">------------- _todayClick -------------</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2233'>      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">time</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2234'>      <span class="k">return</span> <span class="k">this</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2235'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC2236'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2237'><span class="cm">     * 获得年份信息</span>&#x000A;</div><div class='line' id='LC2238'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC2239'><span class="cm">     * @param {String|Number} [val] - 表示年份的字符串或者数字（默认值：今年）</span>&#x000A;</div><div class='line' id='LC2240'><span class="cm">     * @returns {{value: (Number|{value, text, fullText}), text: string, fullText: string}}</span>&#x000A;</div><div class='line' id='LC2241'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC2242'>&#x000A;</div><div class='line' id='LC2243'>  <span class="p">}],</span> <span class="p">[{</span>&#x000A;</div><div class='line' id='LC2244'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">getYear</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2245'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">getYear</span><span class="p">(</span><span class="nx">val</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2246'>      <span class="kd">var</span> <span class="nx">time</span> <span class="o">=</span> <span class="o">!</span><span class="nx">val</span> <span class="p">?</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">()</span> <span class="p">:</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">Calendar</span><span class="p">.</span><span class="nx">toAllSupported</span><span class="p">(</span><span class="nx">val</span><span class="p">));</span>&#x000A;</div><div class='line' id='LC2247'>      <span class="kd">var</span> <span class="nx">year</span> <span class="o">=</span> <span class="nx">time</span><span class="p">.</span><span class="nx">getFullYear</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC2248'>      <span class="k">return</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2249'>        <span class="na">value</span><span class="p">:</span> <span class="nx">year</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2250'>        <span class="na">text</span><span class="p">:</span> <span class="nx">year</span><span class="p">.</span><span class="nx">toString</span><span class="p">(),</span>&#x000A;</div><div class='line' id='LC2251'>        <span class="na">fullText</span><span class="p">:</span> <span class="nx">year</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">年</span><span class="dl">'</span>&#x000A;</div><div class='line' id='LC2252'>      <span class="p">};</span>&#x000A;</div><div class='line' id='LC2253'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC2254'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2255'><span class="cm">     * 获取月份信息</span>&#x000A;</div><div class='line' id='LC2256'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC2257'><span class="cm">     * @param {String|Number} [val] - 表示月份的字符串或者数字（默认值：本月）</span>&#x000A;</div><div class='line' id='LC2258'><span class="cm">     * @returns {{value: number, text: string, fullText: string}}</span>&#x000A;</div><div class='line' id='LC2259'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC2260'>&#x000A;</div><div class='line' id='LC2261'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2262'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">getMonth</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2263'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">getMonth</span><span class="p">(</span><span class="nx">val</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2264'>      <span class="kd">var</span> <span class="nx">time</span> <span class="o">=</span> <span class="o">!</span><span class="nx">val</span> <span class="p">?</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">()</span> <span class="p">:</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">Calendar</span><span class="p">.</span><span class="nx">toAllSupported</span><span class="p">(</span><span class="nx">val</span><span class="p">));</span>&#x000A;</div><div class='line' id='LC2265'>      <span class="kd">var</span> <span class="nx">year</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">getYear</span><span class="p">(</span><span class="nx">val</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2266'>      <span class="kd">var</span> <span class="nx">month</span> <span class="o">=</span> <span class="nx">time</span><span class="p">.</span><span class="nx">getMonth</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC2267'>      <span class="nx">month</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2268'>      <span class="k">return</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2269'>        <span class="na">value</span><span class="p">:</span> <span class="nx">month</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2270'>        <span class="na">text</span><span class="p">:</span> <span class="nx">year</span><span class="p">.</span><span class="nx">text</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">-</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">month</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2271'>        <span class="na">fullText</span><span class="p">:</span> <span class="nx">year</span><span class="p">.</span><span class="nx">fullText</span> <span class="o">+</span> <span class="nx">month</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">月</span><span class="dl">'</span>&#x000A;</div><div class='line' id='LC2272'>      <span class="p">};</span>&#x000A;</div><div class='line' id='LC2273'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC2274'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2275'><span class="cm">     * 获取日期信息</span>&#x000A;</div><div class='line' id='LC2276'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC2277'><span class="cm">     * @param {String|Number} [val] - 表示日期的字符串或者数字（默认值：今天）</span>&#x000A;</div><div class='line' id='LC2278'><span class="cm">     * @returns {{year: (Number|{value, text}), month: number, date: number, day: number, text: string, fullText: string}}</span>&#x000A;</div><div class='line' id='LC2279'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC2280'>&#x000A;</div><div class='line' id='LC2281'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2282'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">getDate</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2283'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">getDate</span><span class="p">(</span><span class="nx">val</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2284'>      <span class="kd">var</span> <span class="nx">time</span> <span class="o">=</span> <span class="o">!</span><span class="nx">val</span> <span class="p">?</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">()</span> <span class="p">:</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">Calendar</span><span class="p">.</span><span class="nx">toAllSupported</span><span class="p">(</span><span class="nx">val</span><span class="p">));</span>&#x000A;</div><div class='line' id='LC2285'>      <span class="kd">var</span> <span class="nx">year</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">getYear</span><span class="p">(</span><span class="nx">val</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2286'>      <span class="kd">var</span> <span class="nx">month</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">getMonth</span><span class="p">(</span><span class="nx">val</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2287'>      <span class="kd">var</span> <span class="nx">date</span> <span class="o">=</span> <span class="nx">time</span><span class="p">.</span><span class="nx">getDate</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC2288'>      <span class="kd">var</span> <span class="nx">day</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">getDay</span><span class="p">(</span><span class="nx">val</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2289'>      <span class="kd">var</span> <span class="nx">fullDate</span> <span class="o">=</span> <span class="nx">year</span><span class="p">.</span><span class="nx">value</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">-</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">month</span><span class="p">.</span><span class="nx">value</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">-</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">date</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2290'>      <span class="kd">var</span> <span class="nx">text</span> <span class="o">=</span> <span class="nx">month</span><span class="p">.</span><span class="nx">fullText</span> <span class="o">+</span> <span class="nx">date</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">日</span><span class="dl">'</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2291'>      <span class="k">return</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2292'>        <span class="na">year</span><span class="p">:</span> <span class="nx">year</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2293'>        <span class="na">month</span><span class="p">:</span> <span class="nx">month</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2294'>        <span class="na">date</span><span class="p">:</span> <span class="nx">date</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2295'>        <span class="na">day</span><span class="p">:</span> <span class="nx">day</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2296'>        <span class="na">text</span><span class="p">:</span> <span class="nx">fullDate</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2297'>        <span class="na">fullText</span><span class="p">:</span> <span class="nx">text</span> <span class="o">+</span> <span class="dl">'</span><span class="s1"> </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">day</span><span class="p">.</span><span class="nx">fullText</span>&#x000A;</div><div class='line' id='LC2298'>      <span class="p">};</span>&#x000A;</div><div class='line' id='LC2299'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC2300'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2301'><span class="cm">     * 获取星期信息</span>&#x000A;</div><div class='line' id='LC2302'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC2303'><span class="cm">     * @param {String|Number} [val] - 表示日期的字符串或者数字（默认值：今天）</span>&#x000A;</div><div class='line' id='LC2304'><span class="cm">     * @returns {{value: number, text: string, fullText: string}}</span>&#x000A;</div><div class='line' id='LC2305'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC2306'>&#x000A;</div><div class='line' id='LC2307'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2308'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">getDay</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2309'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">getDay</span><span class="p">(</span><span class="nx">val</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2310'>      <span class="kd">var</span> <span class="nx">time</span> <span class="o">=</span> <span class="o">!</span><span class="nx">val</span> <span class="p">?</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">()</span> <span class="p">:</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">Calendar</span><span class="p">.</span><span class="nx">toAllSupported</span><span class="p">(</span><span class="nx">val</span><span class="p">));</span>&#x000A;</div><div class='line' id='LC2311'>      <span class="kd">var</span> <span class="nx">day</span> <span class="o">=</span> <span class="nx">time</span><span class="p">.</span><span class="nx">getDay</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC2312'>      <span class="kd">var</span> <span class="nx">text</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">DAYS</span><span class="p">[</span><span class="nx">day</span><span class="p">];</span>&#x000A;</div><div class='line' id='LC2313'>      <span class="k">return</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2314'>        <span class="na">value</span><span class="p">:</span> <span class="nx">day</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2315'>        <span class="na">text</span><span class="p">:</span> <span class="nx">text</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2316'>        <span class="na">fullText</span><span class="p">:</span> <span class="dl">'</span><span class="s1">星期</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">text</span>&#x000A;</div><div class='line' id='LC2317'>      <span class="p">};</span>&#x000A;</div><div class='line' id='LC2318'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC2319'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2320'><span class="cm">     * 获取今天的日期信息</span>&#x000A;</div><div class='line' id='LC2321'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC2322'><span class="cm">     * @returns {{year: (Number|{value, text}), month: number, date: number, day: number, text: string, fullText: string}}</span>&#x000A;</div><div class='line' id='LC2323'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC2324'>&#x000A;</div><div class='line' id='LC2325'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2326'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">getToday</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2327'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">getToday</span><span class="p">()</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2328'>      <span class="k">return</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">getDate</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC2329'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC2330'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2331'><span class="cm">     * 获取年代信息</span>&#x000A;</div><div class='line' id='LC2332'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC2333'><span class="cm">     * @param {String|Number} [val] - 表示年份的字符串或者数字（默认值：今年）</span>&#x000A;</div><div class='line' id='LC2334'><span class="cm">     * @returns {{start: (number|Number|{value, text}), end: (*|number)}}</span>&#x000A;</div><div class='line' id='LC2335'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC2336'>&#x000A;</div><div class='line' id='LC2337'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2338'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">getYears</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2339'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">getYears</span><span class="p">(</span><span class="nx">val</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2340'>      <span class="kd">var</span> <span class="nx">year</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">getYear</span><span class="p">(</span><span class="nx">val</span><span class="p">).</span><span class="nx">value</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2341'>      <span class="kd">var</span> <span class="nx">numbers</span> <span class="o">=</span> <span class="nx">year</span><span class="p">.</span><span class="nx">toString</span><span class="p">().</span><span class="nx">split</span><span class="p">(</span><span class="dl">''</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2342'>      <span class="kd">var</span> <span class="nx">lastNumber</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">numbers</span><span class="p">[</span><span class="nx">numbers</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="mi">10</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2343'>      <span class="kd">var</span> <span class="nx">yearsStart</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2344'>      <span class="kd">var</span> <span class="nx">yearsEnd</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2345'>&#x000A;</div><div class='line' id='LC2346'>      <span class="k">if</span> <span class="p">(</span><span class="nx">lastNumber</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2347'>        <span class="nx">yearsStart</span> <span class="o">=</span> <span class="nx">year</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2348'>        <span class="nx">yearsEnd</span> <span class="o">=</span> <span class="nx">year</span> <span class="o">+</span> <span class="mi">9</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2349'>      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2350'>        <span class="k">if</span> <span class="p">(</span><span class="nx">lastNumber</span> <span class="o">===</span> <span class="mi">9</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2351'>          <span class="nx">yearsStart</span> <span class="o">=</span> <span class="nx">year</span> <span class="o">-</span> <span class="mi">9</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2352'>          <span class="nx">yearsEnd</span> <span class="o">=</span> <span class="nx">year</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2353'>        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2354'>          <span class="nx">yearsStart</span> <span class="o">=</span> <span class="nx">year</span> <span class="o">-</span> <span class="nx">lastNumber</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2355'>          <span class="nx">yearsEnd</span> <span class="o">=</span> <span class="nx">year</span> <span class="o">+</span> <span class="p">(</span><span class="mi">9</span> <span class="o">-</span> <span class="nx">lastNumber</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2356'>        <span class="p">}</span>&#x000A;</div><div class='line' id='LC2357'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC2358'>&#x000A;</div><div class='line' id='LC2359'>      <span class="k">return</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2360'>        <span class="na">start</span><span class="p">:</span> <span class="nx">yearsStart</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2361'>        <span class="na">end</span><span class="p">:</span> <span class="nx">yearsEnd</span>&#x000A;</div><div class='line' id='LC2362'>      <span class="p">};</span>&#x000A;</div><div class='line' id='LC2363'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC2364'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2365'><span class="cm">     * 获取日期所属的整个星期的日期区间信息</span>&#x000A;</div><div class='line' id='LC2366'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC2367'><span class="cm">     * @param {String} time - 表示日期的字符串</span>&#x000A;</div><div class='line' id='LC2368'><span class="cm">     * @returns {Array}</span>&#x000A;</div><div class='line' id='LC2369'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC2370'>&#x000A;</div><div class='line' id='LC2371'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2372'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">getWeekRanges</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2373'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">getWeekRanges</span><span class="p">(</span><span class="nx">time</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2374'>      <span class="kd">var</span> <span class="nx">DATES</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">DATES</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2375'>      <span class="kd">var</span> <span class="nx">isLeapYear</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">isLeapYear</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2376'>      <span class="kd">var</span> <span class="nx">day</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">getDay</span><span class="p">(</span><span class="nx">time</span><span class="p">).</span><span class="nx">value</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2377'>      <span class="kd">var</span> <span class="nx">begins</span> <span class="o">=</span> <span class="nx">time</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="dl">'</span><span class="s1">-</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2378'>      <span class="kd">var</span> <span class="nx">year</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">begins</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">10</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2379'>      <span class="kd">var</span> <span class="nx">month</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">begins</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">10</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2380'>      <span class="kd">var</span> <span class="nx">date</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">begins</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">10</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2381'>      <span class="kd">var</span> <span class="nx">days</span> <span class="o">=</span> <span class="nx">DATES</span><span class="p">[</span><span class="nx">month</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>&#x000A;</div><div class='line' id='LC2382'>      <span class="kd">var</span> <span class="nx">startYear</span> <span class="o">=</span> <span class="nx">year</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2383'>      <span class="kd">var</span> <span class="nx">startMonth</span> <span class="o">=</span> <span class="nx">month</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2384'>      <span class="kd">var</span> <span class="nx">startDate</span> <span class="o">=</span> <span class="nx">date</span> <span class="o">-</span> <span class="nx">day</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2385'>      <span class="kd">var</span> <span class="nx">endYear</span> <span class="o">=</span> <span class="nx">year</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2386'>      <span class="kd">var</span> <span class="nx">endMonth</span> <span class="o">=</span> <span class="nx">month</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2387'>      <span class="kd">var</span> <span class="nx">endDate</span> <span class="o">=</span> <span class="nx">date</span> <span class="o">+</span> <span class="p">(</span><span class="mi">6</span> <span class="o">-</span> <span class="nx">day</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2388'>      <span class="kd">var</span> <span class="nx">prevMonth</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// 闰年2月为29天，默认值为28天，所以需要+1天</span>&#x000A;</div><div class='line' id='LC2389'>&#x000A;</div><div class='line' id='LC2390'>      <span class="k">if</span> <span class="p">(</span><span class="nx">isLeapYear</span><span class="p">(</span><span class="nx">year</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">month</span> <span class="o">===</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2391'>        <span class="nx">days</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2392'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC2393'>&#x000A;</div><div class='line' id='LC2394'>      <span class="k">if</span> <span class="p">(</span><span class="nx">startDate</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2395'>        <span class="c1">// 上一个月</span>&#x000A;</div><div class='line' id='LC2396'>        <span class="nx">prevMonth</span> <span class="o">=</span> <span class="nx">month</span> <span class="o">-</span> <span class="mi">2</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2397'>        <span class="nx">startMonth</span> <span class="o">-=</span> <span class="mi">1</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2398'>&#x000A;</div><div class='line' id='LC2399'>        <span class="k">if</span> <span class="p">(</span><span class="nx">prevMonth</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2400'>          <span class="nx">startYear</span> <span class="o">-=</span> <span class="mi">1</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2401'>          <span class="nx">startMonth</span> <span class="o">=</span> <span class="mi">12</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2402'>          <span class="nx">startDate</span> <span class="o">=</span> <span class="nx">DATES</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">+</span> <span class="nx">startDate</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2403'>        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2404'>          <span class="c1">// 开始日期</span>&#x000A;</div><div class='line' id='LC2405'>          <span class="nx">startDate</span> <span class="o">=</span> <span class="nx">DATES</span><span class="p">[</span><span class="nx">prevMonth</span><span class="p">]</span> <span class="o">+</span> <span class="nx">startDate</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2406'>        <span class="p">}</span>&#x000A;</div><div class='line' id='LC2407'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC2408'>&#x000A;</div><div class='line' id='LC2409'>      <span class="k">if</span> <span class="p">(</span><span class="nx">endDate</span> <span class="o">&gt;</span> <span class="nx">days</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2410'>        <span class="nx">endMonth</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// 结束日期</span>&#x000A;</div><div class='line' id='LC2411'>&#x000A;</div><div class='line' id='LC2412'>        <span class="nx">endDate</span> <span class="o">=</span> <span class="nx">endDate</span> <span class="o">-</span> <span class="nx">days</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2413'>&#x000A;</div><div class='line' id='LC2414'>        <span class="k">if</span> <span class="p">(</span><span class="nx">prevMonth</span> <span class="o">&gt;</span> <span class="mi">11</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2415'>          <span class="nx">endYear</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2416'>          <span class="nx">endMonth</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2417'>        <span class="p">}</span>&#x000A;</div><div class='line' id='LC2418'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC2419'>&#x000A;</div><div class='line' id='LC2420'>      <span class="k">return</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">getRanges</span><span class="p">(</span><span class="nx">startYear</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">-</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">startMonth</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">-</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">startDate</span><span class="p">,</span> <span class="nx">endYear</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">-</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">endMonth</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">-</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">endDate</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2421'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC2422'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2423'><span class="cm">     * 获取两个日期之间的所有日期信息</span>&#x000A;</div><div class='line' id='LC2424'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC2425'><span class="cm">     * @param {String} begin - 表示日期的字符串</span>&#x000A;</div><div class='line' id='LC2426'><span class="cm">     * @param {String} end - 表示日期的字符串</span>&#x000A;</div><div class='line' id='LC2427'><span class="cm">     * @returns {Array}</span>&#x000A;</div><div class='line' id='LC2428'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC2429'>&#x000A;</div><div class='line' id='LC2430'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2431'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">getRanges</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2432'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">getRanges</span><span class="p">(</span><span class="nx">begin</span><span class="p">,</span> <span class="nx">end</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2433'>      <span class="kd">var</span> <span class="nx">ONE_DAY_TO_SECONDS</span> <span class="o">=</span> <span class="mi">24</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2434'>      <span class="kd">var</span> <span class="nx">ranges</span> <span class="o">=</span> <span class="p">[];</span>&#x000A;</div><div class='line' id='LC2435'>      <span class="kd">var</span> <span class="nx">begins</span> <span class="o">=</span> <span class="nx">begin</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="dl">'</span><span class="s1">-</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2436'>      <span class="kd">var</span> <span class="nx">ends</span> <span class="o">=</span> <span class="nx">end</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="dl">'</span><span class="s1">-</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2437'>      <span class="kd">var</span> <span class="nx">beginTime</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC2438'>      <span class="kd">var</span> <span class="nx">endTime</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC2439'>      <span class="kd">var</span> <span class="nx">beginNumber</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2440'>      <span class="kd">var</span> <span class="nx">endNumber</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2441'>      <span class="kd">var</span> <span class="nx">timeNumber</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2442'>      <span class="nx">beginTime</span><span class="p">.</span><span class="nx">setUTCFullYear</span><span class="p">(</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">begins</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">10</span><span class="p">),</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">begins</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">10</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">begins</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">10</span><span class="p">));</span>&#x000A;</div><div class='line' id='LC2443'>      <span class="nx">endTime</span><span class="p">.</span><span class="nx">setUTCFullYear</span><span class="p">(</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">ends</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">10</span><span class="p">),</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">ends</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">10</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">ends</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">10</span><span class="p">));</span>&#x000A;</div><div class='line' id='LC2444'>      <span class="nx">beginNumber</span> <span class="o">=</span> <span class="nx">beginTime</span><span class="p">.</span><span class="nx">getTime</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC2445'>      <span class="nx">endNumber</span> <span class="o">=</span> <span class="nx">endTime</span><span class="p">.</span><span class="nx">getTime</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC2446'>      <span class="nx">timeNumber</span> <span class="o">=</span> <span class="nx">beginNumber</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2447'>&#x000A;</div><div class='line' id='LC2448'>      <span class="k">for</span> <span class="p">(;</span> <span class="nx">timeNumber</span> <span class="o">&lt;=</span> <span class="nx">endNumber</span><span class="p">;</span> <span class="nx">timeNumber</span> <span class="o">+=</span> <span class="nx">ONE_DAY_TO_SECONDS</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2449'>        <span class="nx">ranges</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">Calendar</span><span class="p">.</span><span class="nx">getDate</span><span class="p">(</span><span class="nx">timeNumber</span><span class="p">).</span><span class="nx">text</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2450'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC2451'>&#x000A;</div><div class='line' id='LC2452'>      <span class="k">return</span> <span class="nx">ranges</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2453'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC2454'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2455'><span class="cm">     * 判断是否为闰年</span>&#x000A;</div><div class='line' id='LC2456'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC2457'><span class="cm">     * @param {Number} year - 年份数值</span>&#x000A;</div><div class='line' id='LC2458'><span class="cm">     * @returns {boolean}</span>&#x000A;</div><div class='line' id='LC2459'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC2460'>&#x000A;</div><div class='line' id='LC2461'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2462'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">isLeapYear</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2463'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">isLeapYear</span><span class="p">(</span><span class="nx">year</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2464'>      <span class="k">return</span> <span class="p">(</span><span class="nx">year</span> <span class="o">%</span> <span class="mi">4</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">year</span> <span class="o">%</span> <span class="mi">400</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">year</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">!==</span> <span class="mi">0</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2465'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC2466'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2467'><span class="cm">     * 判断是否为今天</span>&#x000A;</div><div class='line' id='LC2468'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC2469'><span class="cm">     * @param {String|Number} time - 表示日期的字符串或者数字</span>&#x000A;</div><div class='line' id='LC2470'><span class="cm">     * @returns {*}</span>&#x000A;</div><div class='line' id='LC2471'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC2472'>&#x000A;</div><div class='line' id='LC2473'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2474'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">isToday</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2475'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">isToday</span><span class="p">(</span><span class="nx">time</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2476'>      <span class="k">return</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">isDatesEqual</span><span class="p">(</span><span class="nx">time</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2477'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC2478'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2479'><span class="cm">     * 判断两个日期是否相等</span>&#x000A;</div><div class='line' id='LC2480'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC2481'><span class="cm">     * @param {String|Number} dateOne - 表示日期的字符串或者数字</span>&#x000A;</div><div class='line' id='LC2482'><span class="cm">     * @param {String|Number} [dateTwo] - 表示日期的字符串或者数字（默认值：今天）</span>&#x000A;</div><div class='line' id='LC2483'><span class="cm">     * @returns {boolean}</span>&#x000A;</div><div class='line' id='LC2484'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC2485'>&#x000A;</div><div class='line' id='LC2486'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2487'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">isDatesEqual</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2488'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">isDatesEqual</span><span class="p">(</span><span class="nx">dateOne</span><span class="p">,</span> <span class="nx">dateTwo</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2489'>      <span class="kd">var</span> <span class="nx">getDate</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">getDate</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2490'>      <span class="k">return</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">isEqual</span><span class="p">(</span><span class="nx">getDate</span><span class="p">(</span><span class="nx">dateOne</span><span class="p">).</span><span class="nx">text</span><span class="p">,</span> <span class="nx">getDate</span><span class="p">(</span><span class="nx">dateTwo</span><span class="p">).</span><span class="nx">text</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2491'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC2492'>    <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2493'><span class="cm">     * 判断两个时间是否相等</span>&#x000A;</div><div class='line' id='LC2494'><span class="cm">     * ========================================================================</span>&#x000A;</div><div class='line' id='LC2495'><span class="cm">     * @param {String|Number} timeOne - 表示日期的字符串或者数字</span>&#x000A;</div><div class='line' id='LC2496'><span class="cm">     * @param {String|Number} timeTwo - 表示日期的字符串或者数字</span>&#x000A;</div><div class='line' id='LC2497'><span class="cm">     * @returns {boolean}</span>&#x000A;</div><div class='line' id='LC2498'><span class="cm">     */</span>&#x000A;</div><div class='line' id='LC2499'>&#x000A;</div><div class='line' id='LC2500'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2501'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">isEqual</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2502'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">isEqual</span><span class="p">(</span><span class="nx">timeOne</span><span class="p">,</span> <span class="nx">timeTwo</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2503'>      <span class="kd">var</span> <span class="nx">toAllSupported</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">toAllSupported</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2504'>      <span class="k">return</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">toAllSupported</span><span class="p">(</span><span class="nx">timeOne</span><span class="p">)).</span><span class="nx">getTime</span><span class="p">()</span> <span class="o">===</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">toAllSupported</span><span class="p">(</span><span class="nx">timeTwo</span><span class="p">)).</span><span class="nx">getTime</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC2505'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC2506'>  <span class="p">},</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2507'>    <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">toAllSupported</span><span class="dl">"</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2508'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">toAllSupported</span><span class="p">(</span><span class="nx">time</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2509'>      <span class="kd">var</span> <span class="nx">Utils</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">Utils</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2510'>      <span class="kd">var</span> <span class="nx">date</span> <span class="o">=</span> <span class="p">[];</span>&#x000A;</div><div class='line' id='LC2511'>&#x000A;</div><div class='line' id='LC2512'>      <span class="k">if</span> <span class="p">(</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">isNumber</span><span class="p">(</span><span class="nx">time</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2513'>        <span class="k">return</span> <span class="nx">time</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2514'>      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2515'>        <span class="k">if</span> <span class="p">(</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">isString</span><span class="p">(</span><span class="nx">time</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2516'>          <span class="k">if</span> <span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="dl">'</span><span class="s1">-</span><span class="dl">'</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2517'>            <span class="nx">date</span> <span class="o">=</span> <span class="nx">time</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="dl">'</span><span class="s1">-</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2518'>          <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2519'>            <span class="k">if</span> <span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="dl">'</span><span class="s1">/</span><span class="dl">'</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2520'>              <span class="nx">date</span> <span class="o">=</span> <span class="nx">time</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="dl">'</span><span class="s1">/</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2521'>            <span class="p">}</span>&#x000A;</div><div class='line' id='LC2522'>          <span class="p">}</span>&#x000A;</div><div class='line' id='LC2523'>&#x000A;</div><div class='line' id='LC2524'>          <span class="k">if</span> <span class="p">(</span><span class="nx">date</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2525'>            <span class="nx">date</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="dl">'</span><span class="s1">1</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2526'>            <span class="nx">date</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="dl">'</span><span class="s1">1</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2527'>          <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2528'>            <span class="k">if</span> <span class="p">(</span><span class="nx">date</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2529'>              <span class="c1">// 例如：'2019-1'</span>&#x000A;</div><div class='line' id='LC2530'>              <span class="k">if</span> <span class="p">(</span><span class="nx">date</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2531'>                <span class="nx">date</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="dl">'</span><span class="s1">1</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2532'>              <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2533'>                <span class="c1">// 例如：'1-2019'</span>&#x000A;</div><div class='line' id='LC2534'>                <span class="k">if</span> <span class="p">(</span><span class="nx">data</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2535'>                  <span class="nx">date</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="dl">'</span><span class="s1">1</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2536'>                <span class="p">}</span>&#x000A;</div><div class='line' id='LC2537'>              <span class="p">}</span>&#x000A;</div><div class='line' id='LC2538'>            <span class="p">}</span>&#x000A;</div><div class='line' id='LC2539'>          <span class="p">}</span>&#x000A;</div><div class='line' id='LC2540'>&#x000A;</div><div class='line' id='LC2541'>          <span class="k">return</span> <span class="nx">date</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="dl">'</span><span class="s1">/</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2542'>        <span class="p">}</span>&#x000A;</div><div class='line' id='LC2543'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC2544'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC2545'>  <span class="p">}]);</span>&#x000A;</div><div class='line' id='LC2546'>&#x000A;</div><div class='line' id='LC2547'>  <span class="k">return</span> <span class="nx">Calendar</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2548'><span class="p">}();</span>&#x000A;</div><div class='line' id='LC2549'><span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2550'><span class="cm"> * 日历控件默认的配置信息</span>&#x000A;</div><div class='line' id='LC2551'><span class="cm"> * ========================================================================</span>&#x000A;</div><div class='line' id='LC2552'><span class="cm"> */</span>&#x000A;</div><div class='line' id='LC2553'>&#x000A;</div><div class='line' id='LC2554'>&#x000A;</div><div class='line' id='LC2555'><span class="nx">Calendar</span><span class="p">.</span><span class="nx">defaults</span> <span class="o">=</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2556'>  <span class="na">parent</span><span class="p">:</span> <span class="dl">'</span><span class="s1">calendar</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2557'>  <span class="na">time</span><span class="p">:</span> <span class="dl">''</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2558'>  <span class="c1">// 0 - 日期显示模式（默认值）</span>&#x000A;</div><div class='line' id='LC2559'>  <span class="c1">// 1 - 月份显示模式</span>&#x000A;</div><div class='line' id='LC2560'>  <span class="c1">// 2 - 年代显示模式</span>&#x000A;</div><div class='line' id='LC2561'>  <span class="na">viewMode</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2562'>  <span class="c1">// single - 单选（默认值）</span>&#x000A;</div><div class='line' id='LC2563'>  <span class="c1">// multiple - 多选</span>&#x000A;</div><div class='line' id='LC2564'>  <span class="c1">// range - 范围多选</span>&#x000A;</div><div class='line' id='LC2565'>  <span class="c1">// week - 整个星期选择</span>&#x000A;</div><div class='line' id='LC2566'>  <span class="na">pickMode</span><span class="p">:</span> <span class="dl">'</span><span class="s1">single</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2567'>  <span class="na">hasSwitcher</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2568'>  <span class="na">hasFooter</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2569'>  <span class="na">hasClock</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2570'>  <span class="na">onDatePick</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2571'>  <span class="na">onMonthPick</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2572'>  <span class="na">onYearPick</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2573'>  <span class="na">onTodayPick</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2574'>  <span class="na">MONTHS</span><span class="p">:</span> <span class="p">[</span><span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>&#x000A;</div><div class='line' id='LC2575'>  <span class="na">DAYS</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">日</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">一</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">二</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">三</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">四</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">五</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">六</span><span class="dl">'</span><span class="p">],</span>&#x000A;</div><div class='line' id='LC2576'>  <span class="na">DATES</span><span class="p">:</span> <span class="p">[</span><span class="mi">31</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">31</span><span class="p">],</span>&#x000A;</div><div class='line' id='LC2577'>  <span class="na">STYLES</span><span class="p">:</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2578'>    <span class="na">WRAP</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cal-md</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2579'>    <span class="na">WRAP_WITHOUT_FOOTER</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cal-md-without-footer</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2580'>    <span class="na">HEADER</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cal-hd</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2581'>    <span class="na">TITLE</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cal-title</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2582'>    <span class="na">SWITCHER</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cal-switcher</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2583'>    <span class="na">PREV</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cal-prev</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2584'>    <span class="na">ICON_PREV</span><span class="p">:</span> <span class="dl">'</span><span class="s1">icon-angle-up</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2585'>    <span class="na">NEXT</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cal-next</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2586'>    <span class="na">ICON_NEXT</span><span class="p">:</span> <span class="dl">'</span><span class="s1">icon-angle-down</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2587'>    <span class="na">BODY</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cal-bd</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2588'>    <span class="na">WEEK</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cal-week</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2589'>    <span class="na">WEEKEND</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cal-weekend</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2590'>    <span class="na">DAY</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cal-day</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2591'>    <span class="na">DATES</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cal-dates</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2592'>    <span class="na">DATE</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cal-date</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2593'>    <span class="na">DATE_PREV</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cal-date-prev</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2594'>    <span class="na">DATE_NEXT</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cal-date-next</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2595'>    <span class="na">MONTHS</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cal-months</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2596'>    <span class="na">MONTH</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cal-month</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2597'>    <span class="na">MONTH_PREV</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cal-month-prev</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2598'>    <span class="na">MONTH_NEXT</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cal-month-next</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2599'>    <span class="na">YEARS</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cal-years</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2600'>    <span class="na">YEAR</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cal-year</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2601'>    <span class="na">YEAR_PREV</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cal-year-prev</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2602'>    <span class="na">YEAR_NEXT</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cal-year-next</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2603'>    <span class="na">FOOTER</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cal-ft</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2604'>    <span class="na">FOOTER_DATE</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cal-ft-date</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2605'>    <span class="na">TODAY</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cal-today</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2606'>    <span class="na">FOOTER_TIME</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cal-ft-time</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2607'>    <span class="na">TIME</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cal-time</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2608'>    <span class="na">TEXT</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cal-text</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2609'>    <span class="na">CURRENT</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cal-current</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2610'>    <span class="na">PICKED</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cal-picked</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2611'>    <span class="na">PICKED_RANGE</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cal-picked-range</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2612'>    <span class="na">PICKED_POINT</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cal-picked-point</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2613'>    <span class="na">DISABLED</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cal-disabled</span><span class="dl">'</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2614'>    <span class="na">HIDDEN</span><span class="p">:</span> <span class="dl">'</span><span class="s1">cal-hidden</span><span class="dl">'</span>&#x000A;</div><div class='line' id='LC2615'>  <span class="p">}</span>&#x000A;</div><div class='line' id='LC2616'>  <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2617'><span class="cm">   * 常用的工具方法</span>&#x000A;</div><div class='line' id='LC2618'><span class="cm">   * ========================================================================</span>&#x000A;</div><div class='line' id='LC2619'><span class="cm">   */</span>&#x000A;</div><div class='line' id='LC2620'>&#x000A;</div><div class='line' id='LC2621'><span class="p">};</span>&#x000A;</div><div class='line' id='LC2622'><span class="nx">Calendar</span><span class="p">.</span><span class="nx">Utils</span> <span class="o">=</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2623'>  <span class="na">uuid</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2624'>  <span class="na">isString</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">isString</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2625'>    <span class="k">return</span> <span class="k">typeof</span> <span class="nx">o</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">string</span><span class="dl">'</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2626'>  <span class="p">},</span>&#x000A;</div><div class='line' id='LC2627'>  <span class="na">isNumber</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">isNumber</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2628'>    <span class="k">return</span> <span class="k">typeof</span> <span class="nx">o</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">number</span><span class="dl">'</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2629'>  <span class="p">},</span>&#x000A;</div><div class='line' id='LC2630'>  <span class="na">isArray</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">isArray</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2631'>    <span class="k">if</span> <span class="p">(</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2632'>      <span class="k">return</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">o</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2633'>    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2634'>      <span class="k">return</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">[object Array]</span><span class="dl">'</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2635'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC2636'>  <span class="p">},</span>&#x000A;</div><div class='line' id='LC2637'>  <span class="na">isFunction</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">isFunction</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2638'>    <span class="k">return</span> <span class="k">typeof</span> <span class="nx">o</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">function</span><span class="dl">'</span> <span class="o">||</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">[object Function]</span><span class="dl">'</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2639'>  <span class="p">},</span>&#x000A;</div><div class='line' id='LC2640'>  <span class="na">isElement</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">isElement</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2641'>    <span class="k">return</span> <span class="nx">o</span> <span class="o">&amp;&amp;</span> <span class="nx">o</span><span class="p">.</span><span class="nx">nodeName</span> <span class="o">&amp;&amp;</span> <span class="nx">o</span><span class="p">.</span><span class="nx">tagName</span> <span class="o">&amp;&amp;</span> <span class="nx">o</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2642'>  <span class="p">},</span>&#x000A;</div><div class='line' id='LC2643'>  <span class="na">guid</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">guid</span><span class="p">(</span><span class="nx">prefix</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2644'>    <span class="kd">var</span> <span class="nx">Utils</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">Utils</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2645'>    <span class="nx">Utils</span><span class="p">.</span><span class="nx">uuid</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2646'>    <span class="k">return</span> <span class="nx">prefix</span> <span class="p">?</span> <span class="nx">prefix</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">-</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">Utils</span><span class="p">.</span><span class="nx">uuid</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">guid-</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">Utils</span><span class="p">.</span><span class="nx">uuid</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2647'>  <span class="p">},</span>&#x000A;</div><div class='line' id='LC2648'>  <span class="na">trim</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">trim</span><span class="p">(</span><span class="nx">str</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2649'>    <span class="k">return</span> <span class="nx">str</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/^</span><span class="se">\s</span><span class="sr">+/g</span><span class="p">,</span> <span class="dl">''</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">\s</span><span class="sr">+$/g</span><span class="p">,</span> <span class="dl">''</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2650'>  <span class="p">},</span>&#x000A;</div><div class='line' id='LC2651'>  <span class="na">stripTags</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">stripTags</span><span class="p">(</span><span class="nx">str</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2652'>    <span class="k">return</span> <span class="nx">str</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/&lt;</span><span class="se">\/?[^</span><span class="sr">&gt;</span><span class="se">]</span><span class="sr">+</span><span class="se">(</span><span class="sr">&gt;|$</span><span class="se">)</span><span class="sr">/g</span><span class="p">,</span> <span class="dl">''</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2653'>  <span class="p">}</span>&#x000A;</div><div class='line' id='LC2654'>  <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2655'><span class="cm">   * DOM 操作相关的工具方法</span>&#x000A;</div><div class='line' id='LC2656'><span class="cm">   * ========================================================================</span>&#x000A;</div><div class='line' id='LC2657'><span class="cm">   */</span>&#x000A;</div><div class='line' id='LC2658'>&#x000A;</div><div class='line' id='LC2659'><span class="p">};</span>&#x000A;</div><div class='line' id='LC2660'><span class="nx">Calendar</span><span class="p">.</span><span class="nx">DOM</span> <span class="o">=</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2661'>  <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2662'><span class="cm">   * 创建 DOM 节点，并添加属性和子节点</span>&#x000A;</div><div class='line' id='LC2663'><span class="cm">   * ========================================================================</span>&#x000A;</div><div class='line' id='LC2664'><span class="cm">   * @param {String} tagName - 标签名称</span>&#x000A;</div><div class='line' id='LC2665'><span class="cm">   * @param {Object} attributes - 属性对象</span>&#x000A;</div><div class='line' id='LC2666'><span class="cm">   * @param {Array} [children] - 子节点数组</span>&#x000A;</div><div class='line' id='LC2667'><span class="cm">   * @returns {HTMLElement}</span>&#x000A;</div><div class='line' id='LC2668'><span class="cm">   */</span>&#x000A;</div><div class='line' id='LC2669'>  <span class="na">createElement</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">createElement</span><span class="p">(</span><span class="nx">tagName</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">,</span> <span class="nx">children</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2670'>    <span class="kd">var</span> <span class="nx">Utils</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">Utils</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2671'>    <span class="kd">var</span> <span class="nx">element</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">tagName</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2672'>&#x000A;</div><div class='line' id='LC2673'>    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">attr</span> <span class="k">in</span> <span class="nx">attributes</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2674'>      <span class="k">if</span> <span class="p">(</span><span class="nx">attributes</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">attr</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2675'>        <span class="nx">Calendar</span><span class="p">.</span><span class="nx">DOM</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="nx">element</span><span class="p">,</span> <span class="nx">attr</span><span class="p">,</span> <span class="nx">attributes</span><span class="p">[</span><span class="nx">attr</span><span class="p">]);</span>&#x000A;</div><div class='line' id='LC2676'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC2677'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC2678'>&#x000A;</div><div class='line' id='LC2679'>    <span class="k">if</span> <span class="p">(</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">children</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2680'>      <span class="nx">children</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">child</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2681'>        <span class="kd">var</span> <span class="nx">childNode</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2682'>&#x000A;</div><div class='line' id='LC2683'>        <span class="k">if</span> <span class="p">(</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">isElement</span><span class="p">(</span><span class="nx">child</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2684'>          <span class="nx">childNode</span> <span class="o">=</span> <span class="nx">child</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2685'>        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2686'>          <span class="k">if</span> <span class="p">(</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">isString</span><span class="p">(</span><span class="nx">child</span><span class="p">)</span> <span class="o">||</span> <span class="nx">Utils</span><span class="p">.</span><span class="nx">isNumber</span><span class="p">(</span><span class="nx">child</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2687'>            <span class="kd">var</span> <span class="nx">text</span> <span class="o">=</span> <span class="nx">Utils</span><span class="p">.</span><span class="nx">isString</span><span class="p">(</span><span class="nx">child</span><span class="p">)</span> <span class="p">?</span> <span class="nx">Utils</span><span class="p">.</span><span class="nx">trim</span><span class="p">(</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">stripTags</span><span class="p">(</span><span class="nx">child</span><span class="p">))</span> <span class="p">:</span> <span class="nx">child</span><span class="p">.</span><span class="nx">toString</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC2688'>            <span class="nx">childNode</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="nx">text</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2689'>          <span class="p">}</span>&#x000A;</div><div class='line' id='LC2690'>        <span class="p">}</span>&#x000A;</div><div class='line' id='LC2691'>&#x000A;</div><div class='line' id='LC2692'>        <span class="nx">element</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">childNode</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2693'>      <span class="p">});</span>&#x000A;</div><div class='line' id='LC2694'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC2695'>&#x000A;</div><div class='line' id='LC2696'>    <span class="k">return</span> <span class="nx">element</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2697'>  <span class="p">},</span>&#x000A;</div><div class='line' id='LC2698'>&#x000A;</div><div class='line' id='LC2699'>  <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2700'><span class="cm">   * 给 DOM 节点设置属性/值</span>&#x000A;</div><div class='line' id='LC2701'><span class="cm">   * ========================================================================</span>&#x000A;</div><div class='line' id='LC2702'><span class="cm">   * @param {HTMLElement} el - DOM 节点</span>&#x000A;</div><div class='line' id='LC2703'><span class="cm">   * @param {String} attr - 属性名称</span>&#x000A;</div><div class='line' id='LC2704'><span class="cm">   * @param {String|Number|Boolean} value - 属性值</span>&#x000A;</div><div class='line' id='LC2705'><span class="cm">   */</span>&#x000A;</div><div class='line' id='LC2706'>  <span class="na">setAttribute</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">setAttribute</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">attr</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2707'>    <span class="kd">var</span> <span class="nx">tagName</span> <span class="o">=</span> <span class="nx">el</span><span class="p">.</span><span class="nx">tagName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC2708'>&#x000A;</div><div class='line' id='LC2709'>    <span class="k">switch</span> <span class="p">(</span><span class="nx">attr</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2710'>      <span class="k">case</span> <span class="dl">'</span><span class="s1">style</span><span class="dl">'</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC2711'>        <span class="nx">el</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2712'>        <span class="k">break</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2713'>&#x000A;</div><div class='line' id='LC2714'>      <span class="k">case</span> <span class="dl">'</span><span class="s1">value</span><span class="dl">'</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC2715'>        <span class="k">if</span> <span class="p">(</span><span class="nx">tagName</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">input</span><span class="dl">'</span> <span class="o">||</span> <span class="nx">tagName</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">textarea</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2716'>          <span class="nx">el</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2717'>        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2718'>          <span class="nx">el</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="nx">attr</span><span class="p">,</span> <span class="nx">value</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2719'>        <span class="p">}</span>&#x000A;</div><div class='line' id='LC2720'>&#x000A;</div><div class='line' id='LC2721'>        <span class="k">break</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2722'>&#x000A;</div><div class='line' id='LC2723'>      <span class="k">case</span> <span class="dl">'</span><span class="s1">className</span><span class="dl">'</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC2724'>        <span class="nx">el</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2725'>        <span class="k">break</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2726'>&#x000A;</div><div class='line' id='LC2727'>      <span class="nl">default</span><span class="p">:</span>&#x000A;</div><div class='line' id='LC2728'>        <span class="nx">el</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="nx">attr</span><span class="p">,</span> <span class="nx">value</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2729'>        <span class="k">break</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2730'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC2731'>  <span class="p">},</span>&#x000A;</div><div class='line' id='LC2732'>&#x000A;</div><div class='line' id='LC2733'>  <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2734'><span class="cm">   * 检测 DOM 节点是否包含名为 className 的样式</span>&#x000A;</div><div class='line' id='LC2735'><span class="cm">   * ========================================================================</span>&#x000A;</div><div class='line' id='LC2736'><span class="cm">   * @param {HTMLElement} el - DOM 节点</span>&#x000A;</div><div class='line' id='LC2737'><span class="cm">   * @param {String} className - 样式名称</span>&#x000A;</div><div class='line' id='LC2738'><span class="cm">   * @returns {*}</span>&#x000A;</div><div class='line' id='LC2739'><span class="cm">   */</span>&#x000A;</div><div class='line' id='LC2740'>  <span class="na">hasClass</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">hasClass</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">className</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2741'>    <span class="kd">var</span> <span class="nx">allClass</span> <span class="o">=</span> <span class="nx">el</span><span class="p">.</span><span class="nx">className</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2742'>&#x000A;</div><div class='line' id='LC2743'>    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">allClass</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2744'>      <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2745'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC2746'>&#x000A;</div><div class='line' id='LC2747'>    <span class="k">return</span> <span class="nx">allClass</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="dl">'</span><span class="s1">(</span><span class="se">\\</span><span class="s1">s|^)</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">className</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">(</span><span class="se">\\</span><span class="s1">s|$)</span><span class="dl">'</span><span class="p">));</span>&#x000A;</div><div class='line' id='LC2748'>  <span class="p">},</span>&#x000A;</div><div class='line' id='LC2749'>&#x000A;</div><div class='line' id='LC2750'>  <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2751'><span class="cm">   * 给 DOM 节点添加名为 className 的样式</span>&#x000A;</div><div class='line' id='LC2752'><span class="cm">   * ========================================================================</span>&#x000A;</div><div class='line' id='LC2753'><span class="cm">   * @param {HTMLElement} el - DOM 节点</span>&#x000A;</div><div class='line' id='LC2754'><span class="cm">   * @param {String} className - 样式名称</span>&#x000A;</div><div class='line' id='LC2755'><span class="cm">   * @returns {Boolean}</span>&#x000A;</div><div class='line' id='LC2756'><span class="cm">   */</span>&#x000A;</div><div class='line' id='LC2757'>  <span class="na">addClass</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">addClass</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">className</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2758'>    <span class="kd">var</span> <span class="nx">allClass</span> <span class="o">=</span> <span class="nx">el</span><span class="p">.</span><span class="nx">className</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2759'>&#x000A;</div><div class='line' id='LC2760'>    <span class="k">if</span> <span class="p">(</span><span class="nx">Calendar</span><span class="p">.</span><span class="nx">DOM</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">className</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2761'>      <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2762'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC2763'>&#x000A;</div><div class='line' id='LC2764'>    <span class="nx">allClass</span> <span class="o">+=</span> <span class="nx">allClass</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">?</span> <span class="dl">'</span><span class="s1"> </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">className</span> <span class="p">:</span> <span class="nx">className</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2765'>    <span class="nx">el</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="nx">allClass</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2766'>  <span class="p">},</span>&#x000A;</div><div class='line' id='LC2767'>&#x000A;</div><div class='line' id='LC2768'>  <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2769'><span class="cm">   * 移除 DOM 节点的 className 样式</span>&#x000A;</div><div class='line' id='LC2770'><span class="cm">   * ========================================================================</span>&#x000A;</div><div class='line' id='LC2771'><span class="cm">   * @param {HTMLElement} el - DOM 节点</span>&#x000A;</div><div class='line' id='LC2772'><span class="cm">   * @param {String} className - 样式名称</span>&#x000A;</div><div class='line' id='LC2773'><span class="cm">   * @returns {Boolean}</span>&#x000A;</div><div class='line' id='LC2774'><span class="cm">   */</span>&#x000A;</div><div class='line' id='LC2775'>  <span class="na">removeClass</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">removeClass</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">className</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2776'>    <span class="kd">var</span> <span class="nx">allClass</span> <span class="o">=</span> <span class="nx">el</span><span class="p">.</span><span class="nx">className</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2777'>&#x000A;</div><div class='line' id='LC2778'>    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">allClass</span> <span class="o">||</span> <span class="o">!</span><span class="nx">Calendar</span><span class="p">.</span><span class="nx">DOM</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">className</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2779'>      <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2780'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC2781'>&#x000A;</div><div class='line' id='LC2782'>    <span class="nx">allClass</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">trim</span><span class="p">(</span><span class="nx">allClass</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">className</span><span class="p">,</span> <span class="dl">''</span><span class="p">));</span>&#x000A;</div><div class='line' id='LC2783'>    <span class="nx">el</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="nx">allClass</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2784'>  <span class="p">}</span>&#x000A;</div><div class='line' id='LC2785'><span class="p">};</span>&#x000A;</div><div class='line' id='LC2786'><span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2787'><span class="cm"> * 代理事件</span>&#x000A;</div><div class='line' id='LC2788'><span class="cm"> * ========================================================</span>&#x000A;</div><div class='line' id='LC2789'><span class="cm"> * 说明：代码修改至 Nicolas Gallagher 的 delegate.js</span>&#x000A;</div><div class='line' id='LC2790'><span class="cm"> * 项目 GitHub 地址：https://github.com/necolas/delegate.js</span>&#x000A;</div><div class='line' id='LC2791'><span class="cm"> * ========================================================</span>&#x000A;</div><div class='line' id='LC2792'><span class="cm"> */</span>&#x000A;</div><div class='line' id='LC2793'>&#x000A;</div><div class='line' id='LC2794'><span class="nx">Calendar</span><span class="p">.</span><span class="nx">Delegate</span> <span class="o">=</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2795'>  <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2796'><span class="cm">   * 绑定代理事件</span>&#x000A;</div><div class='line' id='LC2797'><span class="cm">   * ========================================================================</span>&#x000A;</div><div class='line' id='LC2798'><span class="cm">   * @param {HTMLElement} el - 绑定代理事件的 DOM 节点</span>&#x000A;</div><div class='line' id='LC2799'><span class="cm">   * @param {String} selector - 触发 el 代理事件的 DOM 节点的选择器</span>&#x000A;</div><div class='line' id='LC2800'><span class="cm">   * @param {String} type - 事件类型</span>&#x000A;</div><div class='line' id='LC2801'><span class="cm">   * @param {Function} callback - 绑定事件的回调函数</span>&#x000A;</div><div class='line' id='LC2802'><span class="cm">   * @param {Object} [context] - callback 回调函数的 this 上下文（默认值：el）</span>&#x000A;</div><div class='line' id='LC2803'><span class="cm">   * @param {Boolean} [capture] - 是否采用事件捕获（默认值：false - 事件冒泡）</span>&#x000A;</div><div class='line' id='LC2804'><span class="cm">   * @param {Boolean} [once] - 是否只触发一次（默认值：false - 事件冒泡）</span>&#x000A;</div><div class='line' id='LC2805'><span class="cm">   */</span>&#x000A;</div><div class='line' id='LC2806'>  <span class="na">on</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">on</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">callback</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">capture</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2807'>  <span class="cm">/* private */</span>&#x000A;</div><div class='line' id='LC2808'>  <span class="nx">once</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2809'>    <span class="kd">var</span> <span class="nx">Delegate</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">Delegate</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2810'>&#x000A;</div><div class='line' id='LC2811'>    <span class="kd">var</span> <span class="nx">wrapper</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">wrapper</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2812'>      <span class="kd">var</span> <span class="nx">delegateTarget</span> <span class="o">=</span> <span class="nx">Delegate</span><span class="p">.</span><span class="nx">getDelegateTarget</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">,</span> <span class="nx">selector</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2813'>      <span class="nx">e</span><span class="p">.</span><span class="nx">delegateTarget</span> <span class="o">=</span> <span class="nx">delegateTarget</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2814'>&#x000A;</div><div class='line' id='LC2815'>      <span class="k">if</span> <span class="p">(</span><span class="nx">delegateTarget</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2816'>        <span class="k">if</span> <span class="p">(</span><span class="nx">once</span> <span class="o">===</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2817'>          <span class="nx">Delegate</span><span class="p">.</span><span class="nx">off</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">wrapper</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2818'>        <span class="p">}</span>&#x000A;</div><div class='line' id='LC2819'>&#x000A;</div><div class='line' id='LC2820'>        <span class="nx">callback</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">context</span> <span class="o">||</span> <span class="nx">el</span><span class="p">,</span> <span class="nx">e</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2821'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC2822'>    <span class="p">};</span>&#x000A;</div><div class='line' id='LC2823'>&#x000A;</div><div class='line' id='LC2824'>    <span class="k">if</span> <span class="p">(</span><span class="nx">type</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">mouseenter</span><span class="dl">'</span> <span class="o">||</span> <span class="nx">type</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">mouseleave</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2825'>      <span class="nx">capture</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2826'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC2827'>&#x000A;</div><div class='line' id='LC2828'>    <span class="nx">callback</span><span class="p">.</span><span class="nx">_delegateWrapper</span> <span class="o">=</span> <span class="nx">callback</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2829'>    <span class="nx">el</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="nx">type</span><span class="p">,</span> <span class="nx">wrapper</span><span class="p">,</span> <span class="nx">capture</span> <span class="o">||</span> <span class="kc">false</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2830'>    <span class="k">return</span> <span class="nx">callback</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2831'>  <span class="p">},</span>&#x000A;</div><div class='line' id='LC2832'>&#x000A;</div><div class='line' id='LC2833'>  <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2834'><span class="cm">   * 绑定只触发一次的事件</span>&#x000A;</div><div class='line' id='LC2835'><span class="cm">   * ========================================================================</span>&#x000A;</div><div class='line' id='LC2836'><span class="cm">   * @param {HTMLElement} el - 绑定代理事件的 DOM 节点</span>&#x000A;</div><div class='line' id='LC2837'><span class="cm">   * @param {String} selector - 触发 el 代理事件的 DOM 节点的选择器</span>&#x000A;</div><div class='line' id='LC2838'><span class="cm">   * @param {String} type - 事件类型</span>&#x000A;</div><div class='line' id='LC2839'><span class="cm">   * @param {Function} callback - 绑定事件的回调函数</span>&#x000A;</div><div class='line' id='LC2840'><span class="cm">   * @param {Object} [context] - callback 回调函数的 this 上下文（默认值：el）</span>&#x000A;</div><div class='line' id='LC2841'><span class="cm">   * @param {Boolean} [capture] - 是否采用事件捕获（默认值：false - 事件冒泡）</span>&#x000A;</div><div class='line' id='LC2842'><span class="cm">   */</span>&#x000A;</div><div class='line' id='LC2843'>  <span class="na">once</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">once</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">callback</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">capture</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2844'>    <span class="nx">Calendar</span><span class="p">.</span><span class="nx">Delegate</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">callback</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">capture</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2845'>  <span class="p">},</span>&#x000A;</div><div class='line' id='LC2846'>&#x000A;</div><div class='line' id='LC2847'>  <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2848'><span class="cm">   * 取消事件绑定</span>&#x000A;</div><div class='line' id='LC2849'><span class="cm">   * ========================================================================</span>&#x000A;</div><div class='line' id='LC2850'><span class="cm">   * @param {HTMLElement} el - 取消绑定（代理）事件的 DOM 节点</span>&#x000A;</div><div class='line' id='LC2851'><span class="cm">   * @param {String} type - 事件类型</span>&#x000A;</div><div class='line' id='LC2852'><span class="cm">   * @param {Function} callback - 绑定事件的回调函数</span>&#x000A;</div><div class='line' id='LC2853'><span class="cm">   * @param {Boolean} [capture] - 是否采用事件捕获（默认值：false - 事件冒泡）</span>&#x000A;</div><div class='line' id='LC2854'><span class="cm">   */</span>&#x000A;</div><div class='line' id='LC2855'>  <span class="na">off</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">off</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">callback</span><span class="p">,</span> <span class="nx">capture</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2856'>    <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span><span class="p">.</span><span class="nx">_delegateWrapper</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2857'>      <span class="nx">callback</span> <span class="o">=</span> <span class="nx">callback</span><span class="p">.</span><span class="nx">_delegateWrapper</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2858'>      <span class="k">delete</span> <span class="nx">callback</span><span class="p">.</span><span class="nx">_delegateWrapper</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2859'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC2860'>&#x000A;</div><div class='line' id='LC2861'>    <span class="k">if</span> <span class="p">(</span><span class="nx">type</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">mouseenter</span><span class="dl">'</span> <span class="o">||</span> <span class="nx">type</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">mouseleave</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2862'>      <span class="nx">capture</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2863'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC2864'>&#x000A;</div><div class='line' id='LC2865'>    <span class="nx">el</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="nx">type</span><span class="p">,</span> <span class="nx">callback</span><span class="p">,</span> <span class="nx">capture</span> <span class="o">||</span> <span class="kc">false</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2866'>  <span class="p">},</span>&#x000A;</div><div class='line' id='LC2867'>&#x000A;</div><div class='line' id='LC2868'>  <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2869'><span class="cm">   * 停止事件（阻止默认行为和阻止事件的捕获或冒泡）</span>&#x000A;</div><div class='line' id='LC2870'><span class="cm">   * ========================================================================</span>&#x000A;</div><div class='line' id='LC2871'><span class="cm">   * @param {Event} evt - 事件对象</span>&#x000A;</div><div class='line' id='LC2872'><span class="cm">   */</span>&#x000A;</div><div class='line' id='LC2873'>  <span class="na">stop</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">stop</span><span class="p">(</span><span class="nx">evt</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2874'>    <span class="kd">var</span> <span class="nx">Delegate</span> <span class="o">=</span> <span class="nx">Calendar</span><span class="p">.</span><span class="nx">Delegate</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2875'>    <span class="nx">Delegate</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">(</span><span class="nx">evt</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2876'>    <span class="nx">Delegate</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">(</span><span class="nx">evt</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2877'>  <span class="p">},</span>&#x000A;</div><div class='line' id='LC2878'>&#x000A;</div><div class='line' id='LC2879'>  <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2880'><span class="cm">   * 终止事件在传播过程的捕获或冒泡</span>&#x000A;</div><div class='line' id='LC2881'><span class="cm">   * ========================================================================</span>&#x000A;</div><div class='line' id='LC2882'><span class="cm">   * @param {Event} evt - 事件对象</span>&#x000A;</div><div class='line' id='LC2883'><span class="cm">   */</span>&#x000A;</div><div class='line' id='LC2884'>  <span class="na">stopPropagation</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">stopPropagation</span><span class="p">(</span><span class="nx">evt</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2885'>    <span class="kd">var</span> <span class="nx">event</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">event</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2886'>&#x000A;</div><div class='line' id='LC2887'>    <span class="k">if</span> <span class="p">(</span><span class="nx">evt</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2888'>      <span class="nx">evt</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC2889'>    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2890'>      <span class="nx">event</span><span class="p">.</span><span class="nx">cancelBubble</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2891'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC2892'>  <span class="p">},</span>&#x000A;</div><div class='line' id='LC2893'>&#x000A;</div><div class='line' id='LC2894'>  <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2895'><span class="cm">   * 阻止事件的默认行为</span>&#x000A;</div><div class='line' id='LC2896'><span class="cm">   * ========================================================================</span>&#x000A;</div><div class='line' id='LC2897'><span class="cm">   * @param {Event} evt - 事件对象</span>&#x000A;</div><div class='line' id='LC2898'><span class="cm">   */</span>&#x000A;</div><div class='line' id='LC2899'>  <span class="na">preventDefault</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">preventDefault</span><span class="p">(</span><span class="nx">evt</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2900'>    <span class="kd">var</span> <span class="nx">event</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">event</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2901'>&#x000A;</div><div class='line' id='LC2902'>    <span class="k">if</span> <span class="p">(</span><span class="nx">evt</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2903'>      <span class="nx">evt</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>&#x000A;</div><div class='line' id='LC2904'>    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2905'>      <span class="nx">event</span><span class="p">.</span><span class="nx">returnValue</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2906'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC2907'>  <span class="p">},</span>&#x000A;</div><div class='line' id='LC2908'>&#x000A;</div><div class='line' id='LC2909'>  <span class="cm">/**</span>&#x000A;</div><div class='line' id='LC2910'><span class="cm">   * 通过 className 获得事件代理节点的事件代理目标节点</span>&#x000A;</div><div class='line' id='LC2911'><span class="cm">   * ========================================================================</span>&#x000A;</div><div class='line' id='LC2912'><span class="cm">   * @param {HTMLElement} el - 绑定事件代理的节点</span>&#x000A;</div><div class='line' id='LC2913'><span class="cm">   * @param target - （触发事件后）事件的目标对象</span>&#x000A;</div><div class='line' id='LC2914'><span class="cm">   * @param selector - 目标节点的类选择器</span>&#x000A;</div><div class='line' id='LC2915'><span class="cm">   * @returns {HTMLElement|Null}</span>&#x000A;</div><div class='line' id='LC2916'><span class="cm">   */</span>&#x000A;</div><div class='line' id='LC2917'>  <span class="na">getDelegateTarget</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">getDelegateTarget</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">target</span><span class="p">,</span> <span class="nx">selector</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2918'>    <span class="k">while</span> <span class="p">(</span><span class="nx">target</span> <span class="o">&amp;&amp;</span> <span class="nx">target</span> <span class="o">!==</span> <span class="nx">el</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2919'>      <span class="k">if</span> <span class="p">(</span><span class="nx">Calendar</span><span class="p">.</span><span class="nx">DOM</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="nx">target</span><span class="p">,</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="dl">'</span><span class="s1">.</span><span class="dl">'</span><span class="p">,</span> <span class="dl">''</span><span class="p">)))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2920'>        <span class="k">return</span> <span class="nx">target</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2921'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC2922'>&#x000A;</div><div class='line' id='LC2923'>      <span class="nx">target</span> <span class="o">=</span> <span class="nx">target</span><span class="p">.</span><span class="nx">parentElement</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2924'>    <span class="p">}</span>&#x000A;</div><div class='line' id='LC2925'>&#x000A;</div><div class='line' id='LC2926'>    <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2927'>  <span class="p">}</span>&#x000A;</div><div class='line' id='LC2928'><span class="p">};</span> <span class="c1">// 为了处理不兼容 Object.assign</span>&#x000A;</div><div class='line' id='LC2929'>&#x000A;</div><div class='line' id='LC2930'><span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">Calendar</span><span class="p">.</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2931'>  <span class="c1">// Must be writable: true, enumerable: false, configurable: true</span>&#x000A;</div><div class='line' id='LC2932'>  <span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nb">Object</span><span class="p">,</span> <span class="dl">"</span><span class="s2">assign</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2933'>    <span class="na">value</span><span class="p">:</span> <span class="kd">function</span> <span class="nx">assign</span><span class="p">(</span><span class="nx">target</span><span class="p">,</span> <span class="nx">varArgs</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2934'>      <span class="c1">// .length of function is 2</span>&#x000A;</div><div class='line' id='LC2935'>      <span class="dl">'</span><span class="s1">use strict</span><span class="dl">'</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2936'>&#x000A;</div><div class='line' id='LC2937'>      <span class="k">if</span> <span class="p">(</span><span class="nx">target</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2938'>        <span class="c1">// TypeError if undefined or null</span>&#x000A;</div><div class='line' id='LC2939'>        <span class="k">throw</span> <span class="k">new</span> <span class="nx">TypeError</span><span class="p">(</span><span class="dl">'</span><span class="s1">Cannot convert undefined or null to object</span><span class="dl">'</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2940'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC2941'>&#x000A;</div><div class='line' id='LC2942'>      <span class="kd">var</span> <span class="nx">to</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">(</span><span class="nx">target</span><span class="p">);</span>&#x000A;</div><div class='line' id='LC2943'>&#x000A;</div><div class='line' id='LC2944'>      <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">index</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">index</span> <span class="o">&lt;</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">index</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2945'>        <span class="kd">var</span> <span class="nx">nextSource</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">[</span><span class="nx">index</span><span class="p">];</span>&#x000A;</div><div class='line' id='LC2946'>&#x000A;</div><div class='line' id='LC2947'>        <span class="k">if</span> <span class="p">(</span><span class="nx">nextSource</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2948'>          <span class="c1">// Skip over if undefined or null</span>&#x000A;</div><div class='line' id='LC2949'>          <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">nextKey</span> <span class="k">in</span> <span class="nx">nextSource</span><span class="p">)</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2950'>            <span class="c1">// Avoid bugs when hasOwnProperty is shadowed</span>&#x000A;</div><div class='line' id='LC2951'>            <span class="k">if</span> <span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">nextSource</span><span class="p">,</span> <span class="nx">nextKey</span><span class="p">))</span> <span class="p">{</span>&#x000A;</div><div class='line' id='LC2952'>              <span class="nx">to</span><span class="p">[</span><span class="nx">nextKey</span><span class="p">]</span> <span class="o">=</span> <span class="nx">nextSource</span><span class="p">[</span><span class="nx">nextKey</span><span class="p">];</span>&#x000A;</div><div class='line' id='LC2953'>            <span class="p">}</span>&#x000A;</div><div class='line' id='LC2954'>          <span class="p">}</span>&#x000A;</div><div class='line' id='LC2955'>        <span class="p">}</span>&#x000A;</div><div class='line' id='LC2956'>      <span class="p">}</span>&#x000A;</div><div class='line' id='LC2957'>&#x000A;</div><div class='line' id='LC2958'>      <span class="k">return</span> <span class="nx">to</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2959'>    <span class="p">},</span>&#x000A;</div><div class='line' id='LC2960'>    <span class="na">writable</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>&#x000A;</div><div class='line' id='LC2961'>    <span class="na">configurable</span><span class="p">:</span> <span class="kc">true</span>&#x000A;</div><div class='line' id='LC2962'>  <span class="p">});</span>&#x000A;</div><div class='line' id='LC2963'><span class="p">}</span>&#x000A;</div><div class='line' id='LC2964'><span class="k">return</span> <span class="nx">Calendar</span><span class="p">;</span>&#x000A;</div><div class='line' id='LC2965'><span class="p">}));</span>&#x000A;</div></pre></div></div>
</div>
<script>
  toMathMlCode('','markdown-body');
</script>

</div>
</div>
<div class='tree_progress'></div>
<div class='ui small modal' id='modal-linejump'>
<div class='ui custom form content'>
<div class='field'>
<div class='ui right action input'>
<input placeholder='跳转至某一行...' type='number'>
<div class='ui orange button'>
跳转
</div>
</div>
</div>
</div>
</div>


<div class='row column inner-comment' id='blob-comment'>
<input id="comment_path" name="comment_path" type="hidden" value="dist/calendar.js" />
<div class='tree-comments'>
<h3 id='tree_comm_title'>
评论
(
<span class='comments-count'>
0
</span>
)
</h3>
<div class='ui threaded comments middle aligned' id='notes-list'></div>
<input id="ajax_add_note_id" name="ajax_add_note_id" type="hidden" />
<div class='text-center'>
<div class='tip-loading' style='display: none'>
<div class='ui active mini inline loader'></div>
正在加载...
</div>
</div>
</div>
<script>
  "use strict";
  $(function(){
    var page = 1
    var commentsCount = 0
    var $container = $('.tree-comments')
    var $comments = $container.find('.ui.comments')
    var $tipLoading = $container.find('.tip-loading')
    var $btnLoad = $container.find('.btn-load-more')
    var noteAnchor = new Gitee.NoteAnchor({ defaultAnchor: '#tree_comm_title' })
  
    if (commentsCount < 1) {
      return;
    }
  
    var path;
    if ($('#comment_path').val() === '') {
      path = '/';
    } else {
      path = $('#comment_path').val();
    }
  
    function loadComments () {
      $btnLoad.hide();
      $tipLoading.show();
      $.ajax({
        url: '/yaohaixiao/calendar.js/comment_list',
        data: {
          page: page,
          path: path
        },
        success: function(data) {
          var err;
          try {
            $tipLoading.hide();
            $btnLoad.show();
            if (data.status !== 0) {
              $btnLoad.text('无更多评论')
              return $btnLoad.prop('disabled', true).addClass('disabled');
            } else {
              TreeComment.CommentListHandler(data);
              page += 1;
              if (data.comments_count < 10) {
                $('#ajax_add_note_id').val('');
                $btnLoad.text('无更多评论')
                $btnLoad.prop('disabled', true).addClass('disabled');
              }
              // osctree can not load script
              $comments.find('.timeago').timeago();
              $comments.find('.commenter-role-label').popup();
              noteAnchor.locate();
              toMathMlCode('', 'comments');
              return $('.markdown-body pre code').each(function(i, block) {
                return hljs.highlightBlock(block);
              });
            }
          } catch (error) {
            err = error;
            return console.log('loadComments error:' + err);
          }
        }
      });
    };
  
  
    function checkLoad () {
      var listTop, top;
      top = $(window).scrollTop();
      listTop = $container.offset().top;
      if (listTop >= top && listTop < top + $(window).height()) {
        $(window).off('scroll', checkLoad);
        return loadComments();
      }
    };
  
    $btnLoad.on('click', loadComments);
    loadComments()
  })
</script>

</div>
<div class='inner-comment-box' id='comment-box'>
<p>
你可以在<a href="/login">登录</a>后，发表评论
</p>

</div>

<div class='complaint'>
<div class='ui modal small form' id='landing-comments-complaint-modal'>
<i class='iconfont icon-close close'></i>
<div class='header'>
举报
</div>
<div class='content'>
<div class='appeal-success-tip hide'>
<i class='iconfont icon-ic_msg_success'></i>
<div class='appeal-success-text'>
举报成功
</div>
<span>
我们将于2个工作日内通过站内信反馈结果给你！
</span>
</div>
<div class='appeal-tip'>
请认真填写举报原因，尽可能描述详细。
</div>
<div class='ui form appeal-form'>
<div class='inline field'>
<label class='left-part appeal-type-wrap'>
举报类型
</label>
<div class='ui dropdown selection' id='appeal-comments-types'>
<div class='text default'>
请选择举报类型
</div>
<i class='dropdown icon'></i>
<div class='menu'></div>
</div>
</div>
<div class='inline field'>
<label class='left-part'>
举报原因
</label>
<textarea class='appeal-reason' id='appeal-comment-reason' name='msg' placeholder='请说明举报原因' rows='3'></textarea>
</div>
<div class='ui message callback-msg hide'></div>
<div class='ui small error text message exceeded-size-tip'></div>
</div>
</div>
<div class='actions'>
<div class='ui button blank cancel'>
取消
</div>
<div class='ui orange icon button disabled ok' id='complaint-comment-confirm'>
发送
</div>
</div>
</div>
<script>
  var $complaintCommentsModal = $('#landing-comments-complaint-modal'),
      $complainCommentType = $complaintCommentsModal.find('#appeal-comments-types'),
      $complaintModalTip = $complaintCommentsModal.find('.callback-msg'),
      $complaintCommentsContent = $complaintCommentsModal.find('.appeal-reason'),
      $complaintCommentBtn = $complaintCommentsModal.find('#complaint-comment-confirm'),
      complaintSending = false,
      initedCommentsType = false;
  
  function initCommentsTypeList() {
    if (!initedCommentsType) {
      $.ajax({
        url: "/appeals/fetch_types",
        method: 'get',
        data: {'type': 'comment'},
        success: function (data) {
          var result = '';
          for (var i = 0; i < data.length; i++) {
            result = result + "<div class='item' data-value='" + data[i].id + "'>" + data[i].name + "</div>";
          }
          $complainCommentType.find('.menu').html(result);
        }
      });
      $complainCommentType.dropdown({showOnFocus: false});
      initedCommentsType = true;
    }
  }
  $complainCommentType.on('click', function() {
    $complaintCommentsModal.modal({
      autofocus: false,
      onApprove: function() {
        return false;
      },
      onHidden: function() {
        restoreCommonentDefault();
      }
    }).modal('show');
  });
  
  $complaintCommentsContent.on('change keyup', function(e) {
    var content = $(this).val();
    if ($.trim(content).length > 0 && $complainCommentType.dropdown('get value').length > 0 ) {
      $complaintCommentBtn.removeClass('disabled');
      return;
    }
    $complaintCommentBtn.addClass('disabled');
  });
  
  
  $complainCommentType.dropdown({
    showOnFocus: false,
    onChange: function(value, text, $selectedItem) {
      if (value.length > 0 && $.trim($complaintCommentsContent.val()).length > 0) {
        $complaintCommentBtn.removeClass('disabled');
        return
      }
      $complaintCommentBtn.addClass('disabled');
    }
  });
  
  function restoreCommonentDefault() {
    $complainCommentType.dropdown('restore defaults');
    $complaintCommentsContent.val('');
    $('.exceeded-size-tip').text('').hide();
    $complaintModalTip.text('').hide();
    setTimeout(function() {
      setCommentSendTip(false);
    }, 1500);
  }
  
  $complaintCommentBtn.on('click',function(e){
    var reason = $complaintCommentsContent.val();
    var appealableId = $('#landing-comments-complaint-modal').attr('data-id');
    if (complaintSending) {
      return;
    }
    var appealType = $complainCommentType.dropdown('get value');
    var formData = new FormData();
    formData.append('appeal_type_id', appealType);
    formData.append('reason', reason);
    formData.append('appeal_type','Note');
    formData.append('target_id',appealableId);
    $.ajax({
      type: 'POST',
      url: "/appeals",
      cache: false,
      contentType: false,
      processData: false,
      data: formData,
      beforeSend: function() {
        setCommentSendStatus(true);
      },
      success: function(res) {
        if (res.status == 200) {
          setCommentSendTip(true);
          setTimeout(function() {
            $complaintCommentsModal.modal('hide');
            restoreCommonentDefault();
          }, 3000);
        }
        setCommentSendStatus(false);
      },
      error: function(err) {
        showCommonTips(err.responseJSON.message, 'error');
        setCommentSendStatus(false);
      }
    })
  });
  
  function showCommonTips(text, type) {
    $complaintModalTip.text(text).show();
    if (type == 'error') {
      $complaintModalTip.removeClass('success').addClass('error');
    } else {
      $complaintModalTip.removeClass('error').addClass('success');
    }
  }
  
  function setCommentSendStatus(value) {
    complaintSending = value;
    if (complaintSending) {
      $complaintCommentBtn.addClass('loading');
      $complaintCommentsContent.attr('readonly', true);
      $complainCommentType.attr('readonly', true);
    } else {
      $complaintCommentBtn.removeClass('loading');
      $complaintCommentsContent.attr('readonly', false);
      $complainCommentType.attr('readonly', false);
    }
  }
  
  function setCommentSendTip(value) {
    if (value) {
      $('.appeal-success-tip').removeClass('hide');
      $('.appeal-tip').addClass('hide');
      $('.appeal-form').addClass('hide');
      $('#landing-comments-complaint-modal .actions').addClass('hide');
    } else {
      $('.appeal-success-tip').addClass('hide');
      $('.appeal-tip').removeClass('hide');
      $('.appeal-form').removeClass('hide');
      $('#landing-comments-complaint-modal .actions').removeClass('hide');
    }
  }
</script>

</div>
<script>
  "use strict";
  $('.js-check-star').checkbox('set unchecked')
</script>

</div>
</div>
</div>
<div class='four wide column' style='display: none;'>
<div class='project__right-side'>
<div class='side-item intro'>
<div class='header'>
<h4>简介</h4>
</div>
<div class='content'>
<span class='git-project-desc-text'>一个简单实用的 JavaScript 日历控件！原生 JavaScript 编写，不依赖任何第三方库。支持日期、月份和年份试图切换；支持单选、多选、范围和星期选择模式；界面简介、配置简单、使用方便！</span>
<a class='hide spread' href='javascript:void(0);'>
展开
<i class='caret down icon'></i>
</a>
<a class='retract hide' href='javascript:void(0);'>
收起
<i class='caret up icon'></i>
</a>
<div class='intro-list'>
<div class='item project-label-list d-flex label-list-line-feed'>
</div>
<div class='item'>
<i class='iconfont icon-link'></i>
<span class='git-project-homepage'>
<a href="http://yaohaixiao.gitee.io/calendar.js" id="homepage" rel="nofollow" target="_blank">http://yaohaixiao.gitee.io/calendar.js</a>
</span>
</div>
<div class='item'>
<i class='iconfont icon-tag-program'></i>
<span class='summary-languages'>
JavaScript
<span class='text-muted'>
等 3 种语言
<i class='icon dropdown'></i>
</span>
</span>
<div class='ui popup summary-languages-popup'>
<div class='row'>
<div class='lang'>
<a href="/explore/all?lang=JavaScript">JavaScript</a>
</div>
<div class='lang-bar'>
<div class='bar' style='width: 85.4%;'></div>
</div>
<a class="percentage" href="/explore/all?lang=JavaScript">85.4%</a>
</div>
<div class='row'>
<div class='lang'>
<a href="/explore/all?lang=HTML">HTML</a>
</div>
<div class='lang-bar'>
<div class='bar' style='width: 12.0%;'></div>
</div>
<a class="percentage" href="/explore/all?lang=HTML">12.0%</a>
</div>
<div class='row'>
<div class='lang'>
<a href="/explore/all?lang=CSS">CSS</a>
</div>
<div class='lang-bar'>
<div class='bar' style='width: 2.6%;'></div>
</div>
<a class="percentage" href="/explore/all?lang=CSS">2.6%</a>
</div>
</div>
</div>

<div class='item'>
<i class='iconfont icon-licence'></i>
<a href="/yaohaixiao/calendar.js/blob/master/LICENSE" id="license-popup" target="_blank">MIT</a>
<div class='ui popup dark'>使用 MIT 开源许可协议</div>
</div>
<div class='item'>
<i class='iconfont icon-giteepage'></i>
Pages：
<a href="http://yaohaixiao.gitee.io/calendar.js" target="_blank">http://yaohaixiao.gitee.io/calendar.js</a>
</div>
</div>
</div>
<div class='content intro-form'>
<div class='ui small input'>
<textarea name='project[description]' placeholder='描述' rows='5'></textarea>
</div>
<div class='ui small input'>
<input data-regex-value='(^$)|(^(http|https):\/\/(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]).*)|(^(http|https):\/\/[a-zA-Z0-9]+([_\-\.]{1}[a-zA-Z0-9]+)*\.[a-zA-Z]{2,10}(:[0-9]{1,10})?(\?.*)?(\/.*)?$)' name='project[homepage]' placeholder='主页(eg: https://gitee.com)' type='text'>
</div>
<button class='ui orange button mt-1 btn-save'>
保存更改
</button>
<div class='ui blank button btn-cancel-edit'>
取消
</div>
</div>
</div>
<div class='side-item release'>
<div class='header'>
<h4>
发行版
<span class='text-muted'>
(4)
</span>
</h4>
<a class="ui link button pull-right" href="/yaohaixiao/calendar.js/releases">全部</a>
</div>
<div class='content ml-3'>
<i class='iconfont icon-release'></i>
<div class='desc'>
<a href="/yaohaixiao/calendar.js/releases/v0.4.1">v0.4.1</a>
</div>
<span class='timeago' datetime='2019-07-17 09:27' title='2019-07-17 09:27:28 +0800'></span>
</div>
</div>
<div class='side-item radar'>
<div class='header mb-1'>
<h4 class='limit-length'>calendar.js</h4>
<a class="ui link button radar-qa" href="javascript:void(0);"><i class='iconfont icon-help-circle'></i>
</a></div>
<div class='content'>
<div data-url='/yaohaixiao/calendar.js/project_radars' id='metrics-radar'>
<div class='wrap skeleton'>
<div class='total-score hide'>
<div class='text'></div>
<div class='score'></div>
</div>
</div>
<div class='ui popup radar-popup'>
<h4 class='title'>Gitee 指数包含如下维度</h4>
<div class='project-radar-list'>
<div class='descript-contianer'>
<div class='descript-title'>
<p>代码活跃度</p>
<p>社区活跃度</p>
<p>团队健康</p>
<p>流行趋势</p>
<p>影响力</p>
</div>
<div class='descript'>
<p>：与代码提交频次相关</p>
<p>：与项目和用户的issue、pr互动相关</p>
<p>：与团队成员人数和稳定度相关</p>
<p>：与项目近期受关注度相关</p>
<p>：与项目的star、下载量等社交指标相关</p>
</div>
</div>
</div>
<div class='finaltime'></div>
</div>
</div>
<script src="https://assets.gitee.com/assets/skill_radar/rep_app-bfe82d2bc79d00c15f1a571f5370c79b.js"></script>

</div>
</div>
<div class='side-item contrib' data-url='/yaohaixiao/calendar.js/contributors_count?ref=master' id='contributor'>
<div class='header'>
<h4>
贡献者
<span class='text-muted' id='contributor-count'></span>
</h4>
<a class="ui link button pull-right" href="/yaohaixiao/calendar.js/contributors?ref=master">全部</a>
</div>
<div class='content' id='contributor-list'></div>
<div class='ui active centered inline loader' id='contributor-loader'></div>
</div>
<div class='side-item events' data-url='/yaohaixiao/calendar.js/events.json' id='proj-events'>
<div class='header'>
<h4>近期动态</h4>
</div>
<div class='content'>
<div class='ui comments' id='event-list'></div>
<a class="loadmore hide" href="javascript:void(0);">加载更多
<i class='icon dropdown'></i>
</a><center>
<div class='text-muted nomore hide'>不能加载更多了</div>
<div class='ui inline loader active'></div>
</center>
</div>
</div>
</div>
<div class='ui modal tiny' id='edit-project-description'>
<i class='iconfont icon-close close'></i>
<div class='header'>编辑仓库简介</div>
<div class='content'>
<div class='item mb-2'>
<div class='title label'>简介内容</div>
<div class='ui small input'>
<textarea maxlength='100' name='project[description]' placeholder='描述' rows='5'>一个简单实用的 JavaScript 日历控件！原生 JavaScript 编写，不依赖任何第三方库。支持日期、月份和年份试图切换；支持单选、多选、范围和星期选择模式；界面简介、配置简单、使用方便！</textarea>
</div>
</div>
<div class='item mb-2'>
<div class='title label'>主页</div>
<div class='ui small input'>
<input data-regex-value='(^$)|(^(http|https):\/\/(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]).*)|(^(http|https):\/\/[a-zA-Z0-9]+([_\-\.]{1}[a-zA-Z0-9]+)*\.[a-zA-Z]{2,10}(:[0-9]{1,10})?(\?.*)?(\/.*)?$)' name='project[homepage]' placeholder='主页(eg: https://gitee.com)' type='text' value='http://yaohaixiao.gitee.io/calendar.js'>
</div>
</div>
<div class='item mb-2'>
<div class='title label'>标签</div>
<div class='ui fluid multiple search selection dropdown js-project-label-selection mt-1 mb-2' name='project_labels[]'>
<input name='project_labels' type='hidden'>
<div class='default text'>搜索或按下回车键创建你的标签。</div>
<div class='menu'></div>
</div>
<script>
  $(function () {
    var wrapper_class = '' ? '.' + ' ' : '';
    var $labelSelection = $(wrapper_class + '.js-project-label-selection');
    var $submitInput = $labelSelection.find('input[name=' + 'project_labels' + ']');
    var arrSelectedLabel = [] || [];
    var MAXSELECTCOUNT = 5;
    var regName = /^[0-9A-Za-z\u4e00-\u9fa5]{1}[A-Za-z0-9\-\u4e00-\u9fa5]{0,34}$/;
    window.gon.current_selected_label_info = arrSelectedLabel;
    var messages = {
      'zh-CN': {
        addResult: false
          ? '添加 “<b class="user-add-label">{term}</b>”'
          : '直接添加 “<b class="user-add-label">{term}</b>” 标签'
      },
      'zh-TW': {
        addResult: '直接添加 “<b class="user-add-label">{term}</b>” 標籤'
      },
      en: {
        addResult: 'Add <b class="user-add-label">{term}</b> directly'
      }
    };
    // 屏幕过小时 dropdown 方向改为固定向上的
    var direction = innerWidth < 1500 ? 'upward' : 'auto';
  
    $labelSelection.dropdown({
      allowAdditions: true,
      maxSelections: MAXSELECTCOUNT,
      forceSelection: false,
      match: 'text',
      saveRemoteData: false,
      selectOnKeydown: false,
      hideAdditions: false,
      ignoreCase: true,
      direction: direction,
      message: {
        addResult: messages[gon.locale].addResult
        //maxSelections:''
      },
      action: function (value, text) {
        if (!value) {
          Flash.error("标签名不能为空", 4500);
          removeSelected(value);
          return false;
        }
        if (value.length > 35) {
          Flash.error("标签名只允许包含中文、字母、数字或者中划线(-)，不能以中划线开头，且长度少于35个字符", 4500);
          removeSelected(value);
          return false;
        }
        if (!regName.test(value)) {
          Flash.error("标签名只允许包含中文、字母、数字或者中划线(-)，不能以中划线开头，且长度少于35个字符", 4500);
          removeSelected(value);
          return false;
        }
        // 检测大小写 , 大小写不敏感
        var arrCurrentValue = ($labelSelection.dropdown('get value') || '').split(',');
        var arrCurrentValueUpperCase = arrCurrentValue.map(function (item) {
          return item ? String(item).toUpperCase() : '';
        });
        // 未全部转为大写前就有相同的,停止, 避免semantic内置检测与这个检测重复删除
        if (arrCurrentValue.indexOf(value) < 0) {
          if (arrCurrentValueUpperCase.indexOf(String(value).toUpperCase()) > -1) {
            removeSelected(value);
            return false;
          }
        }
  
        checkLabelLock(text, function (notLocked, status, res) {
          if (notLocked) {
            if (status == 200) {
              // 修改为修正后的文本
              // ident 在这个接口.
              removeSelected(value, res.data.name, res.data.ident);
              // res.data.ident
            } else if (status == 204) {
              // 不变
              $labelSelection.dropdown('set selected', value);
              addGolbalValue(value, value);
            }
          } else {
            // 等待检测完成后 为已锁定添加后删除
            removeSelected(value);
            return false;
          }
        });
      },
      onChange: function (addedValue, addedText, $addedChoice) {
        var currentValue = ($labelSelection.dropdown('get value') || '').split(',');
        if (currentValue.length >= MAXSELECTCOUNT) {
          //$labelSelection.dropdown('hide')
          $labelSelection.addClass('disabled-class');
        } else {
          $labelSelection.removeClass('disabled-class');
        }
      },
      onLabelCreate (value, text) {
        return $(
          '<a class="ui label transition" data-value=' +
            value +
            ' style="display: inline-block !important;">' +
            text +
            '<i class="delete icon"></i></a>'
        );
      },
      onAdd: function (addedValue, addedText, $addedChoice) {
        var ident = $addedChoice.attr('data-ident');
        var category = $addedChoice.attr('data-category');
      },
      onRemove: function (removedValue, removedText, $removedChoice) {
        var currentName = removedValue.name || removedValue;
        var index = gon.current_selected_label_info.findIndex(function (item, index) {
          return item.name === currentName;
        });
        if (index < 0) return;
        gon.current_selected_label_info.splice(index, 1);
        return true;
      }
    });
  
    var $search = $labelSelection.find('.search');
    $search.keypress(function (e) {
      if (e.which == 13) {
        e.preventDefault();
        return false;
      }
    });
  
    function getDropdownLabelLength () {
      var currentValue = ($labelSelection.dropdown('get value') || '').split(',');
      if (!currentValue) return 0;
      return currentValue.length;
    }
  
    $labelSelection.on('mouseenter', function () {
      if (getDropdownLabelLength() >= MAXSELECTCOUNT) {
        $labelSelection.dropdown('show');
      }
    });
    $labelSelection.on('mouseleave', function () {
      if (getDropdownLabelLength() >= MAXSELECTCOUNT) {
        $labelSelection.dropdown('hide');
      }
    });
    function addGolbalValue (addedValue, ident) {
      var isAlready = gon.current_selected_label_info.some(function (item) {
        return (item.name || item) === addedValue;
      });
      if (!isAlready) {
        gon.current_selected_label_info.push({ name: addedValue, ident: ident });
      }
    }
    function removeSelected (addedValue, replaceText, ident) {
      setTimeout(function () {
        $labelSelection.dropdown('remove selected', addedValue);
        if (replaceText) {
          $labelSelection.dropdown('set selected', replaceText);
          // 添加到全局 , 给其他地方找到 ident
          addGolbalValue(replaceText, ident);
        }
      }, 0);
    }
    function checkLabelLock (word, callback) {
      var url = '/projects/check_project_label';
      var paramsKey = 'project_label';
      if (false) {
        url = '/admin/system/project_labels/check_synonym';
        paramsKey = 'synonym';
      }
      // 兼容 ie
      var paramsLabelLock = {};
      paramsLabelLock[paramsKey] = word;
      $.post(url, paramsLabelLock)
        .done(function (res) {
          var status = Number(res.status);
          //{status: 400，message: message}，代表用户输入的是个屏蔽的标签。
          //{status：200，data: 标签名}，更换用户输入的标签为这个标签名
          //{status: 204}, 对用户的操作不做改变
          if (status !== 400) {
            callback(true, status, res);
          } else {
            callback(false);
            Flash.error(res.message, 4500);
          }
        })
        .fail(function (err) {
          callback(false);
          Flash.error(err.statusText + ':' + err.status, 4500);
        });
    }
    // 多选 联想
    function requestLenovoLabelList (word, callback, errorCallback, finallyCallback) {
      $.get('/projects/find_related_label', { project_label: word })
        .done(function (res) {
          if (res.status == 200) {
            callback(res.data);
          } else {
            Flash.error(res.message, 4500);
          }
        })
        .fail(function (err) {
          errorCallback(err);
        })
        .always(function () {
          finallyCallback();
        });
    }
    // mac chrome 搜狗输入法 诡异bug: 必须加: text、防抖
    $search.attr('type', 'text');
    $search.on(
      'input',
      window.globalUtils.debouce(function () {
        if ($(this).prop('inputStart')) return;
        $(this).val($(this).val().replace(/[,.:?(){}*$@!|&/\<>'"]/g, ''));
        var currentValue = $labelSelection.dropdown('get value');
        if (currentValue) {
          if (Array.isArray(currentValue)) {
            var isOverflow = currentValue.some(function (item) {
              return item.split(',').length >= MAXSELECTCOUNT;
            });
            isOverflow && $(this).val('');
          } else {
            var arrCurrentValue = currentValue.split(',');
            if (arrCurrentValue.length >= MAXSELECTCOUNT) {
              $(this).val('');
            }
          }
        }
        if(!$(this).val()) {
          $labelSelection.dropdown('setup menu', { values: [] });
        }
      }, 200)
    ).on('compositionstart', function () {
        $(this).prop('inputStart', true);
      })
      .on('compositionend', function () {
        $(this).prop('inputStart', false);
        $(this).trigger('input');
      });
    $search
      .on(
        'input',
        window.globalUtils.debouce(function () {
          if ($(this).prop('inputStart')) return;
          var value = $(this).val().trim();
          // 同义词不需要联想
          if (!value || false) return;
          $labelSelection.addClass('loading');
          requestLenovoLabelList(
            value,
            function (res) {
              var strHTML = '';
              var showAddbtn = res.display;
              var arrData = (res.labels || []).map(function (item) {
                //item.value = item.name
                //item.ident = item.ident ? item.ident : ''
                strHTML +=
                  '<div class="item"  data-category=' +
                  item.category +
                  ' data-ident=' +
                  item.ident +
                  ' data-value=' +
                  item +
                  '>' +
                  item +
                  '</div>';
                return item;
              });
              $labelSelection.dropdown('setup menu', { values: [] });
              $labelSelection.find('.menu').html(strHTML);
              $labelSelection.dropdown('show');
              $search.focus();
              // 控制直接添加按钮是否显示, 要求输入C不自动变成C语言,允许直接输入C
              // 替换 "直接添加标签" 按钮的位置 移动到底部
              var $menu = $labelSelection.find('.menu');
              var $addition = $labelSelection.find('.addition');
              $addition.remove();
              if (showAddbtn) {
                $addition.show();
                $menu.append($addition);
              } else {
              }
  
              var selectedItem = $menu.find('.selected');
              selectedItem.removeClass('selected');
              $menu.find(':first').addClass('selected');
            },
            function (err) {
              Flash.error(err.statusText, 4500);
            },
            function () {
              $labelSelection.removeClass('loading');
            }
          );
        }, 300)
      )
      .on('compositionstart', function () {
        // 中文输入开始
        $(this).prop('inputStart', true);
      })
      .on('compositionend', function () {
        // 中文输入完成 主动并允许触发 input
        $(this).prop('inputStart', false);
        $(this).trigger('input');
      });
  
    function setDefaultSelected (arr) {
      if (arr.length <= 0) return;
      var arrLabelSelectedName = arr.map(function (item) {
        return item.name;
      });
      $labelSelection.dropdown('set selected', arrLabelSelectedName);
    }
    setDefaultSelected(arrSelectedLabel);
  });
</script>

<div class='ui warning message select_project_label_tips d-none'>
<span class='text item'>检测到此仓库已存在旧标签</span>
<div class='labels item d-inline'></div>
<span class='text item'>，已为你自动填入</span>
</div>
</div>
</div>
<div class='actions'>
<div class='ui button blank cancel'>取消</div>
<div class='ui button orange btn-save'>保存更改</div>
</div>
</div>

<script>
  window.gon.projectRightSide = {
    homepage: "http://yaohaixiao.gitee.io/calendar.js",
    description: "一个简单实用的 JavaScript 日历控件！原生 JavaScript 编写，不依赖任何第三方库。支持日期、月份和年份试图切换；支持单选、多选、范围和星期选择模式；界面简介、配置简单、使用方便！",
    url: "/yaohaixiao/calendar.js/update_description",
  }
  window.gon.cloneArrSelectedLabel = [] || []
  $(function () {
    var $labelSelection = $('.js-project-label-selection');
    var $search = $labelSelection.find('.search');
    // 设置 标签选择框默认值.
    function setDefaultSelected ($labelSelection, arr) {
      var arrLabelSelectedName = arr.map(function (item) {
        return item.name || item;
      });
      $labelSelection.dropdown('clear');
      window.gon.current_selected_label_info = (arr || []).slice();
      $labelSelection.dropdown('set selected', arrLabelSelectedName);
    }
  
    function toggleDisabledSelectLabel () {
      if ($labelSelection.hasClass('loading')) {
        $labelSelection.removeClass('loading');
        $search.removeAttr('disabled');
      } else {
        $labelSelection.addClass('loading');
        $search.attr('disabled', true);
      }
    }
  
    // !要求每次打开都重置 , 不保留用户操作。 需要前端自行克隆 确保最新数据。
    var $editModal = $('#edit-project-description');
    $editModal.modal({
      autofocus:false,
      onHide: function () {
        // 清空输入框
        $editModal.find('.search').val('');
        // 清空下拉选项
        $labelSelection.dropdown('setup menu', { values: [] });
      },
      onDeny: function () {
        setDefaultSelected($('.js-project-label-selection'), window.gon.cloneArrSelectedLabel);
      }
    });
    // onDeny 拒绝时 点击关闭按钮时 点击遮罩时
    $(document).on('click', '.modals.page.active, #edit-project-description .icon-close', function (e) {
      // 弹出框已打开 且触发事件元素非子元素
      if ($editModal.hasClass('visible') && e.currentTarget === e.target) {
        setDefaultSelected($('.js-project-label-selection'), window.gon.cloneArrSelectedLabel);
      }
      return false;
    });
    $('.project__right-side').on('click', '.header .btn-edit', function () {
      $editModal.modal('show');
    });
    $('#license-popup').popup({ position: 'bottom center', lastResort: 'bottom center' });
    // open_edit_modal 参数为1 则 自动打开
    if(location.search.indexOf('open_edit_modal=1') > -1) {
      $editModal.modal('show');
      $search.focus();
      // 清空参数 且不刷新 避免刷新页面再次打开modal
      window.globalUtils.clearURLParams()
    }
  });
</script>

</div>
</div>
</div>
<script>
  (function() {
    $(function() {
      Tree.init();
      return TreeCommentActions.init();
    });
  
  }).call(this);
</script>

</div>
<script>
  (function() {
    var donateModal;
  
    Gitee.modalHelper = new GiteeModalHelper({
      alertText: '提示',
      okText: '确定'
    });
  
    donateModal = new ProjectDonateModal({
      el: '#project-donate-modal',
      alipayUrl: '/yaohaixiao/calendar.js/alipay',
      wepayUrl: '/yaohaixiao/calendar.js/wepay',
      nameIsBlank: '名称不能为空',
      nameTooLong: '名称过长（最多为 36 个字符）',
      modalHelper: Gitee.modalHelper
    });
  
    if (null === 'true') {
      donateModal.show();
    }
  
    $('#project-donate').on('click', function() {
      return donateModal.show();
    });
  
  }).call(this);
</script>
<script>
  Tree.initHighlightTheme('white')
</script>


</div>
<div class='gitee-project-extension'>
<div class='extension lang'>JavaScript</div>
<div class='extension public'>1</div>
<div class='extension https'>https://gitee.com/yaohaixiao/calendar.js.git</div>
<div class='extension ssh'>git@gitee.com:yaohaixiao/calendar.js.git</div>
<div class='extension namespace'>yaohaixiao</div>
<div class='extension repo'>calendar.js</div>
<div class='extension name'>calendar.js</div>
<div class='extension branch'>master</div>
</div>

<script>
  $(function() {
    GitLab.GfmAutoComplete.dataSource = "/yaohaixiao/calendar.js/autocomplete_sources"
    GitLab.GfmAutoComplete.Emoji.assetBase = '/assets/emoji'
    GitLab.GfmAutoComplete.setup();
  });
</script>

<footer id='git-footer-main'>
<div class='ui container'>
<div class='logo-row'>
<img class='logo-img' src='/static/images/logo-black.svg?t=158106666'>
</div>
<div class='name-important'>
深圳市奥思网络科技有限公司版权所有
</div>
<div class='ui two column grid d-flex-center'>
<div class='nine wide column git-footer-left'>
<div class='ui four column grid' id='footer-left'>
<div class='column'>
<div class='ui link list'>
<div class='item'>
<a class="item" href="/about_us">关于我们</a>
</div>
<div class='item'>
<a class="item" href="https://www.oschina.net/news/131099/oschina-hiring">加入我们</a>
</div>
<div class='item'>
<a class="item" href="/terms">使用条款</a>
</div>
<div class='item'>
<a class="item" href="/oschina/git-osc/issues">意见建议</a>
</div>
<div class='item'>
<a class="item" href="/links.html">合作伙伴</a>
</div>
</div>
</div>
<div class='column'>
<div class='ui link list'>
<div class='item'>
<a class="item" href="/all-about-git">Git 大全</a>
</div>
<div class='item'>
<a class="item" href="https://oschina.gitee.io/learn-git-branching/">Git 命令学习</a>
</div>
<div class='item'>
<a class="item" href="https://copycat.gitee.com/">CopyCat 代码克隆检测</a>
</div>
<div class='item'>
<a class="item" href="/appclient">APP与插件下载</a>
</div>
</div>
</div>
<div class='column'>
<div class='ui link list'>
<div class='item'>
<a class="item" href="/gitee-stars">Gitee 封面人物</a>
</div>
<div class='item'>
<a class="item" href="/gvp">GVP 项目</a>
</div>
<div class='item'>
<a class="item" href="https://blog.gitee.com/">Gitee 博客</a>
</div>
<div class='item'>
<a class="item" href="/enterprises#nonprofit-plan">Gitee 公益计划</a>
</div>
</div>
</div>
<div class='column'>
<div class='ui link list'>
<div class='item'>
<a class="item" href="/api/v5/swagger">OpenAPI</a>
</div>
<div class='item'>
<a class="item" href="/help">帮助文档</a>
</div>
<div class='item'>
<a class="item" href="/self_services">在线自助服务</a>
</div>
<div class='item'>
<a class="item" href="/help/articles/4338#article-header0">更新日志</a>
</div>
</div>
</div>
</div>
</div>
<div class='seven wide column right aligned followus git-footer-right'>
<div class='qrcode weixin'>
<img alt="Qrcode weixin" src="https://assets.gitee.com/assets/qrcode-weixin-9e7cfb27165143d2b8e8b268a52ea822.jpg" />
<p class='weixin-text'>微信服务号</p>
</div>
<div class='phone-and-qq column'>
<div class='ui list official-support-container'>
<div class='item'>
<a class="icon-popup" href="//shang.qq.com/wpa/qunwpa?idkey=df785aa7af71f7d74149ab062742d761b845464350ecba25eb440357a3e573b7" title="点击加入 Gitee 官方群"><i class='iconfont icon-logo-qq'></i>
<span>官方技术交流QQ群：1050025484</span>
</a></div>
<div class='item mail-and-zhihu'>
<a href="mailto: git@oschina.cn"><i class='iconfont icon-msg-mail'></i>
<span id='git-footer-email'>git#oschina.cn</span>
</a></div>
<div class='item mail-and-zhihu'>
<a href="https://www.zhihu.com/org/ma-yun-osc/" target="_blank"><i class='iconfont icon-zhihu'></i>
<span>Gitee</span>
</a></div>
<div class='item tel'>
<a>
<i class='iconfont icon-tel'></i>
<span>售前及售后使用咨询：400-606-0201</span>
</a>
</div>
</div>
</div>
</div>
</div>
</div>
<div class='bottombar'>
<div class='ui container'>
<div class='ui d-flex d-flex-between'>
<div class='seven wide column partner d-flex'>
<div class='open-atom d-flex-center'>
<img alt="Logo openatom" class="logo-openatom mr-1" src="https://assets.gitee.com/assets/logo-openatom-d083391cc8a54e283529f3fc11cc38ca.svg" />
<a href="https://www.openatom.org/" target="_blank">开放原子开源基金会</a>
<div class='sub-title ml-1'>合作代码托管平台</div>
</div>
<div class='report-12377 d-flex-center ml-3'>
<img alt="12377@2x" class="report-12377__logo mr-1" src="https://assets.gitee.com/assets/12377@2x-1aa42ed2d2256f82a61ecf57be1ec244.png" />
<a href="https://12377.cn" target="_blank">违法和不良信息举报中心</a>
</div>
<div class='copyright ml-3'>
<a href="http://beian.miit.gov.cn/">粤ICP备12009483号</a>
</div>
</div>
<div class='nine wide column right aligned'>
<i class='icon world'></i>
<a href="/language/zh-CN">简 体</a>
/
<a href="/language/zh-TW">繁 體</a>
/
<a href="/language/en">English</a>
</div>
</div>
</div>
</div>
</footer>
<script>
  var officialEmail = $('#git-footer-email').text()
  $('#git-footer-main .icon-popup').popup({ position: 'bottom center' })
  $('#git-footer-email').text(officialEmail.replace('#', '@'))
  window.gon.popover_card_locale = {
    follow:"关注",
    unfollow:"已关注",
    gvp_title: "GVP - Gitee 最有价值开源项目",
    project: "项目",
    org: "开源组织",
    member: "",
    author: "作者",
    user_blocked: "该用户已被屏蔽或已注销",
    net_error: "网络错误",
    unknown_exception: "未知异常"
  }
  window.gon.select_message = {
    placeholder: "请输入个人空间地址或完整的邮箱地址"
  }
</script>
<script src="https://assets.gitee.com/webpacks/popover_card-5e5f80166768e5968f94.bundle.js"></script>


<div class='side-toolbar'>
<div class='button toolbar-help'>
<i class='iconfont icon-help'></i>
</div>
<div class='ui popup left center dark'>点此查找更多帮助</div>
<div class='toolbar-help-dialog'>
<div class='toolbar-dialog-header'>
<h3 class='toolbar-dialog-title'>搜索帮助</h3>
<form accept-charset="UTF-8" action="/help/load_keywords_data" class="toolbar-help-search-form" method="get"><div style="display:none"><input name="utf8" type="hidden" value="&#x2713;" /></div>
<div class='ui icon input fluid toolbar-help-search'>
<input name='keywords' placeholder='请输入产品名称或问题' type='text'>
<i class='icon search'></i>
</div>
</form>

<i class='iconfont icon-close toolbar-dialog-close-icon'></i>
</div>
<div class='toolbar-dialog-content'>
<div class='toolbar-help-hot-search'>
<div class='toolbar-roll'>
<a class="init active" href="https://oschina.gitee.io/learn-git-branching/?utm_source==gitee-help-widget" title="Git 命令在线学习"><i class='Blue icon icon-command iconfont'></i>
<span>Git 命令在线学习</span>
</a><a class="init " href="https://gitee.com/help/articles/4261?utm_source==gitee-help-widget" title="如何在 Gitee 导入 GitHub 仓库"><i class='icon icon-clipboard iconfont orange'></i>
<span>如何在 Gitee 导入 GitHub 仓库</span>
</a></div>
<div class='toolbar-list'>
<div class='toolbar-list-item'>
<a href="/help/articles/4114">Git 仓库基础操作</a>
</div>
<div class='toolbar-list-item'>
<a href="/help/articles/4166">企业版和社区版功能对比</a>
</div>
<div class='toolbar-list-item'>
<a href="/help/articles/4191">SSH 公钥设置</a>
</div>
<div class='toolbar-list-item'>
<a href="/help/articles/4194">如何处理代码冲突</a>
</div>
<div class='toolbar-list-item'>
<a href="/help/articles/4232">仓库体积过大，如何减小？</a>
</div>
<div class='toolbar-list-item'>
<a href="/help/articles/4279">如何找回被删除的仓库数据</a>
</div>
<div class='toolbar-list-item'>
<a href="/help/articles/4283">Gitee 产品配额说明</a>
</div>
<div class='toolbar-list-item'>
<a href="/help/articles/4284">GitHub仓库快速导入Gitee及同步更新</a>
</div>
<div class='toolbar-list-item'>
<a href="/help/articles/4328">什么是 Release（发行版）</a>
</div>
</div>
</div>
<div class='toolbar-help-search-reseult'>
<div class='toolbar-help-flex-column'>
<div class='ui centered inline loader toolbar-help-loader'></div>
<div class='toolbar-list'></div>
<div class='toolbar-help-link-to-help'>
<a href="" target="_blank">查看更多搜索结果</a>
</div>
</div>
</div>
</div>
</div>
<script>
  var opt = { position: 'left center'};
  var $helpSideToolbar = $('.button.toolbar-help');
  var $toolbarRoll = $('.toolbar-roll');
  
  $(function() {
    if (false) {
      $helpSideToolbar.popup(opt).popup({lastResort:'left center'})
    } else {
      $helpSideToolbar.popup({lastResort:'left center'}).popup('show', opt);
      setTimeout(function() {
        $helpSideToolbar.popup('hide', opt);
      }, 3000);
    }
  
    if ($toolbarRoll.length) {
      setInterval(function() {
        var $nextActiveLink = $toolbarRoll.find('a.active').next();
        if (!$nextActiveLink.length) {
          $nextActiveLink = $toolbarRoll.find('a:first-child');
        }
        $nextActiveLink.attr('class', 'active').siblings().removeClass('active init');
      }, 5000);
    }
  })
</script>

<div class='button share-link'>
<i class='iconfont icon-share'></i>
</div>
<div class='ui popup dark'>
<div class='header'>
分享到
</div>
<div class='bdsharebuttonbox' style='display: flex'>
<a class='iconfont icon-home-service-wechat' data-cmd='weixin' title='分享到微信'></a>
<a class='iconfont icon-weibo' data-cmd='tsina' title='分享到新浪微博'></a>
<a class='iconfont icon-qq' data-cmd='sqq' title='分享到QQ好友'></a>
<a class='iconfont icon-qzone' data-cmd='qzone' title='分享到QQ空间'></a>
</div>
</div>
<div class='popup button' id='home-comment'>
<i class='iconfont icon-comment'></i>
</div>
<div class='ui popup dark'>评论</div>
<div class='toolbar-appeal popup button'>
<i class='iconfont icon-report'></i>
</div>
<div class='ui popup dark'>
仓库举报
</div>
<script>
  $('.toolbar-appeal').popup({ position: 'left center' });
</script>

<div class='button gotop popup' id='gotop'>
<i class='iconfont icon-top'></i>
</div>
<div class='ui popup dark'>回到顶部</div>
</div>
<div class='form modal normal-modal tiny ui' id='unlanding-complaint-modal'>
<i class='iconfont icon-close close'></i>
<div class='header'>
登录提示
</div>
<div class='container actions'>
<div class='content'>
该操作需登录 Gitee 帐号，请先登录后再操作。
</div>
<div class='ui orange icon large button ok'>
立即登录
</div>
<div class='ui button blank cancel'>
没有帐号，去注册
</div>
</div>
</div>
<script>
  var $elm = $('.toolbar-appeal');
  
  $elm.on('click', function() {
    var modals = $("#unlanding-complaint-modal.normal-modal");
    if (modals.length > 1) {
      modals.eq(0).modal('show');
    } else {
      modals.modal('show');
    }
  })
  $("#unlanding-complaint-modal.normal-modal").modal({
    onDeny: function() {
      window.location.href = "/signup?from=";
    },
    onApprove: function() {
      window.location.href = "/login?from=";
    }
  })
</script>

<style>
  .side-toolbar .bdsharebuttonbox a {
    font-size: 24px;
    color: white !important;
    opacity: 0.9;
    margin: 6px 6px 0px 6px;
    background-image: none;
    text-indent: 0;
    height: auto;
    width: auto;
  }
  
  #udesk_btn a{
    margin: 0px 20px 217px 0px !important;
  }
</style>
<script>
  (function() {
    $('#project-user-message').popup({
      position: 'left center'
    });
  
  }).call(this);
</script>
<script>
  Gitee.initSideToolbar({
    hasComment: true,
    commentUrl: '/yaohaixiao/calendar.js#tree_comm_title'
  })
</script>
<script>
  window._bd_share_config = {
    "common": {
      "bdSnsKey": {},
      "bdText": document.title,
      "bdMini": "1",
      "bdMiniList": ["bdxc","tqf","douban","bdhome","sqq","thx","ibaidu","meilishuo","mogujie","diandian","huaban","duitang","hx","fx","youdao","sdo","qingbiji","people","xinhua","mail","isohu","yaolan","wealink","ty","iguba","fbook","twi","linkedin","h163","evernotecn","copy","print"],
      "bdPic": "",
      "bdStyle": "1",
      "bdSize": "32"
    },
    "share": {}
  }
</script>
<script src="/bd_share/static/api/js/share.js"></script>





<script>
  (function() {
    this.__gac = {
      domain: 'www.oschina.net'
    };
  
  }).call(this);
</script>

<script src="https://assets.gitee.com/assets/bdstatic/app-070a9e339ac82bf2bf7ef20375cd4121.js"></script>
</body>
</html>
