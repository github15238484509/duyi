!function(s,e){function t(t){this.dom=t,this.data=null,this.now=0,this.imgTimer=null}t.prototype={init(){this.getDom(),this.getData("../mock/data.json")},getData(t){s.ajax({url:t,methods:"get",success:t=>{this.data=t,this.loadMusic(this.now),this.controlMusic()}})},getDom(){this.record=document.querySelector(".songImg img"),this.controlBtns=document.querySelectorAll(".control li"),this.name=document.querySelector(".name"),this.singer=document.querySelector(".singer"),this.album=document.querySelector(".album")},loadMusic(t){e.render(this.data[t],this),e.music.load(this.data[t].audioSrc),"play"===e.music.status&&(this.controlBtns[2].className="playing",e.music.play())},controlMusic(){var s=this;this.controlBtns[1].addEventListener("touchend",()=>{e.music.status="play",this.loadMusic(--this.now)}),this.controlBtns[2].addEventListener("touchend",function(){var t="pause"==e.music.status?"play":"pause";this.className="pause"==e.music.status?"playing":"",e.music[t](),"play"==t?s.imgRotate(s.record.rotate||0):s.imgStopRotate()}),this.controlBtns[3].addEventListener("touchend",()=>{e.music.status="play",this.loadMusic(++this.now),this.imgRotate(0)})},imgRotate(t){clearInterval(this.imgTimer),this.imgTimer=setInterval(()=>{t+=.2,this.record.style.transform=`rotate(${t}deg)`,this.record.rotate=t},1e3/60)},imgStopRotate(){clearInterval(this.imgTimer)}};const i=new t(document.querySelector("#wrap"));i.init(),console.log(i)}(window.Zepto,window.player);